(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function lE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zw={exports:{}},td={},e1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),cE=Symbol.for("react.portal"),uE=Symbol.for("react.fragment"),dE=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),mE=Symbol.for("react.context"),pE=Symbol.for("react.forward_ref"),gE=Symbol.for("react.suspense"),yE=Symbol.for("react.memo"),xE=Symbol.for("react.lazy"),ix=Symbol.iterator;function vE(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var t1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n1=Object.assign,s1={};function wo(t,e,n){this.props=t,this.context=e,this.refs=s1,this.updater=n||t1}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r1(){}r1.prototype=wo.prototype;function Qm(t,e,n){this.props=t,this.context=e,this.refs=s1,this.updater=n||t1}var Ym=Qm.prototype=new r1;Ym.constructor=Qm;n1(Ym,wo.prototype);Ym.isPureReactComponent=!0;var ox=Array.isArray,i1=Object.prototype.hasOwnProperty,Jm={current:null},o1={key:!0,ref:!0,__self:!0,__source:!0};function a1(t,e,n){var s,r={},i=null,a=null;if(e!=null)for(s in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)i1.call(e,s)&&!o1.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];r.children=u}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:gl,type:t,key:i,ref:a,props:r,_owner:Jm.current}}function wE(t,e){return{$$typeof:gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===gl}function _E(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ax=/\/+/g;function fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_E(""+t.key):e.toString(36)}function jc(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gl:case cE:a=!0}}if(a)return a=t,r=r(a),t=s===""?"."+fh(a,0):s,ox(r)?(n="",t!=null&&(n=t.replace(ax,"$&/")+"/"),jc(r,e,n,"",function(d){return d})):r!=null&&(Xm(r)&&(r=wE(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(ax,"$&/")+"/")+t)),e.push(r)),1;if(a=0,s=s===""?".":s+":",ox(t))for(var l=0;l<t.length;l++){i=t[l];var u=s+fh(i,l);a+=jc(i,e,n,u,r)}else if(u=vE(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=s+fh(i,l++),a+=jc(i,e,n,u,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nc(t,e,n){if(t==null)return t;var s=[],r=0;return jc(t,s,"","",function(i){return e.call(n,i,r++)}),s}function bE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Ac={transition:null},NE={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:Jm};function l1(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:nc,forEach:function(t,e,n){nc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!Xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=wo;fe.Fragment=uE;fe.Profiler=hE;fe.PureComponent=Qm;fe.StrictMode=dE;fe.Suspense=gE;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;fe.act=l1;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=n1({},t.props),r=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Jm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)i1.call(e,u)&&!o1.hasOwnProperty(u)&&(s[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:gl,type:t.type,key:r,ref:i,props:s,_owner:a}};fe.createContext=function(t){return t={$$typeof:mE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fE,_context:t},t.Consumer=t};fe.createElement=a1;fe.createFactory=function(t){var e=a1.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:pE,render:t}};fe.isValidElement=Xm;fe.lazy=function(t){return{$$typeof:xE,_payload:{_status:-1,_result:t},_init:bE}};fe.memo=function(t,e){return{$$typeof:yE,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};fe.unstable_act=l1;fe.useCallback=function(t,e){return Vt.current.useCallback(t,e)};fe.useContext=function(t){return Vt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Vt.current.useEffect(t,e)};fe.useId=function(){return Vt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Vt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};fe.useRef=function(t){return Vt.current.useRef(t)};fe.useState=function(t){return Vt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Vt.current.useTransition()};fe.version="18.3.1";e1.exports=fe;var D=e1.exports;const nd=lE(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=D,TE=Symbol.for("react.element"),EE=Symbol.for("react.fragment"),IE=Object.prototype.hasOwnProperty,kE=SE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jE={key:!0,ref:!0,__self:!0,__source:!0};function c1(t,e,n){var s,r={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(s in e)IE.call(e,s)&&!jE.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:TE,type:t,key:i,ref:a,props:r,_owner:kE.current}}td.Fragment=EE;td.jsx=c1;td.jsxs=c1;Zw.exports=td;var o=Zw.exports,df={},u1={exports:{}},nn={},d1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Z){var ae=W.length;W.push(Z);e:for(;0<ae;){var B=ae-1>>>1,re=W[B];if(0<r(re,Z))W[B]=Z,W[ae]=re,ae=B;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var Z=W[0],ae=W.pop();if(ae!==Z){W[0]=ae;e:for(var B=0,re=W.length,at=re>>>1;B<at;){var De=2*(B+1)-1,qt=W[De],We=De+1,Lt=W[We];if(0>r(qt,ae))We<re&&0>r(Lt,qt)?(W[B]=Lt,W[We]=ae,B=We):(W[B]=qt,W[De]=ae,B=De);else if(We<re&&0>r(Lt,ae))W[B]=Lt,W[We]=ae,B=We;else break e}}return Z}function r(W,Z){var ae=W.sortIndex-Z.sortIndex;return ae!==0?ae:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],d=[],f=1,h=null,p=3,y=!1,b=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(W){for(var Z=n(d);Z!==null;){if(Z.callback===null)s(d);else if(Z.startTime<=W)s(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function V(W){if(E=!1,S(W),!b)if(n(u)!==null)b=!0,ve(M);else{var Z=n(d);Z!==null&&He(V,Z.startTime-W)}}function M(W,Z){b=!1,E&&(E=!1,k(_),_=-1),y=!0;var ae=p;try{for(S(Z),h=n(u);h!==null&&(!(h.expirationTime>Z)||W&&!P());){var B=h.callback;if(typeof B=="function"){h.callback=null,p=h.priorityLevel;var re=B(h.expirationTime<=Z);Z=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(u)&&s(u),S(Z)}else s(u);h=n(u)}if(h!==null)var at=!0;else{var De=n(d);De!==null&&He(V,De.startTime-Z),at=!1}return at}finally{h=null,p=ae,y=!1}}var O=!1,I=null,_=-1,v=5,N=-1;function P(){return!(t.unstable_now()-N<v)}function R(){if(I!==null){var W=t.unstable_now();N=W;var Z=!0;try{Z=I(!0,W)}finally{Z?j():(O=!1,I=null)}}else O=!1}var j;if(typeof x=="function")j=function(){x(R)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,de=Q.port2;Q.port1.onmessage=R,j=function(){de.postMessage(null)}}else j=function(){A(R,0)};function ve(W){I=W,O||(O=!0,j())}function He(W,Z){_=A(function(){W(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,ve(M))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var ae=p;p=Z;try{return W()}finally{p=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=p;p=W;try{return Z()}finally{p=ae}},t.unstable_scheduleCallback=function(W,Z,ae){var B=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,W={id:f++,callback:Z,priorityLevel:W,startTime:ae,expirationTime:re,sortIndex:-1},ae>B?(W.sortIndex=ae,e(d,W),n(u)===null&&W===n(d)&&(E?(k(_),_=-1):E=!0,He(V,ae-B))):(W.sortIndex=re,e(u,W),b||y||(b=!0,ve(M))),W},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(W){var Z=p;return function(){var ae=p;p=Z;try{return W.apply(this,arguments)}finally{p=ae}}}})(h1);d1.exports=h1;var AE=d1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE=D,en=AE;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f1=new Set,Fa={};function di(t,e){Ji(t,e),Ji(t+"Capture",e)}function Ji(t,e){for(Fa[t]=e,t=0;t<e.length;t++)f1.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hf=Object.prototype.hasOwnProperty,PE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lx={},cx={};function RE(t){return hf.call(cx,t)?!0:hf.call(lx,t)?!1:PE.test(t)?cx[t]=!0:(lx[t]=!0,!1)}function DE(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VE(t,e,n,s){if(e===null||typeof e>"u"||DE(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mt(t,e,n,s,r,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zm=/[\-:]([a-z])/g;function ep(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zm,ep);vt[e]=new Mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zm,ep);vt[e]=new Mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zm,ep);vt[e]=new Mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function tp(t,e,n,s){var r=vt.hasOwnProperty(e)?vt[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VE(e,n,r,s)&&(n=null),s||r===null?RE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var ws=CE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sc=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),np=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),sp=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),pf=Symbol.for("react.suspense_list"),rp=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),g1=Symbol.for("react.offscreen"),ux=Symbol.iterator;function Yo(t){return t===null||typeof t!="object"?null:(t=ux&&t[ux]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,mh;function oa(t){if(mh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mh=e&&e[1]||""}return`
`+mh+t}var ph=!1;function gh(t,e){if(!t||ph)return"";ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var s=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){s=d}t.call(e.prototype)}else{try{throw Error()}catch(d){s=d}t()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=s.stack.split(`
`),a=r.length-1,l=i.length-1;1<=a&&0<=l&&r[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(r[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||r[a]!==i[l]){var u=`
`+r[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function ME(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=gh(t.type,!1),t;case 11:return t=gh(t.type.render,!1),t;case 1:return t=gh(t.type,!0),t;default:return""}}function gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case Ti:return"Portal";case ff:return"Profiler";case np:return"StrictMode";case mf:return"Suspense";case pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p1:return(t.displayName||"Context")+".Consumer";case m1:return(t._context.displayName||"Context")+".Provider";case sp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rp:return e=t.displayName||null,e!==null?e:gf(t.type)||"Memo";case Ds:e=t._payload,t=t._init;try{return gf(t(e))}catch{}}return null}function LE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gf(e);case 8:return e===np?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OE(t){var e=y1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){s=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(a){s=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=OE(t))}function x1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=y1(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yf(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dx(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=lr(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v1(t,e){e=e.checked,e!=null&&tp(t,"checked",e,!1)}function xf(t,e){v1(t,e);var n=lr(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vf(t,e.type,n):e.hasOwnProperty("defaultValue")&&vf(t,e.type,lr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vf(t,e,n){(e!=="number"||eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var aa=Array.isArray;function $i(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+lr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(aa(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lr(n)}}function w1(t,e){var n=lr(e.value),s=lr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function mx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,b1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FE=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(t){FE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ya[e]=ya[t]})});function N1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ya.hasOwnProperty(t)&&ya[t]?(""+e).trim():e+"px"}function S1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=N1(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var UE=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bf(t,e){if(e){if(UE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Nf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=null;function ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tf=null,Bi=null,zi=null;function px(t){if(t=vl(t)){if(typeof Tf!="function")throw Error(H(280));var e=t.stateNode;e&&(e=ad(e),Tf(t.stateNode,t.type,e))}}function T1(t){Bi?zi?zi.push(t):zi=[t]:Bi=t}function E1(){if(Bi){var t=Bi,e=zi;if(zi=Bi=null,px(t),e)for(t=0;t<e.length;t++)px(e[t])}}function I1(t,e){return t(e)}function k1(){}var yh=!1;function j1(t,e,n){if(yh)return t(e,n);yh=!0;try{return I1(t,e,n)}finally{yh=!1,(Bi!==null||zi!==null)&&(k1(),E1())}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var s=ad(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Ef=!1;if(ds)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Ef=!1}function $E(t,e,n,s,r,i,a,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var xa=!1,tu=null,nu=!1,If=null,BE={onError:function(t){xa=!0,tu=t}};function zE(t,e,n,s,r,i,a,l,u){xa=!1,tu=null,$E.apply(BE,arguments)}function HE(t,e,n,s,r,i,a,l,u){if(zE.apply(this,arguments),xa){if(xa){var d=tu;xa=!1,tu=null}else throw Error(H(198));nu||(nu=!0,If=d)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gx(t){if(hi(t)!==t)throw Error(H(188))}function WE(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return gx(r),t;if(i===s)return gx(r),e;i=i.sibling}throw Error(H(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==s)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function C1(t){return t=WE(t),t!==null?P1(t):null}function P1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P1(t);if(e!==null)return e;t=t.sibling}return null}var R1=en.unstable_scheduleCallback,yx=en.unstable_cancelCallback,qE=en.unstable_shouldYield,GE=en.unstable_requestPaint,Ge=en.unstable_now,KE=en.unstable_getCurrentPriorityLevel,op=en.unstable_ImmediatePriority,D1=en.unstable_UserBlockingPriority,su=en.unstable_NormalPriority,QE=en.unstable_LowPriority,V1=en.unstable_IdlePriority,sd=null,Mn=null;function YE(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(sd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:ZE,JE=Math.log,XE=Math.LN2;function ZE(t){return t>>>=0,t===0?32:31-(JE(t)/XE|0)|0}var oc=64,ac=4194304;function la(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~r;l!==0?s=la(l):(i&=a,i!==0&&(s=la(i)))}else a=n&~r,a!==0?s=la(a):i!==0&&(s=la(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-bn(e),r=1<<n,s|=t[n],e&=~r;return s}function eI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tI(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-bn(i),l=1<<a,u=r[a];u===-1?(!(l&n)||l&s)&&(r[a]=eI(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M1(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function nI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-bn(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function ap(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-bn(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var _e=0;function L1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O1,lp,F1,U1,$1,jf=!1,lc=[],Ws=null,qs=null,Gs=null,Ba=new Map,za=new Map,Ls=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xx(t,e){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(e.pointerId)}}function Xo(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=vl(e),e!==null&&lp(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function rI(t,e,n,s,r){switch(e){case"focusin":return Ws=Xo(Ws,t,e,n,s,r),!0;case"dragenter":return qs=Xo(qs,t,e,n,s,r),!0;case"mouseover":return Gs=Xo(Gs,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Ba.set(i,Xo(Ba.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,za.set(i,Xo(za.get(i)||null,t,e,n,s,r)),!0}return!1}function B1(t){var e=Br(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=A1(n),e!==null){t.blockedOn=e,$1(t.priority,function(){F1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Sf=s,n.target.dispatchEvent(s),Sf=null}else return e=vl(n),e!==null&&lp(e),t.blockedOn=n,!1;e.shift()}return!0}function vx(t,e,n){Cc(t)&&n.delete(e)}function iI(){jf=!1,Ws!==null&&Cc(Ws)&&(Ws=null),qs!==null&&Cc(qs)&&(qs=null),Gs!==null&&Cc(Gs)&&(Gs=null),Ba.forEach(vx),za.forEach(vx)}function Zo(t,e){t.blockedOn===e&&(t.blockedOn=null,jf||(jf=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,iI)))}function Ha(t){function e(r){return Zo(r,t)}if(0<lc.length){Zo(lc[0],t);for(var n=1;n<lc.length;n++){var s=lc[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Ws!==null&&Zo(Ws,t),qs!==null&&Zo(qs,t),Gs!==null&&Zo(Gs,t),Ba.forEach(e),za.forEach(e),n=0;n<Ls.length;n++)s=Ls[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Ls.length&&(n=Ls[0],n.blockedOn===null);)B1(n),n.blockedOn===null&&Ls.shift()}var Hi=ws.ReactCurrentBatchConfig,iu=!0;function oI(t,e,n,s){var r=_e,i=Hi.transition;Hi.transition=null;try{_e=1,cp(t,e,n,s)}finally{_e=r,Hi.transition=i}}function aI(t,e,n,s){var r=_e,i=Hi.transition;Hi.transition=null;try{_e=4,cp(t,e,n,s)}finally{_e=r,Hi.transition=i}}function cp(t,e,n,s){if(iu){var r=Af(t,e,n,s);if(r===null)kh(t,e,s,ou,n),xx(t,s);else if(rI(r,t,e,n,s))s.stopPropagation();else if(xx(t,s),e&4&&-1<sI.indexOf(t)){for(;r!==null;){var i=vl(r);if(i!==null&&O1(i),i=Af(t,e,n,s),i===null&&kh(t,e,s,ou,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else kh(t,e,s,null,n)}}var ou=null;function Af(t,e,n,s){if(ou=null,t=ip(s),t=Br(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function z1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KE()){case op:return 1;case D1:return 4;case su:case QE:return 16;case V1:return 536870912;default:return 16}default:return 16}}var Bs=null,up=null,Pc=null;function H1(){if(Pc)return Pc;var t,e=up,n=e.length,s,r="value"in Bs?Bs.value:Bs.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Pc=r.slice(t,1<s?1-s:void 0)}function Rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cc(){return!0}function wx(){return!1}function sn(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cc:wx,this.isPropagationStopped=wx,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dp=sn(_o),xl=Oe({},_o,{view:0,detail:0}),lI=sn(xl),vh,wh,ea,rd=Oe({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ea&&(ea&&t.type==="mousemove"?(vh=t.screenX-ea.screenX,wh=t.screenY-ea.screenY):wh=vh=0,ea=t),vh)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),_x=sn(rd),cI=Oe({},rd,{dataTransfer:0}),uI=sn(cI),dI=Oe({},xl,{relatedTarget:0}),_h=sn(dI),hI=Oe({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),fI=sn(hI),mI=Oe({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pI=sn(mI),gI=Oe({},_o,{data:0}),bx=sn(gI),yI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vI[t])?!!e[t]:!1}function hp(){return wI}var _I=Oe({},xl,{key:function(t){if(t.key){var e=yI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hp,charCode:function(t){return t.type==="keypress"?Rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bI=sn(_I),NI=Oe({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nx=sn(NI),SI=Oe({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hp}),TI=sn(SI),EI=Oe({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),II=sn(EI),kI=Oe({},rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jI=sn(kI),AI=[9,13,27,32],fp=ds&&"CompositionEvent"in window,va=null;ds&&"documentMode"in document&&(va=document.documentMode);var CI=ds&&"TextEvent"in window&&!va,W1=ds&&(!fp||va&&8<va&&11>=va),Sx=" ",Tx=!1;function q1(t,e){switch(t){case"keyup":return AI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function PI(t,e){switch(t){case"compositionend":return G1(e);case"keypress":return e.which!==32?null:(Tx=!0,Sx);case"textInput":return t=e.data,t===Sx&&Tx?null:t;default:return null}}function RI(t,e){if(Ii)return t==="compositionend"||!fp&&q1(t,e)?(t=H1(),Pc=up=Bs=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W1&&e.locale!=="ko"?null:e.data;default:return null}}var DI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ex(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DI[t.type]:e==="textarea"}function K1(t,e,n,s){T1(s),e=au(e,"onChange"),0<e.length&&(n=new dp("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var wa=null,Wa=null;function VI(t){i_(t,0)}function id(t){var e=Ai(t);if(x1(e))return t}function MI(t,e){if(t==="change")return e}var Q1=!1;if(ds){var bh;if(ds){var Nh="oninput"in document;if(!Nh){var Ix=document.createElement("div");Ix.setAttribute("oninput","return;"),Nh=typeof Ix.oninput=="function"}bh=Nh}else bh=!1;Q1=bh&&(!document.documentMode||9<document.documentMode)}function kx(){wa&&(wa.detachEvent("onpropertychange",Y1),Wa=wa=null)}function Y1(t){if(t.propertyName==="value"&&id(Wa)){var e=[];K1(e,Wa,t,ip(t)),j1(VI,e)}}function LI(t,e,n){t==="focusin"?(kx(),wa=e,Wa=n,wa.attachEvent("onpropertychange",Y1)):t==="focusout"&&kx()}function OI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return id(Wa)}function FI(t,e){if(t==="click")return id(e)}function UI(t,e){if(t==="input"||t==="change")return id(e)}function $I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var En=typeof Object.is=="function"?Object.is:$I;function qa(t,e){if(En(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!hf.call(e,r)||!En(t[r],e[r]))return!1}return!0}function jx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ax(t,e){var n=jx(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jx(n)}}function J1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X1(){for(var t=window,e=eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eu(t.document)}return e}function mp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BI(t){var e=X1(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J1(n.ownerDocument.documentElement,n)){if(s!==null&&mp(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Ax(n,i);var a=Ax(n,s);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zI=ds&&"documentMode"in document&&11>=document.documentMode,ki=null,Cf=null,_a=null,Pf=!1;function Cx(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||ki==null||ki!==eu(s)||(s=ki,"selectionStart"in s&&mp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),_a&&qa(_a,s)||(_a=s,s=au(Cf,"onSelect"),0<s.length&&(e=new dp("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ki)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ji={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Sh={},Z1={};ds&&(Z1=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function od(t){if(Sh[t])return Sh[t];if(!ji[t])return t;var e=ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z1)return Sh[t]=e[n];return t}var e_=od("animationend"),t_=od("animationiteration"),n_=od("animationstart"),s_=od("transitionend"),r_=new Map,Px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(t,e){r_.set(t,e),di(e,[t])}for(var Th=0;Th<Px.length;Th++){var Eh=Px[Th],HI=Eh.toLowerCase(),WI=Eh[0].toUpperCase()+Eh.slice(1);vr(HI,"on"+WI)}vr(e_,"onAnimationEnd");vr(t_,"onAnimationIteration");vr(n_,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(s_,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Rx(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,HE(s,e,void 0,t),t.currentTarget=null}function i_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==i&&r.isPropagationStopped())break e;Rx(r,l,d),i=u}else for(a=0;a<s.length;a++){if(l=s[a],u=l.instance,d=l.currentTarget,l=l.listener,u!==i&&r.isPropagationStopped())break e;Rx(r,l,d),i=u}}}if(nu)throw t=If,nu=!1,If=null,t}function je(t,e){var n=e[Lf];n===void 0&&(n=e[Lf]=new Set);var s=t+"__bubble";n.has(s)||(o_(e,t,2,!1),n.add(s))}function Ih(t,e,n){var s=0;e&&(s|=4),o_(n,t,s,e)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[dc]){t[dc]=!0,f1.forEach(function(n){n!=="selectionchange"&&(qI.has(n)||Ih(n,!1,t),Ih(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dc]||(e[dc]=!0,Ih("selectionchange",!1,e))}}function o_(t,e,n,s){switch(z1(e)){case 1:var r=oI;break;case 4:r=aI;break;default:r=cp}n=r.bind(null,e,n,t),r=void 0,!Ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function kh(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(a===4)for(a=s.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;a=a.return}for(;l!==null;){if(a=Br(l),a===null)return;if(u=a.tag,u===5||u===6){s=i=a;continue e}l=l.parentNode}}s=s.return}j1(function(){var d=i,f=ip(n),h=[];e:{var p=r_.get(t);if(p!==void 0){var y=dp,b=t;switch(t){case"keypress":if(Rc(n)===0)break e;case"keydown":case"keyup":y=bI;break;case"focusin":b="focus",y=_h;break;case"focusout":b="blur",y=_h;break;case"beforeblur":case"afterblur":y=_h;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=uI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=TI;break;case e_:case t_:case n_:y=fI;break;case s_:y=II;break;case"scroll":y=lI;break;case"wheel":y=jI;break;case"copy":case"cut":case"paste":y=pI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Nx}var E=(e&4)!==0,A=!E&&t==="scroll",k=E?p!==null?p+"Capture":null:p;E=[];for(var x=d,S;x!==null;){S=x;var V=S.stateNode;if(S.tag===5&&V!==null&&(S=V,k!==null&&(V=$a(x,k),V!=null&&E.push(Ka(x,V,S)))),A)break;x=x.return}0<E.length&&(p=new y(p,b,null,n,f),h.push({event:p,listeners:E}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Sf&&(b=n.relatedTarget||n.fromElement)&&(Br(b)||b[hs]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=d,b=b?Br(b):null,b!==null&&(A=hi(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(E=_x,V="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(E=Nx,V="onPointerLeave",k="onPointerEnter",x="pointer"),A=y==null?p:Ai(y),S=b==null?p:Ai(b),p=new E(V,x+"leave",y,n,f),p.target=A,p.relatedTarget=S,V=null,Br(f)===d&&(E=new E(k,x+"enter",b,n,f),E.target=S,E.relatedTarget=A,V=E),A=V,y&&b)t:{for(E=y,k=b,x=0,S=E;S;S=wi(S))x++;for(S=0,V=k;V;V=wi(V))S++;for(;0<x-S;)E=wi(E),x--;for(;0<S-x;)k=wi(k),S--;for(;x--;){if(E===k||k!==null&&E===k.alternate)break t;E=wi(E),k=wi(k)}E=null}else E=null;y!==null&&Dx(h,p,y,E,!1),b!==null&&A!==null&&Dx(h,A,b,E,!0)}}e:{if(p=d?Ai(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=MI;else if(Ex(p))if(Q1)M=UI;else{M=OI;var O=LI}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=FI);if(M&&(M=M(t,d))){K1(h,M,n,f);break e}O&&O(t,p,d),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&vf(p,"number",p.value)}switch(O=d?Ai(d):window,t){case"focusin":(Ex(O)||O.contentEditable==="true")&&(ki=O,Cf=d,_a=null);break;case"focusout":_a=Cf=ki=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Cx(h,n,f);break;case"selectionchange":if(zI)break;case"keydown":case"keyup":Cx(h,n,f)}var I;if(fp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ii?q1(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(W1&&n.locale!=="ko"&&(Ii||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ii&&(I=H1()):(Bs=f,up="value"in Bs?Bs.value:Bs.textContent,Ii=!0)),O=au(d,_),0<O.length&&(_=new bx(_,t,null,n,f),h.push({event:_,listeners:O}),I?_.data=I:(I=G1(n),I!==null&&(_.data=I)))),(I=CI?PI(t,n):RI(t,n))&&(d=au(d,"onBeforeInput"),0<d.length&&(f=new bx("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=I))}i_(h,e)})}function Ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function au(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=$a(t,n),i!=null&&s.unshift(Ka(t,i,r)),i=$a(t,e),i!=null&&s.push(Ka(t,i,r))),t=t.return}return s}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Dx(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===s)break;l.tag===5&&d!==null&&(l=d,r?(u=$a(n,i),u!=null&&a.unshift(Ka(n,u,l))):r||(u=$a(n,i),u!=null&&a.push(Ka(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var GI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function Vx(t){return(typeof t=="string"?t:""+t).replace(GI,`
`).replace(KI,"")}function hc(t,e,n){if(e=Vx(e),Vx(t)!==e&&n)throw Error(H(425))}function lu(){}var Rf=null,Df=null;function Vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mf=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,Mx=typeof Promise=="function"?Promise:void 0,YI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mx<"u"?function(t){return Mx.resolve(null).then(t).catch(JI)}:Mf;function JI(t){setTimeout(function(){throw t})}function jh(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Ha(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Ha(e)}function Ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+bo,Qa="__reactProps$"+bo,hs="__reactContainer$"+bo,Lf="__reactEvents$"+bo,XI="__reactListeners$"+bo,ZI="__reactHandles$"+bo;function Br(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hs]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lx(t);t!==null;){if(n=t[Vn])return n;t=Lx(t)}return e}t=n,n=t.parentNode}return null}function vl(t){return t=t[Vn]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ai(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function ad(t){return t[Qa]||null}var Of=[],Ci=-1;function wr(t){return{current:t}}function Ce(t){0>Ci||(t.current=Of[Ci],Of[Ci]=null,Ci--)}function Ee(t,e){Ci++,Of[Ci]=t.current,t.current=e}var cr={},kt=wr(cr),Bt=wr(!1),ei=cr;function Xi(t,e){var n=t.type.contextTypes;if(!n)return cr;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function zt(t){return t=t.childContextTypes,t!=null}function cu(){Ce(Bt),Ce(kt)}function Ox(t,e,n){if(kt.current!==cr)throw Error(H(168));Ee(kt,e),Ee(Bt,n)}function a_(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(H(108,LE(t)||"Unknown",r));return Oe({},n,s)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cr,ei=kt.current,Ee(kt,t),Ee(Bt,Bt.current),!0}function Fx(t,e,n){var s=t.stateNode;if(!s)throw Error(H(169));n?(t=a_(t,e,ei),s.__reactInternalMemoizedMergedChildContext=t,Ce(Bt),Ce(kt),Ee(kt,t)):Ce(Bt),Ee(Bt,n)}var Jn=null,ld=!1,Ah=!1;function l_(t){Jn===null?Jn=[t]:Jn.push(t)}function ek(t){ld=!0,l_(t)}function _r(){if(!Ah&&Jn!==null){Ah=!0;var t=0,e=_e;try{var n=Jn;for(_e=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Jn=null,ld=!1}catch(r){throw Jn!==null&&(Jn=Jn.slice(t+1)),R1(op,_r),r}finally{_e=e,Ah=!1}}return null}var Pi=[],Ri=0,du=null,hu=0,ln=[],cn=0,ti=null,es=1,ts="";function Dr(t,e){Pi[Ri++]=hu,Pi[Ri++]=du,du=t,hu=e}function c_(t,e,n){ln[cn++]=es,ln[cn++]=ts,ln[cn++]=ti,ti=t;var s=es;t=ts;var r=32-bn(s)-1;s&=~(1<<r),n+=1;var i=32-bn(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,es=1<<32-bn(e)+r|n<<r|s,ts=i+t}else es=1<<i|n<<r|s,ts=t}function pp(t){t.return!==null&&(Dr(t,1),c_(t,1,0))}function gp(t){for(;t===du;)du=Pi[--Ri],Pi[Ri]=null,hu=Pi[--Ri],Pi[Ri]=null;for(;t===ti;)ti=ln[--cn],ln[cn]=null,ts=ln[--cn],ln[cn]=null,es=ln[--cn],ln[cn]=null}var Xt=null,Yt=null,Re=!1,wn=null;function u_(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ux(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=Ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ti!==null?{id:es,overflow:ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Yt=null,!0):!1;default:return!1}}function Ff(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Uf(t){if(Re){var e=Yt;if(e){var n=e;if(!Ux(t,e)){if(Ff(t))throw Error(H(418));e=Ks(n.nextSibling);var s=Xt;e&&Ux(t,e)?u_(s,n):(t.flags=t.flags&-4097|2,Re=!1,Xt=t)}}else{if(Ff(t))throw Error(H(418));t.flags=t.flags&-4097|2,Re=!1,Xt=t}}}function $x(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function fc(t){if(t!==Xt)return!1;if(!Re)return $x(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vf(t.type,t.memoizedProps)),e&&(e=Yt)){if(Ff(t))throw d_(),Error(H(418));for(;e;)u_(t,e),e=Ks(e.nextSibling)}if($x(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=Ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Xt?Ks(t.stateNode.nextSibling):null;return!0}function d_(){for(var t=Yt;t;)t=Ks(t.nextSibling)}function Zi(){Yt=Xt=null,Re=!1}function yp(t){wn===null?wn=[t]:wn.push(t)}var tk=ws.ReactCurrentBatchConfig;function ta(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var s=n.stateNode}if(!s)throw Error(H(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var l=r.refs;a===null?delete l[i]:l[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function mc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bx(t){var e=t._init;return e(t._payload)}function h_(t){function e(k,x){if(t){var S=k.deletions;S===null?(k.deletions=[x],k.flags|=16):S.push(x)}}function n(k,x){if(!t)return null;for(;x!==null;)e(k,x),x=x.sibling;return null}function s(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function r(k,x){return k=Xs(k,x),k.index=0,k.sibling=null,k}function i(k,x,S){return k.index=S,t?(S=k.alternate,S!==null?(S=S.index,S<x?(k.flags|=2,x):S):(k.flags|=2,x)):(k.flags|=1048576,x)}function a(k){return t&&k.alternate===null&&(k.flags|=2),k}function l(k,x,S,V){return x===null||x.tag!==6?(x=Lh(S,k.mode,V),x.return=k,x):(x=r(x,S),x.return=k,x)}function u(k,x,S,V){var M=S.type;return M===Ei?f(k,x,S.props.children,V,S.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ds&&Bx(M)===x.type)?(V=r(x,S.props),V.ref=ta(k,x,S),V.return=k,V):(V=Uc(S.type,S.key,S.props,null,k.mode,V),V.ref=ta(k,x,S),V.return=k,V)}function d(k,x,S,V){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Oh(S,k.mode,V),x.return=k,x):(x=r(x,S.children||[]),x.return=k,x)}function f(k,x,S,V,M){return x===null||x.tag!==7?(x=Qr(S,k.mode,V,M),x.return=k,x):(x=r(x,S),x.return=k,x)}function h(k,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Lh(""+x,k.mode,S),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sc:return S=Uc(x.type,x.key,x.props,null,k.mode,S),S.ref=ta(k,null,x),S.return=k,S;case Ti:return x=Oh(x,k.mode,S),x.return=k,x;case Ds:var V=x._init;return h(k,V(x._payload),S)}if(aa(x)||Yo(x))return x=Qr(x,k.mode,S,null),x.return=k,x;mc(k,x)}return null}function p(k,x,S,V){var M=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:l(k,x,""+S,V);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sc:return S.key===M?u(k,x,S,V):null;case Ti:return S.key===M?d(k,x,S,V):null;case Ds:return M=S._init,p(k,x,M(S._payload),V)}if(aa(S)||Yo(S))return M!==null?null:f(k,x,S,V,null);mc(k,S)}return null}function y(k,x,S,V,M){if(typeof V=="string"&&V!==""||typeof V=="number")return k=k.get(S)||null,l(x,k,""+V,M);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case sc:return k=k.get(V.key===null?S:V.key)||null,u(x,k,V,M);case Ti:return k=k.get(V.key===null?S:V.key)||null,d(x,k,V,M);case Ds:var O=V._init;return y(k,x,S,O(V._payload),M)}if(aa(V)||Yo(V))return k=k.get(S)||null,f(x,k,V,M,null);mc(x,V)}return null}function b(k,x,S,V){for(var M=null,O=null,I=x,_=x=0,v=null;I!==null&&_<S.length;_++){I.index>_?(v=I,I=null):v=I.sibling;var N=p(k,I,S[_],V);if(N===null){I===null&&(I=v);break}t&&I&&N.alternate===null&&e(k,I),x=i(N,x,_),O===null?M=N:O.sibling=N,O=N,I=v}if(_===S.length)return n(k,I),Re&&Dr(k,_),M;if(I===null){for(;_<S.length;_++)I=h(k,S[_],V),I!==null&&(x=i(I,x,_),O===null?M=I:O.sibling=I,O=I);return Re&&Dr(k,_),M}for(I=s(k,I);_<S.length;_++)v=y(I,k,_,S[_],V),v!==null&&(t&&v.alternate!==null&&I.delete(v.key===null?_:v.key),x=i(v,x,_),O===null?M=v:O.sibling=v,O=v);return t&&I.forEach(function(P){return e(k,P)}),Re&&Dr(k,_),M}function E(k,x,S,V){var M=Yo(S);if(typeof M!="function")throw Error(H(150));if(S=M.call(S),S==null)throw Error(H(151));for(var O=M=null,I=x,_=x=0,v=null,N=S.next();I!==null&&!N.done;_++,N=S.next()){I.index>_?(v=I,I=null):v=I.sibling;var P=p(k,I,N.value,V);if(P===null){I===null&&(I=v);break}t&&I&&P.alternate===null&&e(k,I),x=i(P,x,_),O===null?M=P:O.sibling=P,O=P,I=v}if(N.done)return n(k,I),Re&&Dr(k,_),M;if(I===null){for(;!N.done;_++,N=S.next())N=h(k,N.value,V),N!==null&&(x=i(N,x,_),O===null?M=N:O.sibling=N,O=N);return Re&&Dr(k,_),M}for(I=s(k,I);!N.done;_++,N=S.next())N=y(I,k,_,N.value,V),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?_:N.key),x=i(N,x,_),O===null?M=N:O.sibling=N,O=N);return t&&I.forEach(function(R){return e(k,R)}),Re&&Dr(k,_),M}function A(k,x,S,V){if(typeof S=="object"&&S!==null&&S.type===Ei&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case sc:e:{for(var M=S.key,O=x;O!==null;){if(O.key===M){if(M=S.type,M===Ei){if(O.tag===7){n(k,O.sibling),x=r(O,S.props.children),x.return=k,k=x;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ds&&Bx(M)===O.type){n(k,O.sibling),x=r(O,S.props),x.ref=ta(k,O,S),x.return=k,k=x;break e}n(k,O);break}else e(k,O);O=O.sibling}S.type===Ei?(x=Qr(S.props.children,k.mode,V,S.key),x.return=k,k=x):(V=Uc(S.type,S.key,S.props,null,k.mode,V),V.ref=ta(k,x,S),V.return=k,k=V)}return a(k);case Ti:e:{for(O=S.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(k,x.sibling),x=r(x,S.children||[]),x.return=k,k=x;break e}else{n(k,x);break}else e(k,x);x=x.sibling}x=Oh(S,k.mode,V),x.return=k,k=x}return a(k);case Ds:return O=S._init,A(k,x,O(S._payload),V)}if(aa(S))return b(k,x,S,V);if(Yo(S))return E(k,x,S,V);mc(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(k,x.sibling),x=r(x,S),x.return=k,k=x):(n(k,x),x=Lh(S,k.mode,V),x.return=k,k=x),a(k)):n(k,x)}return A}var eo=h_(!0),f_=h_(!1),fu=wr(null),mu=null,Di=null,xp=null;function vp(){xp=Di=mu=null}function wp(t){var e=fu.current;Ce(fu),t._currentValue=e}function $f(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Wi(t,e){mu=t,xp=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(xp!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(mu===null)throw Error(H(308));Di=t,mu.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var zr=null;function _p(t){zr===null?zr=[t]:zr.push(t)}function m_(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,_p(e)):(n.next=r.next,r.next=n),e.interleaved=n,fs(t,s)}function fs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vs=!1;function bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,xe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,fs(t,n)}return r=s.interleaved,r===null?(e.next=e,_p(s)):(e.next=r.next,r.next=e),s.interleaved=e,fs(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,ap(t,n)}}function zx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,s){var r=t.updateQueue;Vs=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=u))}if(i!==null){var h=r.baseState;a=0,f=d=u=null,l=i;do{var p=l.lane,y=l.eventTime;if((s&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,E=l;switch(p=e,y=n,E.tag){case 1:if(b=E.payload,typeof b=="function"){h=b.call(y,h,p);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,p=typeof b=="function"?b.call(y,h,p):b,p==null)break e;h=Oe({},h,p);break e;case 2:Vs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=y,u=h):f=f.next=y,a|=p;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(u=h),r.baseState=u,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);si|=a,t.lanes=a,t.memoizedState=h}}function Hx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(H(191,r));r.call(s)}}}var wl={},Ln=wr(wl),Ya=wr(wl),Ja=wr(wl);function Hr(t){if(t===wl)throw Error(H(174));return t}function Np(t,e){switch(Ee(Ja,e),Ee(Ya,t),Ee(Ln,wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_f(e,t)}Ce(Ln),Ee(Ln,e)}function to(){Ce(Ln),Ce(Ya),Ce(Ja)}function g_(t){Hr(Ja.current);var e=Hr(Ln.current),n=_f(e,t.type);e!==n&&(Ee(Ya,t),Ee(Ln,n))}function Sp(t){Ya.current===t&&(Ce(Ln),Ce(Ya))}var Ve=wr(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ch=[];function Tp(){for(var t=0;t<Ch.length;t++)Ch[t]._workInProgressVersionPrimary=null;Ch.length=0}var Vc=ws.ReactCurrentDispatcher,Ph=ws.ReactCurrentBatchConfig,ni=0,Le=null,rt=null,dt=null,yu=!1,ba=!1,Xa=0,nk=0;function _t(){throw Error(H(321))}function Ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!En(t[n],e[n]))return!1;return!0}function Ip(t,e,n,s,r,i){if(ni=i,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?ok:ak,t=n(s,r),ba){i=0;do{if(ba=!1,Xa=0,25<=i)throw Error(H(301));i+=1,dt=rt=null,e.updateQueue=null,Vc.current=lk,t=n(s,r)}while(ba)}if(Vc.current=xu,e=rt!==null&&rt.next!==null,ni=0,dt=rt=Le=null,yu=!1,e)throw Error(H(300));return t}function kp(){var t=Xa!==0;return Xa=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Le.memoizedState=dt=t:dt=dt.next=t,dt}function pn(){if(rt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=dt===null?Le.memoizedState:dt.next;if(e!==null)dt=e,rt=t;else{if(t===null)throw Error(H(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},dt===null?Le.memoizedState=dt=t:dt=dt.next=t}return dt}function Za(t,e){return typeof e=="function"?e(t):e}function Rh(t){var e=pn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var s=rt,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var l=a=null,u=null,d=i;do{var f=d.lane;if((ni&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:t(s,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=h,a=s):u=u.next=h,Le.lanes|=f,si|=f}d=d.next}while(d!==null&&d!==i);u===null?a=s:u.next=l,En(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=u,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,Le.lanes|=i,si|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dh(t){var e=pn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);En(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function y_(){}function x_(t,e){var n=Le,s=pn(),r=e(),i=!En(s.memoizedState,r);if(i&&(s.memoizedState=r,$t=!0),s=s.queue,jp(__.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,el(9,w_.bind(null,n,s,r,e),void 0,null),ht===null)throw Error(H(349));ni&30||v_(n,e,r)}return r}function v_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w_(t,e,n,s){e.value=n,e.getSnapshot=s,b_(e)&&N_(t)}function __(t,e,n){return n(function(){b_(e)&&N_(t)})}function b_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!En(t,n)}catch{return!0}}function N_(t){var e=fs(t,1);e!==null&&Nn(e,t,1,-1)}function Wx(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:t},e.queue=t,t=t.dispatch=ik.bind(null,Le,t),[e.memoizedState,t]}function el(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function S_(){return pn().memoizedState}function Mc(t,e,n,s){var r=Rn();Le.flags|=t,r.memoizedState=el(1|e,n,void 0,s===void 0?null:s)}function cd(t,e,n,s){var r=pn();s=s===void 0?null:s;var i=void 0;if(rt!==null){var a=rt.memoizedState;if(i=a.destroy,s!==null&&Ep(s,a.deps)){r.memoizedState=el(e,n,i,s);return}}Le.flags|=t,r.memoizedState=el(1|e,n,i,s)}function qx(t,e){return Mc(8390656,8,t,e)}function jp(t,e){return cd(2048,8,t,e)}function T_(t,e){return cd(4,2,t,e)}function E_(t,e){return cd(4,4,t,e)}function I_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k_(t,e,n){return n=n!=null?n.concat([t]):null,cd(4,4,I_.bind(null,e,t),n)}function Ap(){}function j_(t,e){var n=pn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ep(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function A_(t,e){var n=pn();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&Ep(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function C_(t,e,n){return ni&21?(En(n,e)||(n=M1(),Le.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function sk(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var s=Ph.transition;Ph.transition={};try{t(!1),e()}finally{_e=n,Ph.transition=s}}function P_(){return pn().memoizedState}function rk(t,e,n){var s=Js(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},R_(t))D_(e,n);else if(n=m_(t,e,n,s),n!==null){var r=Dt();Nn(n,t,s,r),V_(n,e,s)}}function ik(t,e,n){var s=Js(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(R_(t))D_(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,En(l,a)){var u=e.interleaved;u===null?(r.next=r,_p(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=m_(t,e,r,s),n!==null&&(r=Dt(),Nn(n,t,s,r),V_(n,e,s))}}function R_(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function D_(t,e){ba=yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V_(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,ap(t,n)}}var xu={readContext:mn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},ok={readContext:mn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:qx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mc(4194308,4,I_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mc(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Rn();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=rk.bind(null,Le,t),[s.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:Wx,useDebugValue:Ap,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=Wx(!1),e=t[0];return t=sk.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=Le,r=Rn();if(Re){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ht===null)throw Error(H(349));ni&30||v_(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,qx(__.bind(null,s,i,t),[t]),s.flags|=2048,el(9,w_.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Rn(),e=ht.identifierPrefix;if(Re){var n=ts,s=es;n=(s&~(1<<32-bn(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ak={readContext:mn,useCallback:j_,useContext:mn,useEffect:jp,useImperativeHandle:k_,useInsertionEffect:T_,useLayoutEffect:E_,useMemo:A_,useReducer:Rh,useRef:S_,useState:function(){return Rh(Za)},useDebugValue:Ap,useDeferredValue:function(t){var e=pn();return C_(e,rt.memoizedState,t)},useTransition:function(){var t=Rh(Za)[0],e=pn().memoizedState;return[t,e]},useMutableSource:y_,useSyncExternalStore:x_,useId:P_,unstable_isNewReconciler:!1},lk={readContext:mn,useCallback:j_,useContext:mn,useEffect:jp,useImperativeHandle:k_,useInsertionEffect:T_,useLayoutEffect:E_,useMemo:A_,useReducer:Dh,useRef:S_,useState:function(){return Dh(Za)},useDebugValue:Ap,useDeferredValue:function(t){var e=pn();return rt===null?e.memoizedState=t:C_(e,rt.memoizedState,t)},useTransition:function(){var t=Dh(Za)[0],e=pn().memoizedState;return[t,e]},useMutableSource:y_,useSyncExternalStore:x_,useId:P_,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bf(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ud={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Dt(),r=Js(t),i=is(s,r);i.payload=e,n!=null&&(i.callback=n),e=Qs(t,i,r),e!==null&&(Nn(e,t,r,s),Dc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Dt(),r=Js(t),i=is(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qs(t,i,r),e!==null&&(Nn(e,t,r,s),Dc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),s=Js(t),r=is(n,s);r.tag=2,e!=null&&(r.callback=e),e=Qs(t,r,s),e!==null&&(Nn(e,t,s,n),Dc(e,t,s))}};function Gx(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!qa(n,s)||!qa(r,i):!0}function M_(t,e,n){var s=!1,r=cr,i=e.contextType;return typeof i=="object"&&i!==null?i=mn(i):(r=zt(e)?ei:kt.current,s=e.contextTypes,i=(s=s!=null)?Xi(t,r):cr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ud,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Kx(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ud.enqueueReplaceState(e,e.state,null)}function zf(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},bp(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=mn(i):(i=zt(e)?ei:kt.current,r.context=Xi(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bf(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ud.enqueueReplaceState(r,r.state,null),pu(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",s=e;do n+=ME(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Vh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function L_(t,e,n){n=is(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){wu||(wu=!0,em=s),Hf(t,e)},n}function O_(t,e,n){n=is(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Hf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Hf(t,e),typeof s!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Qx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new ck;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=Nk.bind(null,t,e,n),e.then(t,t))}function Yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jx(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=is(-1,1),e.tag=2,Qs(n,e,1))),n.lanes|=1),t)}var uk=ws.ReactCurrentOwner,$t=!1;function Pt(t,e,n,s){e.child=t===null?f_(e,null,n,s):eo(e,t.child,n,s)}function Xx(t,e,n,s,r){n=n.render;var i=e.ref;return Wi(e,r),s=Ip(t,e,n,s,i,r),n=kp(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ms(t,e,r)):(Re&&n&&pp(e),e.flags|=1,Pt(t,e,s,r),e.child)}function Zx(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Op(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,F_(t,e,i,s,r)):(t=Uc(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:qa,n(a,s)&&t.ref===e.ref)return ms(t,e,r)}return e.flags|=1,t=Xs(i,s),t.ref=e.ref,t.return=e,e.child=t}function F_(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(qa(i,s)&&t.ref===e.ref)if($t=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,ms(t,e,r)}return Wf(t,e,n,s,r)}function U_(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Mi,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Mi,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Ee(Mi,Kt),Kt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,Ee(Mi,Kt),Kt|=s;return Pt(t,e,r,n),e.child}function $_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wf(t,e,n,s,r){var i=zt(n)?ei:kt.current;return i=Xi(e,i),Wi(e,r),n=Ip(t,e,n,s,i,r),s=kp(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ms(t,e,r)):(Re&&s&&pp(e),e.flags|=1,Pt(t,e,n,r),e.child)}function e0(t,e,n,s,r){if(zt(n)){var i=!0;uu(e)}else i=!1;if(Wi(e,r),e.stateNode===null)Lc(t,e),M_(e,n,s),zf(e,n,s,r),s=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=mn(d):(d=zt(n)?ei:kt.current,d=Xi(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==s||u!==d)&&Kx(e,a,s,d),Vs=!1;var p=e.memoizedState;a.state=p,pu(e,s,a,r),u=e.memoizedState,l!==s||p!==u||Bt.current||Vs?(typeof f=="function"&&(Bf(e,n,f,s),u=e.memoizedState),(l=Vs||Gx(e,n,l,s,p,u,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),a.props=s,a.state=u,a.context=d,s=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,p_(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:xn(e.type,l),a.props=d,h=e.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=mn(u):(u=zt(n)?ei:kt.current,u=Xi(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||p!==u)&&Kx(e,a,s,u),Vs=!1,p=e.memoizedState,a.state=p,pu(e,s,a,r);var b=e.memoizedState;l!==h||p!==b||Bt.current||Vs?(typeof y=="function"&&(Bf(e,n,y,s),b=e.memoizedState),(d=Vs||Gx(e,n,d,s,p,b,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,b,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,b,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=b),a.props=s,a.state=b,a.context=u,s=d):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return qf(t,e,n,s,i,r)}function qf(t,e,n,s,r,i){$_(t,e);var a=(e.flags&128)!==0;if(!s&&!a)return r&&Fx(e,n,!1),ms(t,e,i);s=e.stateNode,uk.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&a?(e.child=eo(e,t.child,null,i),e.child=eo(e,null,l,i)):Pt(t,e,l,i),e.memoizedState=s.state,r&&Fx(e,n,!0),e.child}function B_(t){var e=t.stateNode;e.pendingContext?Ox(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ox(t,e.context,!1),Np(t,e.containerInfo)}function t0(t,e,n,s,r){return Zi(),yp(r),e.flags|=256,Pt(t,e,n,s),e.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Kf(t){return{baseLanes:t,cachePool:null,transitions:null}}function z_(t,e,n){var s=e.pendingProps,r=Ve.current,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ee(Ve,r&1),t===null)return Uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=s.children,t=s.fallback,i?(s=e.mode,i=e.child,a={mode:"hidden",children:a},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=fd(a,s,0,null),t=Qr(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kf(n),e.memoizedState=Gf,t):Cp(e,a));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return dk(t,e,a,s,l,r,n);if(i){i=s.fallback,a=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:s.children};return!(a&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=u,e.deletions=null):(s=Xs(r,u),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?i=Xs(l,i):(i=Qr(i,a,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,a=t.child.memoizedState,a=a===null?Kf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Gf,s}return i=t.child,t=i.sibling,s=Xs(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Cp(t,e){return e=fd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,s){return s!==null&&yp(s),eo(e,t.child,null,n),t=Cp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dk(t,e,n,s,r,i,a){if(n)return e.flags&256?(e.flags&=-257,s=Vh(Error(H(422))),pc(t,e,a,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=fd({mode:"visible",children:s.children},r,0,null),i=Qr(i,r,a,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&eo(e,t.child,null,a),e.child.memoizedState=Kf(a),e.memoizedState=Gf,i);if(!(e.mode&1))return pc(t,e,a,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,i=Error(H(419)),s=Vh(i,s,void 0),pc(t,e,a,s)}if(l=(a&t.childLanes)!==0,$t||l){if(s=ht,s!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|a)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,fs(t,r),Nn(s,t,r,-1))}return Lp(),s=Vh(Error(H(421))),pc(t,e,a,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Sk.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Yt=Ks(r.nextSibling),Xt=e,Re=!0,wn=null,t!==null&&(ln[cn++]=es,ln[cn++]=ts,ln[cn++]=ti,es=t.id,ts=t.overflow,ti=e),e=Cp(e,s.children),e.flags|=4096,e)}function n0(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),$f(t.return,e,n)}function Mh(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function H_(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Pt(t,e,s.children,n),s=Ve.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n0(t,n,e);else if(t.tag===19)n0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Ee(Ve,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Mh(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&gu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Mh(e,!0,n,null,i);break;case"together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hk(t,e,n){switch(e.tag){case 3:B_(e),Zi();break;case 5:g_(e);break;case 1:zt(e.type)&&uu(e);break;case 4:Np(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Ee(fu,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Ee(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?z_(t,e,n):(Ee(Ve,Ve.current&1),t=ms(t,e,n),t!==null?t.sibling:null);Ee(Ve,Ve.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return H_(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(Ve,Ve.current),s)break;return null;case 22:case 23:return e.lanes=0,U_(t,e,n)}return ms(t,e,n)}var W_,Qf,q_,G_;W_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qf=function(){};q_=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Hr(Ln.current);var i=null;switch(n){case"input":r=yf(t,r),s=yf(t,s),i=[];break;case"select":r=Oe({},r,{value:void 0}),s=Oe({},s,{value:void 0}),i=[];break;case"textarea":r=wf(t,r),s=wf(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=lu)}bf(n,s);var a;n=null;for(d in r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var l=r[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fa.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var u=s[d];if(l=r!=null?r[d]:void 0,s.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&je("scroll",t),i||l===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};G_=function(t,e,n,s){n!==s&&(e.flags|=4)};function na(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function fk(t,e,n){var s=e.pendingProps;switch(gp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return zt(e.type)&&cu(),bt(e),null;case 3:return s=e.stateNode,to(),Ce(Bt),Ce(kt),Tp(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(sm(wn),wn=null))),Qf(t,e),bt(e),null;case 5:Sp(e);var r=Hr(Ja.current);if(n=e.type,t!==null&&e.stateNode!=null)q_(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(H(166));return bt(e),null}if(t=Hr(Ln.current),fc(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Vn]=e,s[Qa]=i,t=(e.mode&1)!==0,n){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(r=0;r<ca.length;r++)je(ca[r],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":dx(s,i),je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},je("invalid",s);break;case"textarea":fx(s,i),je("invalid",s)}bf(n,i),r=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?s.textContent!==l&&(i.suppressHydrationWarning!==!0&&hc(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hc(s.textContent,l,t),r=["children",""+l]):Fa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&je("scroll",s)}switch(n){case"input":rc(s),hx(s,i,!0);break;case"textarea":rc(s),mx(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=lu)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=a.createElement(n,{is:s.is}):(t=a.createElement(n),n==="select"&&(a=t,s.multiple?a.multiple=!0:s.size&&(a.size=s.size))):t=a.createElementNS(t,n),t[Vn]=e,t[Qa]=s,W_(t,e,!1,!1),e.stateNode=t;e:{switch(a=Nf(n,s),n){case"dialog":je("cancel",t),je("close",t),r=s;break;case"iframe":case"object":case"embed":je("load",t),r=s;break;case"video":case"audio":for(r=0;r<ca.length;r++)je(ca[r],t);r=s;break;case"source":je("error",t),r=s;break;case"img":case"image":case"link":je("error",t),je("load",t),r=s;break;case"details":je("toggle",t),r=s;break;case"input":dx(t,s),r=yf(t,s),je("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Oe({},s,{value:void 0}),je("invalid",t);break;case"textarea":fx(t,s),r=wf(t,s),je("invalid",t);break;default:r=s}bf(n,r),l=r;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?S1(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&b1(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ua(t,u):typeof u=="number"&&Ua(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fa.hasOwnProperty(i)?u!=null&&i==="onScroll"&&je("scroll",t):u!=null&&tp(t,i,u,a))}switch(n){case"input":rc(t),hx(t,s,!1);break;case"textarea":rc(t),mx(t);break;case"option":s.value!=null&&t.setAttribute("value",""+lr(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?$i(t,!!s.multiple,i,!1):s.defaultValue!=null&&$i(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)G_(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(H(166));if(n=Hr(Ja.current),Hr(Ln.current),fc(e)){if(s=e.stateNode,n=e.memoizedProps,s[Vn]=e,(i=s.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:hc(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Vn]=e,e.stateNode=s}return bt(e),null;case 13:if(Ce(Ve),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Yt!==null&&e.mode&1&&!(e.flags&128))d_(),Zi(),e.flags|=98560,i=!1;else if(i=fc(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Vn]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),i=!1}else wn!==null&&(sm(wn),wn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?it===0&&(it=3):Lp())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return to(),Qf(t,e),t===null&&Ga(e.stateNode.containerInfo),bt(e),null;case 10:return wp(e.type._context),bt(e),null;case 17:return zt(e.type)&&cu(),bt(e),null;case 19:if(Ce(Ve),i=e.memoizedState,i===null)return bt(e),null;if(s=(e.flags&128)!==0,a=i.rendering,a===null)if(s)na(i,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gu(t),a!==null){for(e.flags|=128,na(i,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>so&&(e.flags|=128,s=!0,na(i,!1),e.lanes=4194304)}else{if(!s)if(t=gu(a),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Re)return bt(e),null}else 2*Ge()-i.renderingStartTime>so&&n!==1073741824&&(e.flags|=128,s=!0,na(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Ve.current,Ee(Ve,s?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Mp(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?Kt&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function mk(t,e){switch(gp(e),e.tag){case 1:return zt(e.type)&&cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),Ce(Bt),Ce(kt),Tp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sp(e),null;case 13:if(Ce(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Ve),null;case 4:return to(),null;case 10:return wp(e.type._context),null;case 22:case 23:return Mp(),null;case 24:return null;default:return null}}var gc=!1,Et=!1,pk=typeof WeakSet=="function"?WeakSet:Set,X=null;function Vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Be(t,e,s)}else n.current=null}function Yf(t,e,n){try{n()}catch(s){Be(t,e,s)}}var s0=!1;function gk(t,e){if(Rf=iu,t=X1(),mp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var y;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(u=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++d===r&&(l=a),p===i&&++f===s&&(u=a),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Df={focusedElem:t,selectionRange:n},iu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,A=b.memoizedState,k=e.stateNode,x=k.getSnapshotBeforeUpdate(e.elementType===e.type?E:xn(e.type,E),A);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(V){Be(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return b=s0,s0=!1,b}function Na(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Yf(e,n,i)}r=r.next}while(r!==s)}}function dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Jf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function K_(t){var e=t.alternate;e!==null&&(t.alternate=null,K_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Qa],delete e[Lf],delete e[XI],delete e[ZI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q_(t){return t.tag===5||t.tag===3||t.tag===4}function r0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lu));else if(s!==4&&(t=t.child,t!==null))for(Xf(t,e,n),t=t.sibling;t!==null;)Xf(t,e,n),t=t.sibling}function Zf(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Zf(t,e,n),t=t.sibling;t!==null;)Zf(t,e,n),t=t.sibling}var ft=null,vn=!1;function Cs(t,e,n){for(n=n.child;n!==null;)Y_(t,e,n),n=n.sibling}function Y_(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(sd,n)}catch{}switch(n.tag){case 5:Et||Vi(n,e);case 6:var s=ft,r=vn;ft=null,Cs(t,e,n),ft=s,vn=r,ft!==null&&(vn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(vn?(t=ft,n=n.stateNode,t.nodeType===8?jh(t.parentNode,n):t.nodeType===1&&jh(t,n),Ha(t)):jh(ft,n.stateNode));break;case 4:s=ft,r=vn,ft=n.stateNode.containerInfo,vn=!0,Cs(t,e,n),ft=s,vn=r;break;case 0:case 11:case 14:case 15:if(!Et&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Yf(n,e,a),r=r.next}while(r!==s)}Cs(t,e,n);break;case 1:if(!Et&&(Vi(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){Be(n,e,l)}Cs(t,e,n);break;case 21:Cs(t,e,n);break;case 22:n.mode&1?(Et=(s=Et)||n.memoizedState!==null,Cs(t,e,n),Et=s):Cs(t,e,n);break;default:Cs(t,e,n)}}function i0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pk),e.forEach(function(s){var r=Tk.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ft=l.stateNode,vn=!1;break e;case 3:ft=l.stateNode.containerInfo,vn=!0;break e;case 4:ft=l.stateNode.containerInfo,vn=!0;break e}l=l.return}if(ft===null)throw Error(H(160));Y_(i,a,r),ft=null,vn=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(d){Be(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J_(e,t),e=e.sibling}function J_(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Pn(t),s&4){try{Na(3,t,t.return),dd(3,t)}catch(E){Be(t,t.return,E)}try{Na(5,t,t.return)}catch(E){Be(t,t.return,E)}}break;case 1:yn(e,t),Pn(t),s&512&&n!==null&&Vi(n,n.return);break;case 5:if(yn(e,t),Pn(t),s&512&&n!==null&&Vi(n,n.return),t.flags&32){var r=t.stateNode;try{Ua(r,"")}catch(E){Be(t,t.return,E)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&v1(r,i),Nf(l,a);var d=Nf(l,i);for(a=0;a<u.length;a+=2){var f=u[a],h=u[a+1];f==="style"?S1(r,h):f==="dangerouslySetInnerHTML"?b1(r,h):f==="children"?Ua(r,h):tp(r,f,h,d)}switch(l){case"input":xf(r,i);break;case"textarea":w1(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?$i(r,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?$i(r,!!i.multiple,i.defaultValue,!0):$i(r,!!i.multiple,i.multiple?[]:"",!1))}r[Qa]=i}catch(E){Be(t,t.return,E)}}break;case 6:if(yn(e,t),Pn(t),s&4){if(t.stateNode===null)throw Error(H(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(E){Be(t,t.return,E)}}break;case 3:if(yn(e,t),Pn(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(e.containerInfo)}catch(E){Be(t,t.return,E)}break;case 4:yn(e,t),Pn(t);break;case 13:yn(e,t),Pn(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Dp=Ge())),s&4&&i0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(d=Et)||f,yn(e,t),Et=d):yn(e,t),Pn(t),s&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(X=t,f=t.child;f!==null;){for(h=X=f;X!==null;){switch(p=X,y=p.child,p.tag){case 0:case 11:case 14:case 15:Na(4,p,p.return);break;case 1:Vi(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){s=p,n=p.return;try{e=s,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(E){Be(s,n,E)}}break;case 5:Vi(p,p.return);break;case 22:if(p.memoizedState!==null){a0(h);continue}}y!==null?(y.return=p,X=y):a0(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=N1("display",a))}catch(E){Be(t,t.return,E)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(E){Be(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yn(e,t),Pn(t),s&4&&i0(t);break;case 21:break;default:yn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Q_(n)){var s=n;break e}n=n.return}throw Error(H(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Ua(r,""),s.flags&=-33);var i=r0(t);Zf(t,i,r);break;case 3:case 4:var a=s.stateNode.containerInfo,l=r0(t);Xf(t,l,a);break;default:throw Error(H(161))}}catch(u){Be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yk(t,e,n){X=t,X_(t)}function X_(t,e,n){for(var s=(t.mode&1)!==0;X!==null;){var r=X,i=r.child;if(r.tag===22&&s){var a=r.memoizedState!==null||gc;if(!a){var l=r.alternate,u=l!==null&&l.memoizedState!==null||Et;l=gc;var d=Et;if(gc=a,(Et=u)&&!d)for(X=r;X!==null;)a=X,u=a.child,a.tag===22&&a.memoizedState!==null?l0(r):u!==null?(u.return=a,X=u):l0(r);for(;i!==null;)X=i,X_(i),i=i.sibling;X=r,gc=l,Et=d}o0(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,X=i):o0(t)}}function o0(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||dd(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Et)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hx(e,i,s);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hx(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Ha(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Et||e.flags&512&&Jf(e)}catch(p){Be(e,e.return,p)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function a0(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function l0(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dd(4,e)}catch(u){Be(e,n,u)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(u){Be(e,r,u)}}var i=e.return;try{Jf(e)}catch(u){Be(e,i,u)}break;case 5:var a=e.return;try{Jf(e)}catch(u){Be(e,a,u)}}}catch(u){Be(e,e.return,u)}if(e===t){X=null;break}var l=e.sibling;if(l!==null){l.return=e.return,X=l;break}X=e.return}}var xk=Math.ceil,vu=ws.ReactCurrentDispatcher,Pp=ws.ReactCurrentOwner,hn=ws.ReactCurrentBatchConfig,xe=0,ht=null,Je=null,xt=0,Kt=0,Mi=wr(0),it=0,tl=null,si=0,hd=0,Rp=0,Sa=null,Ft=null,Dp=0,so=1/0,Yn=null,wu=!1,em=null,Ys=null,yc=!1,zs=null,_u=0,Ta=0,tm=null,Oc=-1,Fc=0;function Dt(){return xe&6?Ge():Oc!==-1?Oc:Oc=Ge()}function Js(t){return t.mode&1?xe&2&&xt!==0?xt&-xt:tk.transition!==null?(Fc===0&&(Fc=M1()),Fc):(t=_e,t!==0||(t=window.event,t=t===void 0?16:z1(t.type)),t):1}function Nn(t,e,n,s){if(50<Ta)throw Ta=0,tm=null,Error(H(185));yl(t,n,s),(!(xe&2)||t!==ht)&&(t===ht&&(!(xe&2)&&(hd|=n),it===4&&Os(t,xt)),Ht(t,s),n===1&&xe===0&&!(e.mode&1)&&(so=Ge()+500,ld&&_r()))}function Ht(t,e){var n=t.callbackNode;tI(t,e);var s=ru(t,t===ht?xt:0);if(s===0)n!==null&&yx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&yx(n),e===1)t.tag===0?ek(c0.bind(null,t)):l_(c0.bind(null,t)),YI(function(){!(xe&6)&&_r()}),n=null;else{switch(L1(s)){case 1:n=op;break;case 4:n=D1;break;case 16:n=su;break;case 536870912:n=V1;break;default:n=su}n=ob(n,Z_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z_(t,e){if(Oc=-1,Fc=0,xe&6)throw Error(H(327));var n=t.callbackNode;if(qi()&&t.callbackNode!==n)return null;var s=ru(t,t===ht?xt:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=bu(t,s);else{e=s;var r=xe;xe|=2;var i=tb();(ht!==t||xt!==e)&&(Yn=null,so=Ge()+500,Kr(t,e));do try{_k();break}catch(l){eb(t,l)}while(!0);vp(),vu.current=i,xe=r,Je!==null?e=0:(ht=null,xt=0,e=it)}if(e!==0){if(e===2&&(r=kf(t),r!==0&&(s=r,e=nm(t,r))),e===1)throw n=tl,Kr(t,0),Os(t,s),Ht(t,Ge()),n;if(e===6)Os(t,s);else{if(r=t.current.alternate,!(s&30)&&!vk(r)&&(e=bu(t,s),e===2&&(i=kf(t),i!==0&&(s=i,e=nm(t,i))),e===1))throw n=tl,Kr(t,0),Os(t,s),Ht(t,Ge()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(H(345));case 2:Vr(t,Ft,Yn);break;case 3:if(Os(t,s),(s&130023424)===s&&(e=Dp+500-Ge(),10<e)){if(ru(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Dt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Mf(Vr.bind(null,t,Ft,Yn),e);break}Vr(t,Ft,Yn);break;case 4:if(Os(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var a=31-bn(s);i=1<<a,a=e[a],a>r&&(r=a),s&=~i}if(s=r,s=Ge()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xk(s/1960))-s,10<s){t.timeoutHandle=Mf(Vr.bind(null,t,Ft,Yn),s);break}Vr(t,Ft,Yn);break;case 5:Vr(t,Ft,Yn);break;default:throw Error(H(329))}}}return Ht(t,Ge()),t.callbackNode===n?Z_.bind(null,t):null}function nm(t,e){var n=Sa;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=bu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&sm(e)),t}function sm(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function vk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!En(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Os(t,e){for(e&=~Rp,e&=~hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),s=1<<n;t[n]=-1,e&=~s}}function c0(t){if(xe&6)throw Error(H(327));qi();var e=ru(t,0);if(!(e&1))return Ht(t,Ge()),null;var n=bu(t,e);if(t.tag!==0&&n===2){var s=kf(t);s!==0&&(e=s,n=nm(t,s))}if(n===1)throw n=tl,Kr(t,0),Os(t,e),Ht(t,Ge()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,Ft,Yn),Ht(t,Ge()),null}function Vp(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(so=Ge()+500,ld&&_r())}}function ri(t){zs!==null&&zs.tag===0&&!(xe&6)&&qi();var e=xe;xe|=1;var n=hn.transition,s=_e;try{if(hn.transition=null,_e=1,t)return t()}finally{_e=s,hn.transition=n,xe=e,!(xe&6)&&_r()}}function Mp(){Kt=Mi.current,Ce(Mi)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QI(n)),Je!==null)for(n=Je.return;n!==null;){var s=n;switch(gp(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&cu();break;case 3:to(),Ce(Bt),Ce(kt),Tp();break;case 5:Sp(s);break;case 4:to();break;case 13:Ce(Ve);break;case 19:Ce(Ve);break;case 10:wp(s.type._context);break;case 22:case 23:Mp()}n=n.return}if(ht=t,Je=t=Xs(t.current,null),xt=Kt=e,it=0,tl=null,Rp=hd=si=0,Ft=Sa=null,zr!==null){for(e=0;e<zr.length;e++)if(n=zr[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var a=i.next;i.next=r,s.next=a}n.pending=s}zr=null}return t}function eb(t,e){do{var n=Je;try{if(vp(),Vc.current=xu,yu){for(var s=Le.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}yu=!1}if(ni=0,dt=rt=Le=null,ba=!1,Xa=0,Pp.current=null,n===null||n.return===null){it=1,tl=e,Je=null;break}e:{var i=t,a=n.return,l=n,u=e;if(e=xt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Yx(a);if(y!==null){y.flags&=-257,Jx(y,a,l,i,e),y.mode&1&&Qx(i,d,e),e=y,u=d;var b=e.updateQueue;if(b===null){var E=new Set;E.add(u),e.updateQueue=E}else b.add(u);break e}else{if(!(e&1)){Qx(i,d,e),Lp();break e}u=Error(H(426))}}else if(Re&&l.mode&1){var A=Yx(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Jx(A,a,l,i,e),yp(no(u,l));break e}}i=u=no(u,l),it!==4&&(it=2),Sa===null?Sa=[i]:Sa.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=L_(i,u,e);zx(i,k);break e;case 1:l=u;var x=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ys===null||!Ys.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var V=O_(i,l,e);zx(i,V);break e}}i=i.return}while(i!==null)}sb(n)}catch(M){e=M,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function tb(){var t=vu.current;return vu.current=xu,t===null?xu:t}function Lp(){(it===0||it===3||it===2)&&(it=4),ht===null||!(si&268435455)&&!(hd&268435455)||Os(ht,xt)}function bu(t,e){var n=xe;xe|=2;var s=tb();(ht!==t||xt!==e)&&(Yn=null,Kr(t,e));do try{wk();break}catch(r){eb(t,r)}while(!0);if(vp(),xe=n,vu.current=s,Je!==null)throw Error(H(261));return ht=null,xt=0,it}function wk(){for(;Je!==null;)nb(Je)}function _k(){for(;Je!==null&&!qE();)nb(Je)}function nb(t){var e=ib(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?sb(t):Je=e,Pp.current=null}function sb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mk(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Je=null;return}}else if(n=fk(n,e,Kt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);it===0&&(it=5)}function Vr(t,e,n){var s=_e,r=hn.transition;try{hn.transition=null,_e=1,bk(t,e,n,s)}finally{hn.transition=r,_e=s}return null}function bk(t,e,n,s){do qi();while(zs!==null);if(xe&6)throw Error(H(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(nI(t,i),t===ht&&(Je=ht=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yc||(yc=!0,ob(su,function(){return qi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=hn.transition,hn.transition=null;var a=_e;_e=1;var l=xe;xe|=4,Pp.current=null,gk(t,n),J_(n,t),BI(Df),iu=!!Rf,Df=Rf=null,t.current=n,yk(n),GE(),xe=l,_e=a,hn.transition=i}else t.current=n;if(yc&&(yc=!1,zs=t,_u=r),i=t.pendingLanes,i===0&&(Ys=null),YE(n.stateNode),Ht(t,Ge()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(wu)throw wu=!1,t=em,em=null,t;return _u&1&&t.tag!==0&&qi(),i=t.pendingLanes,i&1?t===tm?Ta++:(Ta=0,tm=t):Ta=0,_r(),null}function qi(){if(zs!==null){var t=L1(_u),e=hn.transition,n=_e;try{if(hn.transition=null,_e=16>t?16:t,zs===null)var s=!1;else{if(t=zs,zs=null,_u=0,xe&6)throw Error(H(331));var r=xe;for(xe|=4,X=t.current;X!==null;){var i=X,a=i.child;if(X.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(X=d;X!==null;){var f=X;switch(f.tag){case 0:case 11:case 15:Na(8,f,i)}var h=f.child;if(h!==null)h.return=f,X=h;else for(;X!==null;){f=X;var p=f.sibling,y=f.return;if(K_(f),f===d){X=null;break}if(p!==null){p.return=y,X=p;break}X=y}}}var b=i.alternate;if(b!==null){var E=b.child;if(E!==null){b.child=null;do{var A=E.sibling;E.sibling=null,E=A}while(E!==null)}}X=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,X=a;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Na(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,X=k;break e}X=i.return}}var x=t.current;for(X=x;X!==null;){a=X;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,X=S;else e:for(a=x;X!==null;){if(l=X,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dd(9,l)}}catch(M){Be(l,l.return,M)}if(l===a){X=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,X=V;break e}X=l.return}}if(xe=r,_r(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(sd,t)}catch{}s=!0}return s}finally{_e=n,hn.transition=e}}return!1}function u0(t,e,n){e=no(n,e),e=L_(t,e,1),t=Qs(t,e,1),e=Dt(),t!==null&&(yl(t,1,e),Ht(t,e))}function Be(t,e,n){if(t.tag===3)u0(t,t,n);else for(;e!==null;){if(e.tag===3){u0(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ys===null||!Ys.has(s))){t=no(n,t),t=O_(e,t,1),e=Qs(e,t,1),t=Dt(),e!==null&&(yl(e,1,t),Ht(e,t));break}}e=e.return}}function Nk(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(xt&n)===n&&(it===4||it===3&&(xt&130023424)===xt&&500>Ge()-Dp?Kr(t,0):Rp|=n),Ht(t,e)}function rb(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var n=Dt();t=fs(t,e),t!==null&&(yl(t,e,n),Ht(t,n))}function Sk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rb(t,n)}function Tk(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(H(314))}s!==null&&s.delete(e),rb(t,n)}var ib;ib=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,hk(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Re&&e.flags&1048576&&c_(e,hu,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Lc(t,e),t=e.pendingProps;var r=Xi(e,kt.current);Wi(e,n),r=Ip(null,e,s,t,r,n);var i=kp();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(s)?(i=!0,uu(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,bp(e),r.updater=ud,e.stateNode=r,r._reactInternals=e,zf(e,s,t,n),e=qf(null,e,s,!0,i,n)):(e.tag=0,Re&&i&&pp(e),Pt(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Lc(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Ik(s),t=xn(s,t),r){case 0:e=Wf(null,e,s,t,n);break e;case 1:e=e0(null,e,s,t,n);break e;case 11:e=Xx(null,e,s,t,n);break e;case 14:e=Zx(null,e,s,xn(s.type,t),n);break e}throw Error(H(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:xn(s,r),Wf(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:xn(s,r),e0(t,e,s,r,n);case 3:e:{if(B_(e),t===null)throw Error(H(387));s=e.pendingProps,i=e.memoizedState,r=i.element,p_(t,e),pu(e,s,null,n);var a=e.memoizedState;if(s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=no(Error(H(423)),e),e=t0(t,e,s,n,r);break e}else if(s!==r){r=no(Error(H(424)),e),e=t0(t,e,s,n,r);break e}else for(Yt=Ks(e.stateNode.containerInfo.firstChild),Xt=e,Re=!0,wn=null,n=f_(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),s===r){e=ms(t,e,n);break e}Pt(t,e,s,n)}e=e.child}return e;case 5:return g_(e),t===null&&Uf(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,a=r.children,Vf(s,r)?a=null:i!==null&&Vf(s,i)&&(e.flags|=32),$_(t,e),Pt(t,e,a,n),e.child;case 6:return t===null&&Uf(e),null;case 13:return z_(t,e,n);case 4:return Np(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=eo(e,null,s,n):Pt(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:xn(s,r),Xx(t,e,s,r,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,a=r.value,Ee(fu,s._currentValue),s._currentValue=a,i!==null)if(En(i.value,a)){if(i.children===r.children&&!Bt.current){e=ms(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===s){if(i.tag===1){u=is(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),$f(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$f(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Pt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Wi(e,n),r=mn(r),s=s(r),e.flags|=1,Pt(t,e,s,n),e.child;case 14:return s=e.type,r=xn(s,e.pendingProps),r=xn(s.type,r),Zx(t,e,s,r,n);case 15:return F_(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:xn(s,r),Lc(t,e),e.tag=1,zt(s)?(t=!0,uu(e)):t=!1,Wi(e,n),M_(e,s,r),zf(e,s,r,n),qf(null,e,s,!0,t,n);case 19:return H_(t,e,n);case 22:return U_(t,e,n)}throw Error(H(156,e.tag))};function ob(t,e){return R1(t,e)}function Ek(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,s){return new Ek(t,e,n,s)}function Op(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ik(t){if(typeof t=="function")return Op(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sp)return 11;if(t===rp)return 14}return 2}function Xs(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,s,r,i){var a=2;if(s=t,typeof t=="function")Op(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ei:return Qr(n.children,r,i,e);case np:a=8,r|=8;break;case ff:return t=dn(12,n,e,r|2),t.elementType=ff,t.lanes=i,t;case mf:return t=dn(13,n,e,r),t.elementType=mf,t.lanes=i,t;case pf:return t=dn(19,n,e,r),t.elementType=pf,t.lanes=i,t;case g1:return fd(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m1:a=10;break e;case p1:a=9;break e;case sp:a=11;break e;case rp:a=14;break e;case Ds:a=16,s=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=dn(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Qr(t,e,n,s){return t=dn(7,t,s,e),t.lanes=n,t}function fd(t,e,n,s){return t=dn(22,t,s,e),t.elementType=g1,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Oh(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kk(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fp(t,e,n,s,r,i,a,l,u){return t=new kk(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(i),t}function jk(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function ab(t){if(!t)return cr;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(zt(n))return a_(t,n,e)}return e}function lb(t,e,n,s,r,i,a,l,u){return t=Fp(n,s,!0,t,r,i,a,l,u),t.context=ab(null),n=t.current,s=Dt(),r=Js(n),i=is(s,r),i.callback=e??null,Qs(n,i,r),t.current.lanes=r,yl(t,r,s),Ht(t,s),t}function md(t,e,n,s){var r=e.current,i=Dt(),a=Js(r);return n=ab(n),e.context===null?e.context=n:e.pendingContext=n,e=is(i,a),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Qs(r,e,a),t!==null&&(Nn(t,r,a,i),Dc(t,r,a)),a}function Nu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Up(t,e){d0(t,e),(t=t.alternate)&&d0(t,e)}function Ak(){return null}var cb=typeof reportError=="function"?reportError:function(t){console.error(t)};function $p(t){this._internalRoot=t}pd.prototype.render=$p.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));md(t,e,null,null)};pd.prototype.unmount=$p.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ri(function(){md(null,t,null,null)}),e[hs]=null}};function pd(t){this._internalRoot=t}pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=U1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ls.length&&e!==0&&e<Ls[n].priority;n++);Ls.splice(n,0,t),n===0&&B1(t)}};function Bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h0(){}function Ck(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var d=Nu(a);i.call(d)}}var a=lb(e,s,t,0,null,!1,!1,"",h0);return t._reactRootContainer=a,t[hs]=a.current,Ga(t.nodeType===8?t.parentNode:t),ri(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var d=Nu(u);l.call(d)}}var u=Fp(t,0,!1,null,null,!1,!1,"",h0);return t._reactRootContainer=u,t[hs]=u.current,Ga(t.nodeType===8?t.parentNode:t),ri(function(){md(e,u,n,s)}),u}function yd(t,e,n,s,r){var i=n._reactRootContainer;if(i){var a=i;if(typeof r=="function"){var l=r;r=function(){var u=Nu(a);l.call(u)}}md(e,a,t,r)}else a=Ck(n,e,t,r,s);return Nu(a)}O1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=la(e.pendingLanes);n!==0&&(ap(e,n|1),Ht(e,Ge()),!(xe&6)&&(so=Ge()+500,_r()))}break;case 13:ri(function(){var s=fs(t,1);if(s!==null){var r=Dt();Nn(s,t,1,r)}}),Up(t,1)}};lp=function(t){if(t.tag===13){var e=fs(t,134217728);if(e!==null){var n=Dt();Nn(e,t,134217728,n)}Up(t,134217728)}};F1=function(t){if(t.tag===13){var e=Js(t),n=fs(t,e);if(n!==null){var s=Dt();Nn(n,t,e,s)}Up(t,e)}};U1=function(){return _e};$1=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};Tf=function(t,e,n){switch(e){case"input":if(xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=ad(s);if(!r)throw Error(H(90));x1(s),xf(s,r)}}}break;case"textarea":w1(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};I1=Vp;k1=ri;var Pk={usingClientEntryPoint:!1,Events:[vl,Ai,ad,T1,E1,Vp]},sa={findFiberByHostInstance:Br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rk={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C1(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||Ak,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{sd=xc.inject(Rk),Mn=xc}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pk;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bp(e))throw Error(H(200));return jk(t,e,null,n)};nn.createRoot=function(t,e){if(!Bp(t))throw Error(H(299));var n=!1,s="",r=cb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Fp(t,1,!1,null,null,n,!1,s,r),t[hs]=e.current,Ga(t.nodeType===8?t.parentNode:t),new $p(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=C1(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return ri(t)};nn.hydrate=function(t,e,n){if(!gd(e))throw Error(H(200));return yd(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!Bp(t))throw Error(H(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",a=cb;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=lb(e,null,t,1,n??null,r,!1,i,a),t[hs]=e.current,Ga(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new pd(e)};nn.render=function(t,e,n){if(!gd(e))throw Error(H(200));return yd(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!gd(t))throw Error(H(40));return t._reactRootContainer?(ri(function(){yd(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};nn.unstable_batchedUpdates=Vp;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!gd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return yd(t,e,n,!1,s)};nn.version="18.3.1-next-f1338f8080-20240426";function ub(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ub)}catch(t){console.error(t)}}ub(),u1.exports=nn;var Dk=u1.exports,f0=Dk;df.createRoot=f0.createRoot,df.hydrateRoot=f0.hydrateRoot;const db=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xd=D.createContext({}),vd=D.createContext(null),wd=typeof document<"u",zp=wd?D.useLayoutEffect:D.useEffect,hb=D.createContext({strict:!1}),Hp=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vk="framerAppearId",fb="data-"+Hp(Vk);function Mk(t,e,n,s){const{visualElement:r}=D.useContext(xd),i=D.useContext(hb),a=D.useContext(vd),l=D.useContext(db).reducedMotion,u=D.useRef();s=s||i.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current;D.useInsertionEffect(()=>{d&&d.update(n,a)});const f=D.useRef(!!(n[fb]&&!window.HandoffComplete));return zp(()=>{d&&(d.render(),f.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(d.updateFeatures(),!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),d}function Li(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Lk(t,e,n){return D.useCallback(s=>{s&&t.mount&&t.mount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Li(n)&&(n.current=s))},[e])}function nl(t){return typeof t=="string"||Array.isArray(t)}function _d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Wp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qp=["initial",...Wp];function bd(t){return _d(t.animate)||qp.some(e=>nl(t[e]))}function mb(t){return!!(bd(t)||t.variants)}function Ok(t,e){if(bd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||nl(n)?n:void 0,animate:nl(s)?s:void 0}}return t.inherit!==!1?e:{}}function Fk(t){const{initial:e,animate:n}=Ok(t,D.useContext(xd));return D.useMemo(()=>({initial:e,animate:n}),[m0(e),m0(n)])}function m0(t){return Array.isArray(t)?t.join(" "):t}const p0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sl={};for(const t in p0)sl[t]={isEnabled:e=>p0[t].some(n=>!!e[n])};function Uk(t){for(const e in t)sl[e]={...sl[e],...t[e]}}const Gp=D.createContext({}),pb=D.createContext({}),$k=Symbol.for("motionComponentSymbol");function Bk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){t&&Uk(t);function i(l,u){let d;const f={...D.useContext(db),...l,layoutId:zk(l)},{isStatic:h}=f,p=Fk(l),y=s(l,h);if(!h&&wd){p.visualElement=Mk(r,y,f,e);const b=D.useContext(pb),E=D.useContext(hb).strict;p.visualElement&&(d=p.visualElement.loadFeatures(f,E,t,b))}return D.createElement(xd.Provider,{value:p},d&&p.visualElement?D.createElement(d,{visualElement:p.visualElement,...f}):null,n(r,l,Lk(y,p.visualElement,u),y,h,p.visualElement))}const a=D.forwardRef(i);return a[$k]=r,a}function zk({layoutId:t}){const e=D.useContext(Gp).id;return e&&t!==void 0?e+"-"+t:t}function Hk(t){function e(s,r={}){return Bk(t(s,r))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(s,r)=>(n.has(r)||n.set(r,e(r)),n.get(r))})}const Wk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kp(t){return typeof t!="string"||t.includes("-")?!1:!!(Wk.indexOf(t)>-1||/[A-Z]/.test(t))}const Su={};function qk(t){Object.assign(Su,t)}const _l=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fi=new Set(_l);function gb(t,{layout:e,layoutId:n}){return fi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Su[t]||t==="opacity")}const Wt=t=>!!(t&&t.getVelocity),Gk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kk=_l.length;function Qk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},s,r){let i="";for(let a=0;a<Kk;a++){const l=_l[a];if(t[l]!==void 0){const u=Gk[l]||l;i+=`${u}(${t[l]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),r?i=r(t,s?"":i):n&&s&&(i="none"),i}const yb=t=>e=>typeof e=="string"&&e.startsWith(t),xb=yb("--"),rm=yb("var(--"),Yk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Jk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ur=(t,e,n)=>Math.min(Math.max(n,t),e),mi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ea={...mi,transform:t=>ur(0,1,t)},vc={...mi,default:1},Ia=t=>Math.round(t*1e5)/1e5,Nd=/(-)?([\d]*\.?[\d])+/g,vb=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bl(t){return typeof t=="string"}const Nl=t=>({test:e=>bl(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rs=Nl("deg"),On=Nl("%"),ie=Nl("px"),Zk=Nl("vh"),ej=Nl("vw"),g0={...On,parse:t=>On.parse(t)/100,transform:t=>On.transform(t*100)},y0={...mi,transform:Math.round},wb={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,size:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,rotate:Rs,rotateX:Rs,rotateY:Rs,rotateZ:Rs,scale:vc,scaleX:vc,scaleY:vc,scaleZ:vc,skew:Rs,skewX:Rs,skewY:Rs,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:Ea,originX:g0,originY:g0,originZ:ie,zIndex:y0,fillOpacity:Ea,strokeOpacity:Ea,numOctaves:y0};function Qp(t,e,n,s){const{style:r,vars:i,transform:a,transformOrigin:l}=t;let u=!1,d=!1,f=!0;for(const h in e){const p=e[h];if(xb(h)){i[h]=p;continue}const y=wb[h],b=Jk(p,y);if(fi.has(h)){if(u=!0,a[h]=b,!f)continue;p!==(y.default||0)&&(f=!1)}else h.startsWith("origin")?(d=!0,l[h]=b):r[h]=b}if(e.transform||(u||s?r.transform=Qk(t.transform,n,f,s):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${h} ${p} ${y}`}}const Yp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _b(t,e,n){for(const s in e)!Wt(e[s])&&!gb(s,n)&&(t[s]=e[s])}function tj({transformTemplate:t},e,n){return D.useMemo(()=>{const s=Yp();return Qp(s,e,{enableHardwareAcceleration:!n},t),Object.assign({},s.vars,s.style)},[e])}function nj(t,e,n){const s=t.style||{},r={};return _b(r,s,t),Object.assign(r,tj(t,e,n)),t.transformValues?t.transformValues(r):r}function sj(t,e,n){const s={},r=nj(t,e,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}const rj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rj.has(t)}let bb=t=>!Tu(t);function ij(t){t&&(bb=e=>e.startsWith("on")?!Tu(e):t(e))}try{ij(require("@emotion/is-prop-valid").default)}catch{}function oj(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(bb(r)||n===!0&&Tu(r)||!e&&!Tu(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function x0(t,e,n){return typeof t=="string"?t:ie.transform(e+n*t)}function aj(t,e,n){const s=x0(e,t.x,t.width),r=x0(n,t.y,t.height);return`${s} ${r}`}const lj={offset:"stroke-dashoffset",array:"stroke-dasharray"},cj={offset:"strokeDashoffset",array:"strokeDasharray"};function uj(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?lj:cj;t[i.offset]=ie.transform(-s);const a=ie.transform(e),l=ie.transform(n);t[i.array]=`${a} ${l}`}function Jp(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},f,h,p){if(Qp(t,d,f,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b,dimensions:E}=t;y.transform&&(E&&(b.transform=y.transform),delete y.transform),E&&(r!==void 0||i!==void 0||b.transform)&&(b.transformOrigin=aj(E,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),s!==void 0&&(y.scale=s),a!==void 0&&uj(y,a,l,u,!1)}const Nb=()=>({...Yp(),attrs:{}}),Xp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dj(t,e,n,s){const r=D.useMemo(()=>{const i=Nb();return Jp(i,e,{enableHardwareAcceleration:!1},Xp(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};_b(i,t.style,t),r.style={...i,...r.style}}return r}function hj(t=!1){return(n,s,r,{latestValues:i},a)=>{const u=(Kp(n)?dj:sj)(s,i,a,n),f={...oj(s,typeof n=="string",t),...u,ref:r},{children:h}=s,p=D.useMemo(()=>Wt(h)?h.get():h,[h]);return D.createElement(n,{...f,children:p})}}function Sb(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const Tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eb(t,e,n,s){Sb(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(Tb.has(r)?r:Hp(r),e.attrs[r])}function Zp(t,e){const{style:n}=t,s={};for(const r in n)(Wt(n[r])||e.style&&Wt(e.style[r])||gb(r,t))&&(s[r]=n[r]);return s}function Ib(t,e){const n=Zp(t,e);for(const s in t)if(Wt(t[s])||Wt(e[s])){const r=_l.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=t[s]}return n}function eg(t,e,n,s={},r={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,s,r)),e}function kb(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Eu=t=>Array.isArray(t),fj=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mj=t=>Eu(t)?t[t.length-1]||0:t;function $c(t){const e=Wt(t)?t.get():t;return fj(e)?e.toValue():e}function pj({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},s,r,i){const a={latestValues:gj(s,r,i,t),renderState:e()};return n&&(a.mount=l=>n(s,l,a)),a}const jb=t=>(e,n)=>{const s=D.useContext(xd),r=D.useContext(vd),i=()=>pj(t,e,s,r);return n?i():kb(i)};function gj(t,e,n,s){const r={},i=s(t,{});for(const p in i)r[p]=$c(i[p]);let{initial:a,animate:l}=t;const u=bd(t),d=mb(t);e&&d&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const h=f?l:a;return h&&typeof h!="boolean"&&!_d(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const b=eg(t,y);if(!b)return;const{transitionEnd:E,transition:A,...k}=b;for(const x in k){let S=k[x];if(Array.isArray(S)){const V=f?S.length-1:0;S=S[V]}S!==null&&(r[x]=S)}for(const x in E)r[x]=E[x]}),r}const Ke=t=>t;class v0{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function yj(t){let e=new v0,n=new v0,s=0,r=!1,i=!1;const a=new WeakSet,l={schedule:(u,d=!1,f=!1)=>{const h=f&&r,p=h?e:n;return d&&a.add(u),p.add(u)&&h&&r&&(s=e.order.length),u},cancel:u=>{n.remove(u),a.delete(u)},process:u=>{if(r){i=!0;return}if(r=!0,[e,n]=[n,e],n.clear(),s=e.order.length,s)for(let d=0;d<s;d++){const f=e.order[d];f(u),a.has(f)&&(l.schedule(f),t())}r=!1,i&&(i=!1,l.process(u))}};return l}const wc=["prepare","read","update","preRender","render","postRender"],xj=40;function vj(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=wc.reduce((h,p)=>(h[p]=yj(()=>n=!0),h),{}),a=h=>i[h].process(r),l=()=>{const h=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(h-r.timestamp,xj),1),r.timestamp=h,r.isProcessing=!0,wc.forEach(a),r.isProcessing=!1,n&&e&&(s=!1,t(l))},u=()=>{n=!0,s=!0,r.isProcessing||t(l)};return{schedule:wc.reduce((h,p)=>{const y=i[p];return h[p]=(b,E=!1,A=!1)=>(n||u(),y.schedule(b,E,A)),h},{}),cancel:h=>wc.forEach(p=>i[p].cancel(h)),state:r,steps:i}}const{schedule:Ie,cancel:ps,state:St,steps:Fh}=vj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ke,!0),wj={useVisualState:jb({scrapeMotionValuesFromProps:Ib,createRenderState:Nb,onMount:(t,e,{renderState:n,latestValues:s})=>{Ie.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ie.render(()=>{Jp(n,s,{enableHardwareAcceleration:!1},Xp(e.tagName),t.transformTemplate),Eb(e,n)})}})},_j={useVisualState:jb({scrapeMotionValuesFromProps:Zp,createRenderState:Yp})};function bj(t,{forwardMotionProps:e=!1},n,s){return{...Kp(t)?wj:_j,preloadedFeatures:n,useRender:hj(e),createVisualElement:s,Component:t}}function ns(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const Ab=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Sd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Nj=t=>e=>Ab(e)&&t(e,Sd(e));function os(t,e,n,s){return ns(t,e,Nj(n),s)}const Sj=(t,e)=>n=>e(t(n)),Zs=(...t)=>t.reduce(Sj);function Cb(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const w0=Cb("dragHorizontal"),_0=Cb("dragVertical");function Pb(t){let e=!1;if(t==="y")e=_0();else if(t==="x")e=w0();else{const n=w0(),s=_0();n&&s?e=()=>{n(),s()}:(n&&n(),s&&s())}return e}function Rb(){const t=Pb(!0);return t?(t(),!1):!0}class br{constructor(e){this.isMounted=!1,this.node=e}update(){}}function b0(t,e){const n="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),r=(i,a)=>{if(i.pointerType==="touch"||Rb())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[s]&&Ie.update(()=>l[s](i,a))};return os(t.current,n,r,{passive:!t.getProps()[s]})}class Tj extends br{mount(){this.unmount=Zs(b0(this.node,!0),b0(this.node,!1))}unmount(){}}class Ej extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zs(ns(this.node.current,"focus",()=>this.onFocus()),ns(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Db=(t,e)=>e?t===e?!0:Db(t,e.parentElement):!1;function Uh(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Sd(n))}class Ij extends br{constructor(){super(...arguments),this.removeStartListeners=Ke,this.removeEndListeners=Ke,this.removeAccessibleListeners=Ke,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),i=os(window,"pointerup",(l,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:f,globalTapTarget:h}=this.node.getProps();Ie.update(()=>{!h&&!Db(this.node.current,l.target)?f&&f(l,u):d&&d(l,u)})},{passive:!(s.onTap||s.onPointerUp)}),a=os(window,"pointercancel",(l,u)=>this.cancelPress(l,u),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Zs(i,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Uh("up",(u,d)=>{const{onTap:f}=this.node.getProps();f&&Ie.update(()=>f(u,d))})};this.removeEndListeners(),this.removeEndListeners=ns(this.node.current,"keyup",a),Uh("down",(l,u)=>{this.startPress(l,u)})},n=ns(this.node.current,"keydown",e),s=()=>{this.isPressing&&Uh("cancel",(i,a)=>this.cancelPress(i,a))},r=ns(this.node.current,"blur",s);this.removeAccessibleListeners=Zs(n,r)}}startPress(e,n){this.isPressing=!0;const{onTapStart:s,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ie.update(()=>s(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Rb()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ie.update(()=>s(e,n))}mount(){const e=this.node.getProps(),n=os(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=ns(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Zs(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const im=new WeakMap,$h=new WeakMap,kj=t=>{const e=im.get(t.target);e&&e(t)},jj=t=>{t.forEach(kj)};function Aj({root:t,...e}){const n=t||document;$h.has(n)||$h.set(n,{});const s=$h.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(jj,{root:t,...e})),s[r]}function Cj(t,e,n){const s=Aj(e);return im.set(t,n),s.observe(t),()=>{im.delete(t),s.unobserve(t)}}const Pj={some:0,all:1};class Rj extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Pj[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=d?f:h;p&&p(u)};return Cj(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dj(e,n))&&this.startObserver()}unmount(){}}function Dj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Vj={inView:{Feature:Rj},tap:{Feature:Ij},focus:{Feature:Ej},hover:{Feature:Tj}};function Vb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Mj(t){const e={};return t.values.forEach((n,s)=>e[s]=n.get()),e}function Lj(t){const e={};return t.values.forEach((n,s)=>e[s]=n.getVelocity()),e}function Td(t,e,n){const s=t.getProps();return eg(s,e,n!==void 0?n:s.custom,Mj(t),Lj(t))}let tg=Ke;const Yr=t=>t*1e3,as=t=>t/1e3,Oj={current:!1},Mb=t=>Array.isArray(t)&&typeof t[0]=="number";function Lb(t){return!!(!t||typeof t=="string"&&Ob[t]||Mb(t)||Array.isArray(t)&&t.every(Lb))}const ua=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Ob={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ua([0,.65,.55,1]),circOut:ua([.55,0,1,.45]),backIn:ua([.31,.01,.66,-.59]),backOut:ua([.33,1.53,.69,.99])};function Fb(t){if(t)return Mb(t)?ua(t):Array.isArray(t)?t.map(Fb):Ob[t]}function Fj(t,e,n,{delay:s=0,duration:r,repeat:i=0,repeatType:a="loop",ease:l,times:u}={}){const d={[e]:n};u&&(d.offset=u);const f=Fb(l);return Array.isArray(f)&&(d.easing=f),t.animate(d,{delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function Uj(t,{repeat:e,repeatType:n="loop"}){const s=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[s]}const Ub=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$j=1e-7,Bj=12;function zj(t,e,n,s,r){let i,a,l=0;do a=e+(n-e)/2,i=Ub(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>$j&&++l<Bj);return a}function Sl(t,e,n,s){if(t===e&&n===s)return Ke;const r=i=>zj(i,0,1,t,n);return i=>i===0||i===1?i:Ub(r(i),e,s)}const Hj=Sl(.42,0,1,1),Wj=Sl(0,0,.58,1),$b=Sl(.42,0,.58,1),qj=t=>Array.isArray(t)&&typeof t[0]!="number",Bb=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zb=t=>e=>1-t(1-e),ng=t=>1-Math.sin(Math.acos(t)),Hb=zb(ng),Gj=Bb(ng),Wb=Sl(.33,1.53,.69,.99),sg=zb(Wb),Kj=Bb(sg),Qj=t=>(t*=2)<1?.5*sg(t):.5*(2-Math.pow(2,-10*(t-1))),Yj={linear:Ke,easeIn:Hj,easeInOut:$b,easeOut:Wj,circIn:ng,circInOut:Gj,circOut:Hb,backIn:sg,backInOut:Kj,backOut:Wb,anticipate:Qj},N0=t=>{if(Array.isArray(t)){tg(t.length===4);const[e,n,s,r]=t;return Sl(e,n,s,r)}else if(typeof t=="string")return Yj[t];return t},rg=(t,e)=>n=>!!(bl(n)&&Xk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),qb=(t,e,n)=>s=>{if(!bl(s))return s;const[r,i,a,l]=s.match(Nd);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Jj=t=>ur(0,255,t),Bh={...mi,transform:t=>Math.round(Jj(t))},Wr={test:rg("rgb","red"),parse:qb("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Bh.transform(t)+", "+Bh.transform(e)+", "+Bh.transform(n)+", "+Ia(Ea.transform(s))+")"};function Xj(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const om={test:rg("#"),parse:Xj,transform:Wr.transform},Oi={test:rg("hsl","hue"),parse:qb("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+On.transform(Ia(e))+", "+On.transform(Ia(n))+", "+Ia(Ea.transform(s))+")"},Ct={test:t=>Wr.test(t)||om.test(t)||Oi.test(t),parse:t=>Wr.test(t)?Wr.parse(t):Oi.test(t)?Oi.parse(t):om.parse(t),transform:t=>bl(t)?t:t.hasOwnProperty("red")?Wr.transform(t):Oi.transform(t)},Me=(t,e,n)=>-n*t+n*e+t;function zh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zj({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;r=zh(u,l,t+1/3),i=zh(u,l,t),a=zh(u,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}const Hh=(t,e,n)=>{const s=t*t;return Math.sqrt(Math.max(0,n*(e*e-s)+s))},eA=[om,Wr,Oi],tA=t=>eA.find(e=>e.test(t));function S0(t){const e=tA(t);let n=e.parse(t);return e===Oi&&(n=Zj(n)),n}const Gb=(t,e)=>{const n=S0(t),s=S0(e),r={...n};return i=>(r.red=Hh(n.red,s.red,i),r.green=Hh(n.green,s.green,i),r.blue=Hh(n.blue,s.blue,i),r.alpha=Me(n.alpha,s.alpha,i),Wr.transform(r))};function nA(t){var e,n;return isNaN(t)&&bl(t)&&(((e=t.match(Nd))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(vb))===null||n===void 0?void 0:n.length)||0)>0}const Kb={regex:Yk,countKey:"Vars",token:"${v}",parse:Ke},Qb={regex:vb,countKey:"Colors",token:"${c}",parse:Ct.parse},Yb={regex:Nd,countKey:"Numbers",token:"${n}",parse:mi.parse};function Wh(t,{regex:e,countKey:n,token:s,parse:r}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,s),t.values.push(...i.map(r)))}function Iu(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Wh(n,Kb),Wh(n,Qb),Wh(n,Yb),n}function Jb(t){return Iu(t).values}function Xb(t){const{values:e,numColors:n,numVars:s,tokenised:r}=Iu(t),i=e.length;return a=>{let l=r;for(let u=0;u<i;u++)u<s?l=l.replace(Kb.token,a[u]):u<s+n?l=l.replace(Qb.token,Ct.transform(a[u])):l=l.replace(Yb.token,Ia(a[u]));return l}}const sA=t=>typeof t=="number"?0:t;function rA(t){const e=Jb(t);return Xb(t)(e.map(sA))}const dr={test:nA,parse:Jb,createTransformer:Xb,getAnimatableNone:rA},Zb=(t,e)=>n=>`${n>0?e:t}`;function e2(t,e){return typeof t=="number"?n=>Me(t,e,n):Ct.test(t)?Gb(t,e):t.startsWith("var(")?Zb(t,e):n2(t,e)}const t2=(t,e)=>{const n=[...t],s=n.length,r=t.map((i,a)=>e2(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}},iA=(t,e)=>{const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=e2(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}},n2=(t,e)=>{const n=dr.createTransformer(e),s=Iu(t),r=Iu(e);return s.numVars===r.numVars&&s.numColors===r.numColors&&s.numNumbers>=r.numNumbers?Zs(t2(s.values,r.values),n):Zb(t,e)},rl=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},T0=(t,e)=>n=>Me(t,e,n);function oA(t){return typeof t=="number"?T0:typeof t=="string"?Ct.test(t)?Gb:n2:Array.isArray(t)?t2:typeof t=="object"?iA:T0}function aA(t,e,n){const s=[],r=n||oA(t[0]),i=t.length-1;for(let a=0;a<i;a++){let l=r(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Ke:e;l=Zs(u,l)}s.push(l)}return s}function s2(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(tg(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=aA(e,s,r),l=a.length,u=d=>{let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const h=rl(t[f],t[f+1],d);return a[f](h)};return n?d=>u(ur(t[0],t[i-1],d)):u}function lA(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=rl(0,e,s);t.push(Me(n,1,r))}}function cA(t){const e=[0];return lA(e,t.length-1),e}function uA(t,e){return t.map(n=>n*e)}function dA(t,e){return t.map(()=>e||$b).splice(0,t.length-1)}function ku({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=qj(s)?s.map(N0):N0(s),i={done:!1,value:e[0]},a=uA(n&&n.length===e.length?n:cA(e),t),l=s2(a,e,{ease:Array.isArray(r)?r:dA(e,r)});return{calculatedDuration:t,next:u=>(i.value=l(u),i.done=u>=t,i)}}function r2(t,e){return e?t*(1e3/e):0}const hA=5;function i2(t,e,n){const s=Math.max(e-hA,0);return r2(n-t(s),e-s)}const qh=.001,fA=.01,mA=10,pA=.05,gA=1;function yA({duration:t=800,bounce:e=.25,velocity:n=0,mass:s=1}){let r,i,a=1-e;a=ur(pA,gA,a),t=ur(fA,mA,as(t)),a<1?(r=d=>{const f=d*a,h=f*t,p=f-n,y=am(d,a),b=Math.exp(-h);return qh-p/y*b},i=d=>{const h=d*a*t,p=h*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,b=Math.exp(-h),E=am(Math.pow(d,2),a);return(-r(d)+qh>0?-1:1)*((p-y)*b)/E}):(r=d=>{const f=Math.exp(-d*t),h=(d-n)*t+1;return-qh+f*h},i=d=>{const f=Math.exp(-d*t),h=(n-d)*(t*t);return f*h});const l=5/t,u=vA(r,i,l);if(t=Yr(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:a*2*Math.sqrt(s*d),duration:t}}}const xA=12;function vA(t,e,n){let s=n;for(let r=1;r<xA;r++)s=s-t(s)/e(s);return s}function am(t,e){return t*Math.sqrt(1-e*e)}const wA=["duration","bounce"],_A=["stiffness","damping","mass"];function E0(t,e){return e.some(n=>t[n]!==void 0)}function bA(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!E0(t,_A)&&E0(t,wA)){const n=yA(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function o2({keyframes:t,restDelta:e,restSpeed:n,...s}){const r=t[0],i=t[t.length-1],a={done:!1,value:r},{stiffness:l,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=bA({...s,velocity:-as(s.velocity||0)}),y=h||0,b=u/(2*Math.sqrt(l*d)),E=i-r,A=as(Math.sqrt(l/d)),k=Math.abs(E)<5;n||(n=k?.01:2),e||(e=k?.005:.5);let x;if(b<1){const S=am(A,b);x=V=>{const M=Math.exp(-b*A*V);return i-M*((y+b*A*E)/S*Math.sin(S*V)+E*Math.cos(S*V))}}else if(b===1)x=S=>i-Math.exp(-A*S)*(E+(y+A*E)*S);else{const S=A*Math.sqrt(b*b-1);x=V=>{const M=Math.exp(-b*A*V),O=Math.min(S*V,300);return i-M*((y+b*A*E)*Math.sinh(O)+S*E*Math.cosh(O))/S}}return{calculatedDuration:p&&f||null,next:S=>{const V=x(S);if(p)a.done=S>=f;else{let M=y;S!==0&&(b<1?M=i2(x,S,V):M=0);const O=Math.abs(M)<=n,I=Math.abs(i-V)<=e;a.done=O&&I}return a.value=a.done?i:V,a}}}function I0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:u,restDelta:d=.5,restSpeed:f}){const h=t[0],p={done:!1,value:h},y=_=>l!==void 0&&_<l||u!==void 0&&_>u,b=_=>l===void 0?u:u===void 0||Math.abs(l-_)<Math.abs(u-_)?l:u;let E=n*e;const A=h+E,k=a===void 0?A:a(A);k!==A&&(E=k-h);const x=_=>-E*Math.exp(-_/s),S=_=>k+x(_),V=_=>{const v=x(_),N=S(_);p.done=Math.abs(v)<=d,p.value=p.done?k:N};let M,O;const I=_=>{y(p.value)&&(M=_,O=o2({keyframes:[p.value,b(p.value)],velocity:i2(S,_,p.value),damping:r,stiffness:i,restDelta:d,restSpeed:f}))};return I(0),{calculatedDuration:null,next:_=>{let v=!1;return!O&&M===void 0&&(v=!0,V(_),I(_)),M!==void 0&&_>M?O.next(_-M):(!v&&V(_),p)}}}const NA=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ie.update(e,!0),stop:()=>ps(e),now:()=>St.isProcessing?St.timestamp:performance.now()}},k0=2e4;function j0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<k0;)e+=n,s=t.next(e);return e>=k0?1/0:e}const SA={decay:I0,inertia:I0,tween:ku,keyframes:ku,spring:o2};function ju({autoplay:t=!0,delay:e=0,driver:n=NA,keyframes:s,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:u,onStop:d,onComplete:f,onUpdate:h,...p}){let y=1,b=!1,E,A;const k=()=>{A=new Promise(B=>{E=B})};k();let x;const S=SA[r]||ku;let V;S!==ku&&typeof s[0]!="number"&&(V=s2([0,100],s,{clamp:!1}),s=[0,100]);const M=S({...p,keyframes:s});let O;l==="mirror"&&(O=S({...p,keyframes:[...s].reverse(),velocity:-(p.velocity||0)}));let I="idle",_=null,v=null,N=null;M.calculatedDuration===null&&i&&(M.calculatedDuration=j0(M));const{calculatedDuration:P}=M;let R=1/0,j=1/0;P!==null&&(R=P+a,j=R*(i+1)-a);let Q=0;const de=B=>{if(v===null)return;y>0&&(v=Math.min(v,B)),y<0&&(v=Math.min(B-j/y,v)),_!==null?Q=_:Q=Math.round(B-v)*y;const re=Q-e*(y>=0?1:-1),at=y>=0?re<0:re>j;Q=Math.max(re,0),I==="finished"&&_===null&&(Q=j);let De=Q,qt=M;if(i){const Qn=Math.min(Q,j)/R;let kn=Math.floor(Qn),rn=Qn%1;!rn&&Qn>=1&&(rn=1),rn===1&&kn--,kn=Math.min(kn,i+1),!!(kn%2)&&(l==="reverse"?(rn=1-rn,a&&(rn-=a/R)):l==="mirror"&&(qt=O)),De=ur(0,1,rn)*R}const We=at?{done:!1,value:s[0]}:qt.next(De);V&&(We.value=V(We.value));let{done:Lt}=We;!at&&P!==null&&(Lt=y>=0?Q>=j:Q<=0);const Kn=_===null&&(I==="finished"||I==="running"&&Lt);return h&&h(We.value),Kn&&W(),We},ve=()=>{x&&x.stop(),x=void 0},He=()=>{I="idle",ve(),E(),k(),v=N=null},W=()=>{I="finished",f&&f(),ve(),E()},Z=()=>{if(b)return;x||(x=n(de));const B=x.now();u&&u(),_!==null?v=B-_:(!v||I==="finished")&&(v=B),I==="finished"&&k(),N=v,_=null,I="running",x.start()};t&&Z();const ae={then(B,re){return A.then(B,re)},get time(){return as(Q)},set time(B){B=Yr(B),Q=B,_!==null||!x||y===0?_=B:v=x.now()-B/y},get duration(){const B=M.calculatedDuration===null?j0(M):M.calculatedDuration;return as(B)},get speed(){return y},set speed(B){B===y||!x||(y=B,ae.time=as(Q))},get state(){return I},play:Z,pause:()=>{I="paused",_=Q},stop:()=>{b=!0,I!=="idle"&&(I="idle",d&&d(),He())},cancel:()=>{N!==null&&de(N),He()},complete:()=>{I="finished"},sample:B=>(v=0,de(B))};return ae}function TA(t){let e;return()=>(e===void 0&&(e=t()),e)}const EA=TA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),IA=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_c=10,kA=2e4,jA=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Lb(e.ease);function AA(t,e,{onUpdate:n,onComplete:s,...r}){if(!(EA()&&IA.has(e)&&!r.repeatDelay&&r.repeatType!=="mirror"&&r.damping!==0&&r.type!=="inertia"))return!1;let a=!1,l,u,d=!1;const f=()=>{u=new Promise(S=>{l=S})};f();let{keyframes:h,duration:p=300,ease:y,times:b}=r;if(jA(e,r)){const S=ju({...r,repeat:0,delay:0});let V={done:!1,value:h[0]};const M=[];let O=0;for(;!V.done&&O<kA;)V=S.sample(O),M.push(V.value),O+=_c;b=void 0,h=M,p=O-_c,y="linear"}const E=Fj(t.owner.current,e,h,{...r,duration:p,ease:y,times:b}),A=()=>{d=!1,E.cancel()},k=()=>{d=!0,Ie.update(A),l(),f()};return E.onfinish=()=>{d||(t.set(Uj(h,r)),s&&s(),k())},{then(S,V){return u.then(S,V)},attachTimeline(S){return E.timeline=S,E.onfinish=null,Ke},get time(){return as(E.currentTime||0)},set time(S){E.currentTime=Yr(S)},get speed(){return E.playbackRate},set speed(S){E.playbackRate=S},get duration(){return as(p)},play:()=>{a||(E.play(),ps(A))},pause:()=>E.pause(),stop:()=>{if(a=!0,E.playState==="idle")return;const{currentTime:S}=E;if(S){const V=ju({...r,autoplay:!1});t.setWithVelocity(V.sample(S-_c).value,V.sample(S).value,_c)}k()},complete:()=>{d||E.finish()},cancel:k}}function CA({keyframes:t,delay:e,onUpdate:n,onComplete:s}){const r=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Ke,pause:Ke,stop:Ke,then:i=>(i(),Promise.resolve()),cancel:Ke,complete:Ke});return e?ju({keyframes:[0,1],duration:0,delay:e,onComplete:r}):r()}const PA={type:"spring",stiffness:500,damping:25,restSpeed:10},RA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),DA={type:"keyframes",duration:.8},VA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MA=(t,{keyframes:e})=>e.length>2?DA:fi.has(t)?t.startsWith("scale")?RA(e[1]):PA:VA,lm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(dr.test(e)||e==="0")&&!e.startsWith("url(")),LA=new Set(["brightness","contrast","saturate","opacity"]);function OA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Nd)||[];if(!s)return t;const r=n.replace(s,"");let i=LA.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const FA=/([a-z-]*)\(.*?\)/g,cm={...dr,getAnimatableNone:t=>{const e=t.match(FA);return e?e.map(OA).join(" "):t}},UA={...wb,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:cm,WebkitFilter:cm},ig=t=>UA[t];function a2(t,e){let n=ig(t);return n!==cm&&(n=dr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const l2=t=>/^0[^.\s]+$/.test(t);function $A(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||l2(t)}function BA(t,e,n,s){const r=lm(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=s.from!==void 0?s.from:t.get();let l;const u=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?a:i[d-1]),$A(i[d])&&u.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(l=i[d]);if(r&&u.length&&l)for(let d=0;d<u.length;d++){const f=u[d];i[f]=a2(e,l)}return i}function zA({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}function og(t,e){return t[e]||t.default||t}const HA={skipAnimations:!1},ag=(t,e,n,s={})=>r=>{const i=og(s,t)||{},a=i.delay||s.delay||0;let{elapsed:l=0}=s;l=l-Yr(a);const u=BA(e,t,n,i),d=u[0],f=u[u.length-1],h=lm(t,d),p=lm(t,f);let y={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:b=>{e.set(b),i.onUpdate&&i.onUpdate(b)},onComplete:()=>{r(),i.onComplete&&i.onComplete()}};if(zA(i)||(y={...y,...MA(t,y)}),y.duration&&(y.duration=Yr(y.duration)),y.repeatDelay&&(y.repeatDelay=Yr(y.repeatDelay)),!h||!p||Oj.current||i.type===!1||HA.skipAnimations)return CA(y);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=AA(e,t,y);if(b)return b}return ju(y)};function Au(t){return!!(Wt(t)&&t.add)}const c2=t=>/^\-?\d*\.?\d+$/.test(t);function lg(t,e){t.indexOf(e)===-1&&t.push(e)}function cg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ug{constructor(){this.subscriptions=[]}add(e){return lg(this.subscriptions,e),()=>cg(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const WA=t=>!isNaN(parseFloat(t));class qA{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,r=!0)=>{this.prev=this.current,this.current=s;const{delta:i,timestamp:a}=St;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Ie.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ie.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=WA(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ug);const s=this.events[e].add(n);return e==="change"?()=>{s(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?r2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ro(t,e){return new qA(t,e)}const u2=t=>e=>e.test(t),GA={test:t=>t==="auto",parse:t=>t},d2=[mi,ie,On,Rs,ej,Zk,GA],ra=t=>d2.find(u2(t)),KA=[...d2,Ct,dr],QA=t=>KA.find(u2(t));function YA(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ro(n))}function JA(t,e){const n=Td(t,e);let{transitionEnd:s={},transition:r={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...s};for(const a in i){const l=mj(i[a]);YA(t,a,l)}}function XA(t,e,n){var s,r;const i=Object.keys(e).filter(l=>!t.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const u=i[l],d=e[u];let f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(r=(s=n[u])!==null&&s!==void 0?s:t.readValue(u))!==null&&r!==void 0?r:e[u]),f!=null&&(typeof f=="string"&&(c2(f)||l2(f))?f=parseFloat(f):!QA(f)&&dr.test(d)&&(f=a2(u,d)),t.addValue(u,ro(f,{owner:t})),n[u]===void 0&&(n[u]=f),f!==null&&t.setBaseTarget(u,f))}}function ZA(t,e){return e?(e[t]||e.default||e).from:void 0}function eC(t,e,n){const s={};for(const r in t){const i=ZA(r,e);if(i!==void 0)s[r]=i;else{const a=n.getValue(r);a&&(s[r]=a.get())}}return s}function tC({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function nC(t,e){const n=t.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}else return n!==e}function h2(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");s&&(i=s);const d=[],f=r&&t.animationState&&t.animationState.getState()[r];for(const h in l){const p=t.getValue(h),y=l[h];if(!p||y===void 0||f&&tC(f,h))continue;const b={delay:n,elapsed:0,...og(i||{},h)};if(window.HandoffAppearAnimations){const k=t.getProps()[fb];if(k){const x=window.HandoffAppearAnimations(k,h,p,Ie);x!==null&&(b.elapsed=x,b.isHandoff=!0)}}let E=!b.isHandoff&&!nC(p,y);if(b.type==="spring"&&(p.getVelocity()||b.velocity)&&(E=!1),p.animation&&(E=!1),E)continue;p.start(ag(h,p,y,t.shouldReduceMotion&&fi.has(h)?{type:!1}:b));const A=p.animation;Au(u)&&(u.add(h),A.then(()=>u.remove(h))),d.push(A)}return a&&Promise.all(d).then(()=>{a&&JA(t,a)}),d}function um(t,e,n={}){const s=Td(t,e,n.custom);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const i=s?()=>Promise.all(h2(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=r;return sC(t,e,d+u,f,h,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function sC(t,e,n=0,s=0,r=1,i){const a=[],l=(t.variantChildren.size-1)*s,u=r===1?(d=0)=>d*s:(d=0)=>l-d*s;return Array.from(t.variantChildren).sort(rC).forEach((d,f)=>{d.notify("AnimationStart",e),a.push(um(d,e,{...i,delay:n+u(f)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(a)}function rC(t,e){return t.sortNodePosition(e)}function iC(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>um(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=um(t,e,n);else{const r=typeof e=="function"?Td(t,e,n.custom):e;s=Promise.all(h2(t,r,n))}return s.then(()=>t.notify("AnimationComplete",e))}const oC=[...Wp].reverse(),aC=Wp.length;function lC(t){return e=>Promise.all(e.map(({animation:n,options:s})=>iC(t,n,s)))}function cC(t){let e=lC(t);const n=dC();let s=!0;const r=(u,d)=>{const f=Td(t,d);if(f){const{transition:h,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function i(u){e=u(t)}function a(u,d){const f=t.getProps(),h=t.getVariantContext(!0)||{},p=[],y=new Set;let b={},E=1/0;for(let k=0;k<aC;k++){const x=oC[k],S=n[x],V=f[x]!==void 0?f[x]:h[x],M=nl(V),O=x===d?S.isActive:null;O===!1&&(E=k);let I=V===h[x]&&V!==f[x]&&M;if(I&&s&&t.manuallyAnimateOnMount&&(I=!1),S.protectedKeys={...b},!S.isActive&&O===null||!V&&!S.prevProp||_d(V)||typeof V=="boolean")continue;let v=uC(S.prevProp,V)||x===d&&S.isActive&&!I&&M||k>E&&M,N=!1;const P=Array.isArray(V)?V:[V];let R=P.reduce(r,{});O===!1&&(R={});const{prevResolvedValues:j={}}=S,Q={...j,...R},de=ve=>{v=!0,y.has(ve)&&(N=!0,y.delete(ve)),S.needsAnimating[ve]=!0};for(const ve in Q){const He=R[ve],W=j[ve];if(b.hasOwnProperty(ve))continue;let Z=!1;Eu(He)&&Eu(W)?Z=!Vb(He,W):Z=He!==W,Z?He!==void 0?de(ve):y.add(ve):He!==void 0&&y.has(ve)?de(ve):S.protectedKeys[ve]=!0}S.prevProp=V,S.prevResolvedValues=R,S.isActive&&(b={...b,...R}),s&&t.blockInitialAnimation&&(v=!1),v&&(!I||N)&&p.push(...P.map(ve=>({animation:ve,options:{type:x,...u}})))}if(y.size){const k={};y.forEach(x=>{const S=t.getBaseTarget(x);S!==void 0&&(k[x]=S)}),p.push({animation:k})}let A=!!p.length;return s&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(A=!1),s=!1,A?e(p):Promise.resolve()}function l(u,d,f){var h;if(n[u].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,d)}),n[u].isActive=d;const p=a(f,u);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function uC(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Vb(e,t):!1}function Rr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dC(){return{animate:Rr(!0),whileInView:Rr(),whileHover:Rr(),whileTap:Rr(),whileDrag:Rr(),whileFocus:Rr(),exit:Rr()}}class hC extends br{constructor(e){super(e),e.animationState||(e.animationState=cC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_d(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fC=0;class mC extends br{constructor(){super(...arguments),this.id=fC++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pC={animation:{Feature:hC},exit:{Feature:mC}},A0=(t,e)=>Math.abs(t-e);function gC(t,e){const n=A0(t.x,e.x),s=A0(t.y,e.y);return Math.sqrt(n**2+s**2)}class f2{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Kh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=gC(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:b}=h,{timestamp:E}=St;this.history.push({...b,timestamp:E});const{onStart:A,onMove:k}=this.handlers;p||(A&&A(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Gh(p,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Kh(h.type==="pointercancel"?this.lastMoveEventInfo:Gh(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,A),b&&b(h,A)},!Ab(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Sd(e),l=Gh(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=St;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(e,Kh(l,this.history)),this.removeListeners=Zs(os(this.contextWindow,"pointermove",this.handlePointerMove),os(this.contextWindow,"pointerup",this.handlePointerUp),os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function Gh(t,e){return e?{point:e(t.point)}:t}function C0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kh({point:t},e){return{point:t,delta:C0(t,m2(e)),offset:C0(t,yC(e)),velocity:xC(e,.1)}}function yC(t){return t[0]}function m2(t){return t[t.length-1]}function xC(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=m2(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Yr(e)));)n--;if(!s)return{x:0,y:0};const i=as(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function tn(t){return t.max-t.min}function dm(t,e=0,n=.01){return Math.abs(t-e)<=n}function P0(t,e,n,s=.5){t.origin=s,t.originPoint=Me(e.min,e.max,t.origin),t.scale=tn(n)/tn(e),(dm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Me(n.min,n.max,t.origin)-t.originPoint,(dm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ka(t,e,n,s){P0(t.x,e.x,n.x,s?s.originX:void 0),P0(t.y,e.y,n.y,s?s.originY:void 0)}function R0(t,e,n){t.min=n.min+e.min,t.max=t.min+tn(e)}function vC(t,e,n){R0(t.x,e.x,n.x),R0(t.y,e.y,n.y)}function D0(t,e,n){t.min=e.min-n.min,t.max=t.min+tn(e)}function ja(t,e,n){D0(t.x,e.x,n.x),D0(t.y,e.y,n.y)}function wC(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Me(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Me(n,t,s.max):Math.min(t,n)),t}function V0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function _C(t,{top:e,left:n,bottom:s,right:r}){return{x:V0(t.x,n,r),y:V0(t.y,e,s)}}function M0(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function bC(t,e){return{x:M0(t.x,e.x),y:M0(t.y,e.y)}}function NC(t,e){let n=.5;const s=tn(t),r=tn(e);return r>s?n=rl(e.min,e.max-s,t.min):s>r&&(n=rl(t.min,t.max-r,e.min)),ur(0,1,n)}function SC(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hm=.35;function TC(t=hm){return t===!1?t=0:t===!0&&(t=hm),{x:L0(t,"left","right"),y:L0(t,"top","bottom")}}function L0(t,e,n){return{min:O0(t,e),max:O0(t,n)}}function O0(t,e){return typeof t=="number"?t:t[e]||0}const F0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fi=()=>({x:F0(),y:F0()}),U0=()=>({min:0,max:0}),Ye=()=>({x:U0(),y:U0()});function an(t){return[t("x"),t("y")]}function p2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function EC({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function IC(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Qh(t){return t===void 0||t===1}function fm({scale:t,scaleX:e,scaleY:n}){return!Qh(t)||!Qh(e)||!Qh(n)}function Mr(t){return fm(t)||g2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function g2(t){return $0(t.x)||$0(t.y)}function $0(t){return t&&t!=="0%"}function Cu(t,e,n){const s=t-n,r=e*s;return n+r}function B0(t,e,n,s,r){return r!==void 0&&(t=Cu(t,r,s)),Cu(t,n,s)+e}function mm(t,e=0,n=1,s,r){t.min=B0(t.min,e,n,s,r),t.max=B0(t.max,e,n,s,r)}function y2(t,{x:e,y:n}){mm(t.x,e.translate,e.scale,e.originPoint),mm(t.y,n.translate,n.scale,n.originPoint)}function kC(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const u=i.instance;u&&u.style&&u.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ui(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,y2(t,a)),s&&Mr(i.latestValues)&&Ui(t,i.latestValues))}e.x=z0(e.x),e.y=z0(e.y)}function z0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ms(t,e){t.min=t.min+e,t.max=t.max+e}function H0(t,e,[n,s,r]){const i=e[r]!==void 0?e[r]:.5,a=Me(t.min,t.max,i);mm(t,e[n],e[s],a,e.scale)}const jC=["x","scaleX","originX"],AC=["y","scaleY","originY"];function Ui(t,e){H0(t.x,e,jC),H0(t.y,e,AC)}function x2(t,e){return p2(IC(t.getBoundingClientRect(),e))}function CC(t,e,n){const s=x2(t,n),{scroll:r}=e;return r&&(Ms(s.x,r.offset.x),Ms(s.y,r.offset.y)),s}const v2=({current:t})=>t?t.ownerDocument.defaultView:null,PC=new WeakMap;class RC{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sd(f,"page").point)},i=(f,h)=>{const{drag:p,dragPropagation:y,onDragStart:b}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Pb(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(A=>{let k=this.getAxisMotionValue(A).get()||0;if(On.test(k)){const{projection:x}=this.visualElement;if(x&&x.layout){const S=x.layout.layoutBox[A];S&&(k=tn(S)*(parseFloat(k)/100))}}this.originPoint[A]=k}),b&&Ie.update(()=>b(f,h),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},a=(f,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:b,onDrag:E}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:A}=h;if(y&&this.currentDirection===null){this.currentDirection=DC(A),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,A),this.updateAxis("y",h.point,A),this.visualElement.render(),E&&E(f,h)},l=(f,h)=>this.stop(f,h),u=()=>an(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new f2(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:v2(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Ie.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!bc(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=wC(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=_C(r.layoutBox,n):this.constraints=!1,this.elastic=TC(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&an(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=SC(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Li(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=CC(s,r.root,this.visualElement.getTransformPagePoint());let a=bC(r.layout.layoutBox,i);if(n){const l=n(EC(a));this.hasMutatedConstraints=!!l,l&&(a=p2(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=an(f=>{if(!bc(f,n,this.currentDirection))return;let h=u&&u[f]||{};a&&(h={min:0,max:0});const p=r?200:1e6,y=r?40:1e7,b={type:"inertia",velocity:s?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return s.start(ag(e,s,0,n))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){an(n=>{const{drag:s}=this.getProps();if(!bc(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(e[n]-Me(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Li(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};an(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();r[a]=NC({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),an(a=>{if(!bc(a,e,null))return;const l=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];l.set(Me(u,d,r[a]))})}addListeners(){if(!this.visualElement.current)return;PC.set(this.visualElement,this);const e=this.visualElement.current,n=os(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();Li(u)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),s();const a=ns(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(an(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=hm,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DC(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VC extends br{constructor(e){super(e),this.removeGroupControls=Ke,this.removeListeners=Ke,this.controls=new RC(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const W0=t=>(e,n)=>{t&&Ie.update(()=>t(e,n))};class MC extends br{constructor(){super(...arguments),this.removePointerDownListener=Ke}onPointerDown(e){this.session=new f2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:W0(e),onStart:W0(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&Ie.update(()=>r(i,a))}}}mount(){this.removePointerDownListener=os(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function LC(){const t=D.useContext(vd);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:s}=t,r=D.useId();return D.useEffect(()=>s(r),[]),!e&&n?[!1,()=>n&&n(r)]:[!0]}const Bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function q0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ia={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=q0(t,e.target.x),s=q0(t,e.target.y);return`${n}% ${s}%`}},OC={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=dr.parse(t);if(r.length>5)return s;const i=dr.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=u;const d=Me(l,u,.5);return typeof r[2+a]=="number"&&(r[2+a]/=d),typeof r[3+a]=="number"&&(r[3+a]/=d),i(r)}};class FC extends nd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;qk(UC),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Ie.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w2(t){const[e,n]=LC(),s=D.useContext(Gp);return nd.createElement(FC,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(pb),isPresent:e,safeToRemove:n})}const UC={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:OC},_2=["TopLeft","TopRight","BottomLeft","BottomRight"],$C=_2.length,G0=t=>typeof t=="string"?parseFloat(t):t,K0=t=>typeof t=="number"||ie.test(t);function BC(t,e,n,s,r,i){r?(t.opacity=Me(0,n.opacity!==void 0?n.opacity:1,zC(s)),t.opacityExit=Me(e.opacity!==void 0?e.opacity:1,0,HC(s))):i&&(t.opacity=Me(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<$C;a++){const l=`border${_2[a]}Radius`;let u=Q0(e,l),d=Q0(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||K0(u)===K0(d)?(t[l]=Math.max(Me(G0(u),G0(d),s),0),(On.test(d)||On.test(u))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Me(e.rotate||0,n.rotate||0,s))}function Q0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const zC=b2(0,.5,Hb),HC=b2(.5,.95,Ke);function b2(t,e,n){return s=>s<t?0:s>e?1:n(rl(t,e,s))}function Y0(t,e){t.min=e.min,t.max=e.max}function on(t,e){Y0(t.x,e.x),Y0(t.y,e.y)}function J0(t,e,n,s,r){return t-=e,t=Cu(t,1/n,s),r!==void 0&&(t=Cu(t,1/r,s)),t}function WC(t,e=0,n=1,s=.5,r,i=t,a=t){if(On.test(e)&&(e=parseFloat(e),e=Me(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Me(i.min,i.max,s);t===i&&(l-=e),t.min=J0(t.min,e,n,l,r),t.max=J0(t.max,e,n,l,r)}function X0(t,e,[n,s,r],i,a){WC(t,e[n],e[s],e[r],e.scale,i,a)}const qC=["x","scaleX","originX"],GC=["y","scaleY","originY"];function Z0(t,e,n,s){X0(t.x,e,qC,n?n.x:void 0,s?s.x:void 0),X0(t.y,e,GC,n?n.y:void 0,s?s.y:void 0)}function ev(t){return t.translate===0&&t.scale===1}function N2(t){return ev(t.x)&&ev(t.y)}function KC(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function S2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function tv(t){return tn(t.x)/tn(t.y)}class QC{constructor(){this.members=[]}add(e){lg(this.members,e),e.scheduleRender()}remove(e){if(cg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nv(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y;if((r||i)&&(s=`translate3d(${r}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:u,rotateX:d,rotateY:f}=n;u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const YC=(t,e)=>t.depth-e.depth;class JC{constructor(){this.children=[],this.isDirty=!1}add(e){lg(this.children,e),this.isDirty=!0}remove(e){cg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YC),this.isDirty=!1,this.children.forEach(e)}}function XC(t,e){const n=performance.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(ps(s),t(i-e))};return Ie.read(s,!0),()=>ps(s)}function ZC(t){window.MotionDebug&&window.MotionDebug.record(t)}function eP(t){return t instanceof SVGElement&&t.tagName!=="svg"}function tP(t,e,n){const s=Wt(t)?t:ro(t);return s.start(ag("",s,e,n)),s.animation}const sv=["","X","Y","Z"],nP={visibility:"hidden"},rv=1e3;let sP=0;const Lr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function T2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=sP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lr.totalNodes=Lr.resolvedTargetDeltas=Lr.recalculatedProjection=0,this.nodes.forEach(oP),this.nodes.forEach(dP),this.nodes.forEach(hP),this.nodes.forEach(aP),ZC(Lr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new JC)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ug),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const u=this.eventHandlers.get(a);u&&u.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eP(a),this.instance=a;const{layoutId:u,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||u)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=XC(p,250),Bc.hasAnimatedSinceResize&&(Bc.hasAnimatedSinceResize=!1,this.nodes.forEach(ov))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||f.getDefaultTransition()||yP,{onLayoutAnimationStart:A,onLayoutAnimationComplete:k}=f.getProps(),x=!this.targetLayout||!S2(this.targetLayout,b)||y,S=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||p&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const V={...og(E,"layout"),onPlay:A,onComplete:k};(f.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else p||ov(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fP),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iv);return}this.isUpdating||this.nodes.forEach(cP),this.isUpdating=!1,this.nodes.forEach(uP),this.nodes.forEach(rP),this.nodes.forEach(iP),this.clearAllSnapshots();const l=performance.now();St.delta=ur(0,1e3/60,l-St.timestamp),St.timestamp=l,St.isProcessing=!0,Fh.update.process(St),Fh.preRender.process(St),Fh.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lP),this.sharedNodes.forEach(mP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!N2(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&(l||Mr(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return a&&(u=this.removeTransform(u)),xP(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ye();const l=a.measureViewportBox(),{scroll:u}=this.root;return u&&(Ms(l.x,u.offset.x),Ms(l.y,u.offset.y)),l}removeElementScroll(a){const l=Ye();on(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;if(d!==this.root&&f&&h.layoutScroll){if(f.isRoot){on(l,a);const{scroll:p}=this.root;p&&(Ms(l.x,-p.offset.x),Ms(l.y,-p.offset.y))}Ms(l.x,f.offset.x),Ms(l.y,f.offset.y)}}return l}applyTransform(a,l=!1){const u=Ye();on(u,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ui(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Mr(f.latestValues)&&Ui(u,f.latestValues)}return Mr(this.latestValues)&&Ui(u,this.latestValues),u}removeTransform(a){const l=Ye();on(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Mr(d.latestValues))continue;fm(d.latestValues)&&d.updateSnapshot();const f=Ye(),h=d.measurePageBox();on(f,h),Z0(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Mr(this.latestValues)&&Z0(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),ja(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):on(this.target,this.layout.layoutBox),y2(this.target,this.targetDelta)):on(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),ja(this.relativeTargetOrigin,this.target,y.target),on(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fm(this.parent.latestValues)||g2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===St.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;on(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;kC(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:b}=l;if(!b){this.projectionTransform&&(this.projectionDelta=Fi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fi(),this.projectionDeltaWithTransform=Fi());const E=this.projectionTransform;ka(this.projectionDelta,this.layoutCorrected,b,this.latestValues),this.projectionTransform=nv(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Lr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},h=Fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ye(),y=u?u.source:void 0,b=this.layout?this.layout.source:void 0,E=y!==b,A=this.getStack(),k=!A||A.members.length<=1,x=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(gP));this.animationProgress=0;let S;this.mixTargetDelta=V=>{const M=V/1e3;av(h.x,a.x,M),av(h.y,a.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ja(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pP(this.relativeTarget,this.relativeTargetOrigin,p,M),S&&KC(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ye()),on(S,this.relativeTarget)),E&&(this.animationValues=f,BC(f,d,this.latestValues,M,x,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Bc.hasAnimatedSinceResize=!0,this.currentAnimation=tP(0,rv,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=a;if(!(!l||!u||!d)){if(this!==a&&this.layout&&d&&E2(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Ye();const h=tn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+h;const p=tn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+p}on(l,u),Ui(l,f),ka(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new QC),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:u}=a;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(l=!0),!l)return;const d={};for(let f=0;f<sv.length;f++){const h="rotate"+sv[f];u[h]&&(d[h]=u[h],a.setStaticValue(h,0))}a.render();for(const f in d)a.setStaticValue(f,d[f]);a.scheduleRender()}getProjectionStyles(a){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nP;const d={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=$c(a==null?void 0:a.pointerEvents)||"",d.transform=f?f(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=$c(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Mr(this.latestValues)&&(E.transform=f?f({},""):"none",this.hasProjected=!1),E}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=nv(this.projectionDeltaWithTransform,this.treeScale,p),f&&(d.transform=f(p,d.transform));const{x:y,y:b}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?d.opacity=h===this?(u=(l=p.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const E in Su){if(p[E]===void 0)continue;const{correct:A,applyTo:k}=Su[E],x=d.transform==="none"?p[E]:A(p[E],h);if(k){const S=k.length;for(let V=0;V<S;V++)d[k[V]]=x}else d[E]=x}return this.options.layoutId&&(d.pointerEvents=h===this?$c(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(iv),this.root.sharedNodes.clear()}}}function rP(t){t.updateLayout()}function iP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?an(h=>{const p=a?n.measuredBox[h]:n.layoutBox[h],y=tn(p);p.min=s[h].min,p.max=p.min+y}):E2(i,n.layoutBox,s)&&an(h=>{const p=a?n.measuredBox[h]:n.layoutBox[h],y=tn(s[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const l=Fi();ka(l,s,n.layoutBox);const u=Fi();a?ka(u,t.applyTransform(r,!0),n.measuredBox):ka(u,s,n.layoutBox);const d=!N2(l);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const b=Ye();ja(b,n.layoutBox,p.layoutBox);const E=Ye();ja(E,s,y.layoutBox),S2(b,E)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function oP(t){Lr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lP(t){t.clearSnapshot()}function iv(t){t.clearMeasurements()}function cP(t){t.isLayoutDirty=!1}function uP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ov(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dP(t){t.resolveTargetDelta()}function hP(t){t.calcProjection()}function fP(t){t.resetRotation()}function mP(t){t.removeLeadSnapshot()}function av(t,e,n){t.translate=Me(e.translate,0,n),t.scale=Me(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lv(t,e,n,s){t.min=Me(e.min,n.min,s),t.max=Me(e.max,n.max,s)}function pP(t,e,n,s){lv(t.x,e.x,n.x,s),lv(t.y,e.y,n.y,s)}function gP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yP={duration:.45,ease:[.4,0,.1,1]},cv=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),uv=cv("applewebkit/")&&!cv("chrome/")?Math.round:Ke;function dv(t){t.min=uv(t.min),t.max=uv(t.max)}function xP(t){dv(t.x),dv(t.y)}function E2(t,e,n){return t==="position"||t==="preserve-aspect"&&!dm(tv(e),tv(n),.2)}const vP=T2({attachResizeListener:(t,e)=>ns(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yh={current:void 0},I2=T2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yh.current){const t=new vP({});t.mount(window),t.setOptions({layoutScroll:!0}),Yh.current=t}return Yh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wP={pan:{Feature:MC},drag:{Feature:VC,ProjectionNode:I2,MeasureLayout:w2}},_P=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function bP(t){const e=_P.exec(t);if(!e)return[,];const[,n,s]=e;return[n,s]}function pm(t,e,n=1){const[s,r]=bP(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return c2(a)?parseFloat(a):a}else return rm(r)?pm(r,e,n+1):r}function NP(t,{...e},n){const s=t.current;if(!(s instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(r=>{const i=r.get();if(!rm(i))return;const a=pm(i,s);a&&r.set(a)});for(const r in e){const i=e[r];if(!rm(i))continue;const a=pm(i,s);a&&(e[r]=a,n||(n={}),n[r]===void 0&&(n[r]=i))}return{target:e,transitionEnd:n}}const SP=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),k2=t=>SP.has(t),TP=t=>Object.keys(t).some(k2),hv=t=>t===mi||t===ie,fv=(t,e)=>parseFloat(t.split(", ")[e]),mv=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/);if(r)return fv(r[1],e);{const i=s.match(/^matrix\((.+)\)$/);return i?fv(i[1],t):0}},EP=new Set(["x","y","z"]),IP=_l.filter(t=>!EP.has(t));function kP(t){const e=[];return IP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const io={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:mv(4,13),y:mv(5,14)};io.translateX=io.x;io.translateY=io.y;const jP=(t,e,n)=>{const s=e.measureViewportBox(),r=e.current,i=getComputedStyle(r),{display:a}=i,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{l[d]=io[d](s,i)}),e.render();const u=e.measureViewportBox();return n.forEach(d=>{const f=e.getValue(d);f&&f.jump(l[d]),t[d]=io[d](u,i)}),t},AP=(t,e,n={},s={})=>{e={...e},s={...s};const r=Object.keys(e).filter(k2);let i=[],a=!1;const l=[];if(r.forEach(u=>{const d=t.getValue(u);if(!t.hasValue(u))return;let f=n[u],h=ra(f);const p=e[u];let y;if(Eu(p)){const b=p.length,E=p[0]===null?1:0;f=p[E],h=ra(f);for(let A=E;A<b&&p[A]!==null;A++)y?tg(ra(p[A])===y):y=ra(p[A])}else y=ra(p);if(h!==y)if(hv(h)&&hv(y)){const b=d.get();typeof b=="string"&&d.set(parseFloat(b)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&y===ie&&(e[u]=p.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(f===0||p===0)?f===0?d.set(y.transform(f)):e[u]=h.transform(p):(a||(i=kP(t),a=!0),l.push(u),s[u]=s[u]!==void 0?s[u]:e[u],d.jump(p))}),l.length){const u=l.indexOf("height")>=0?window.pageYOffset:null,d=jP(e,t,l);return i.length&&i.forEach(([f,h])=>{t.getValue(f).set(h)}),t.render(),wd&&u!==null&&window.scrollTo({top:u}),{target:d,transitionEnd:s}}else return{target:e,transitionEnd:s}};function CP(t,e,n,s){return TP(e)?AP(t,e,n,s):{target:e,transitionEnd:s}}const PP=(t,e,n,s)=>{const r=NP(t,e,s);return e=r.target,s=r.transitionEnd,CP(t,e,n,s)},gm={current:null},j2={current:!1};function RP(){if(j2.current=!0,!!wd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gm.current=t.matches;t.addListener(e),e()}else gm.current=!1}function DP(t,e,n){const{willChange:s}=e;for(const r in e){const i=e[r],a=n[r];if(Wt(i))t.addValue(r,i),Au(s)&&s.add(r);else if(Wt(a))t.addValue(r,ro(i,{owner:t})),Au(s)&&s.remove(r);else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);!l.hasAnimated&&l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ro(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const pv=new WeakMap,A2=Object.keys(sl),VP=A2.length,gv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],MP=qp.length;class LP{constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ie.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=bd(n),this.isVariantNode=mb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{});for(const h in f){const p=f[h];l[h]!==void 0&&Wt(p)&&(p.set(l[h],!1),Au(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,pv.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),j2.current||RP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pv.delete(this.current),this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const s=fi.has(e),r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ie.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},s,r,i){let a,l;for(let u=0;u<VP;u++){const d=A2[u],{isEnabled:f,Feature:h,ProjectionNode:p,MeasureLayout:y}=sl[d];p&&(a=p),f(n)&&(!this.features[d]&&h&&(this.features[d]=new h(this)),y&&(l=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:d,drag:f,dragConstraints:h,layoutScroll:p,layoutRoot:y}=n;this.projection.setOptions({layoutId:u,layout:d,alwaysMeasureLayout:!!f||h&&Li(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:y})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<gv.length;s++){const r=gv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=DP(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<MP;s++){const r=qp[s],i=this.props[r];(nl(i)||i===!1)&&(n[r]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ro(n,{owner:this}),this.addValue(e,s)),s}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props,r=typeof s=="string"||typeof s=="object"?(n=eg(this.props,s))===null||n===void 0?void 0:n[e]:void 0;if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Wt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ug),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class C2 extends LP{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...s},{transformValues:r},i){let a=eC(s,e||{},this);if(r&&(n&&(n=r(n)),s&&(s=r(s)),a&&(a=r(a))),i){XA(this,s,a);const l=PP(this,s,a,n);n=l.transitionEnd,s=l.target}return{transition:e,transitionEnd:n,...s}}}function OP(t){return window.getComputedStyle(t)}class FP extends C2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(fi.has(n)){const s=ig(n);return s&&s.default||0}else{const s=OP(e),r=(xb(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return x2(e,n)}build(e,n,s,r){Qp(e,n,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Zp(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,s,r){Sb(e,n,s,r)}}class UP extends C2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fi.has(n)){const s=ig(n);return s&&s.default||0}return n=Tb.has(n)?n:Hp(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ye()}scrapeMotionValuesFromProps(e,n){return Ib(e,n)}build(e,n,s,r){Jp(e,n,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,s,r){Eb(e,n,s,r)}mount(e){this.isSVGTag=Xp(e.tagName),super.mount(e)}}const $P=(t,e)=>Kp(t)?new UP(e,{enableHardwareAcceleration:!1}):new FP(e,{enableHardwareAcceleration:!0}),BP={layout:{ProjectionNode:I2,MeasureLayout:w2}},zP={...pC,...Vj,...wP,...BP},U=Hk((t,e)=>bj(t,e,zP,$P));function P2(){const t=D.useRef(!1);return zp(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function HP(){const t=P2(),[e,n]=D.useState(0),s=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>Ie.postRender(s),[s]),e]}class WP extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qP({children:t,isPresent:e}){const n=D.useId(),s=D.useRef(null),r=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=r.current;if(e||!s.current||!i||!a)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),D.createElement(WP,{isPresent:e,childRef:s,sizeRef:r},D.cloneElement(t,{ref:s}))}const Jh=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const l=kb(GP),u=D.useId(),d=D.useMemo(()=>({id:u,initial:e,isPresent:n,custom:r,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;s&&s()},register:f=>(l.set(f,!1),()=>l.delete(f))}),i?void 0:[n]);return D.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[n]),D.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(t=D.createElement(qP,{isPresent:n},t)),D.createElement(vd.Provider,{value:d},t)};function GP(){return new Map}function KP(t){return D.useEffect(()=>()=>t(),[])}const Or=t=>t.key||"";function QP(t,e){t.forEach(n=>{const s=Or(n);e.set(s,n)})}function YP(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const yt=({children:t,custom:e,initial:n=!0,onExitComplete:s,exitBeforeEnter:r,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=D.useContext(Gp).forceRender||HP()[0],u=P2(),d=YP(t);let f=d;const h=D.useRef(new Map).current,p=D.useRef(f),y=D.useRef(new Map).current,b=D.useRef(!0);if(zp(()=>{b.current=!1,QP(d,y),p.current=f}),KP(()=>{b.current=!0,y.clear(),h.clear()}),b.current)return D.createElement(D.Fragment,null,f.map(x=>D.createElement(Jh,{key:Or(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},x)));f=[...f];const E=p.current.map(Or),A=d.map(Or),k=E.length;for(let x=0;x<k;x++){const S=E[x];A.indexOf(S)===-1&&!h.has(S)&&h.set(S,void 0)}return a==="wait"&&h.size&&(f=[]),h.forEach((x,S)=>{if(A.indexOf(S)!==-1)return;const V=y.get(S);if(!V)return;const M=E.indexOf(S);let O=x;if(!O){const I=()=>{h.delete(S);const _=Array.from(y.keys()).filter(v=>!A.includes(v));if(_.forEach(v=>y.delete(v)),p.current=d.filter(v=>{const N=Or(v);return N===S||_.includes(N)}),!h.size){if(u.current===!1)return;l(),s&&s()}};O=D.createElement(Jh,{key:Or(V),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:i,mode:a},V),h.set(S,O)}f.splice(M,0,O)}),f=f.map(x=>{const S=x.key;return h.has(S)?x:D.createElement(Jh,{key:Or(x),isPresent:!0,presenceAffectsLayout:i,mode:a},x)}),D.createElement(D.Fragment,null,h.size?f:f.map(x=>D.cloneElement(x)))};class Tl{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const JP=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},pt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:JP()},dg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},XP=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=dg(t);pt.publicKey=n.publicKey,pt.blockHeadless=n.blockHeadless,pt.storageProvider=n.storageProvider,pt.blockList=n.blockList,pt.limitRate=n.limitRate,pt.origin=n.origin||e},R2=async(t,e,n={})=>{const s=await fetch(pt.origin+t,{method:"POST",headers:n,body:e}),r=await s.text(),i=new Tl(s.status,r);if(s.ok)return i;throw i},D2=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ZP=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},V2=t=>t.webdriver||!t.languages||t.languages.length===0,M2=()=>new Tl(451,"Unavailable For Headless Browser"),eR=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},tR=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},nR=(t,e)=>t instanceof FormData?t.get(e):t[e],L2=(t,e)=>{if(tR(t))return!1;eR(t.list,t.watchVariable);const n=nR(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},O2=()=>new Tl(403,"Forbidden"),sR=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},rR=async(t,e,n)=>{const s=Number(await n.get(t)||0);return e-Date.now()+s},F2=async(t,e,n)=>{if(!e.throttle||!n)return!1;sR(e.throttle,e.id);const s=e.id||t;return await rR(s,e.throttle,n)>0?!0:(await n.set(s,Date.now().toString()),!1)},U2=()=>new Tl(429,"Too Many Requests"),iR=async(t,e,n,s)=>{const r=dg(s),i=r.publicKey||pt.publicKey,a=r.blockHeadless||pt.blockHeadless,l=r.storageProvider||pt.storageProvider,u={...pt.blockList,...r.blockList},d={...pt.limitRate,...r.limitRate};return a&&V2(navigator)?Promise.reject(M2()):(D2(i,t,e),ZP(n),n&&L2(u,n)?Promise.reject(O2()):await F2(location.pathname,d,l)?Promise.reject(U2()):R2("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},oR=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},aR=t=>typeof t=="string"?document.querySelector(t):t,lR=async(t,e,n,s)=>{const r=dg(s),i=r.publicKey||pt.publicKey,a=r.blockHeadless||pt.blockHeadless,l=pt.storageProvider||r.storageProvider,u={...pt.blockList,...r.blockList},d={...pt.limitRate,...r.limitRate};if(a&&V2(navigator))return Promise.reject(M2());const f=aR(n);D2(i,t,e),oR(f);const h=new FormData(f);return L2(u,h)?Promise.reject(O2()):await F2(location.pathname,d,l)?Promise.reject(U2()):(h.append("lib_version","4.4.1"),h.append("service_id",t),h.append("template_id",e),h.append("user_id",i),R2("/api/v1.0/email/send-form",h))},ym={init:XP,send:iR,sendForm:lR,EmailJSResponseStatus:Tl};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=D.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...d},f)=>D.createElement("svg",{ref:f,...cR,width:r,height:r,stroke:s,strokeWidth:a?Number(i)*24/Number(r):i,className:["lucide",`lucide-${uR(t)}`,l].join(" "),...d},[...e.map(([h,p])=>D.createElement(h,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=J("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=J("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=J("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=J("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=J("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=J("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=J("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=J("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=J("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=J("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=J("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=J("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=J("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=J("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=J("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=J("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=J("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=J("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=J("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=J("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=J("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=J("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=J("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=J("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=J("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=J("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=J("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=J("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=J("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=J("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=J("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=J("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=J("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=J("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=J("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=J("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=J("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=J("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),jR=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},AR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},nN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,d=u?t[r+2]:0,f=i>>2,h=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;u||(y=64,a||(p=64)),s.push(n[f],n[h],n[p],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||d==null||h==null)throw new CR;const p=i<<2|l>>4;if(s.push(p),d!==64){const y=l<<4&240|d>>2;if(s.push(y),h!==64){const b=d<<6&192|h;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PR=function(t){const e=tN(t);return nN.encodeByteArray(e,!0)},Vu=function(t){return PR(t).replace(/\./g,"")},sN=function(t){try{return nN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=()=>RR().__FIREBASE_DEFAULTS__,VR=()=>{if(typeof process>"u"||typeof wv>"u")return;const t=wv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sN(t[1]);return e&&JSON.parse(e)},Ed=()=>{try{return jR()||DR()||VR()||MR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rN=t=>{var e,n;return(n=(e=Ed())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LR=t=>{const e=rN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iN=()=>{var t;return(t=Ed())==null?void 0:t.config},oN=t=>{var e;return(e=Ed())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vu(JSON.stringify(n)),Vu(JSON.stringify(a)),""].join(".")}const Ra={};function UR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ra))Ra[e]?t.emulator.push(e):t.prod.push(e);return t}function $R(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _v=!1;function lN(t,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Ra[t]===e||Ra[t]||_v)return;Ra[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",i=UR().prod.length>0;function a(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{_v=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=$R(s),y=n("text"),b=document.getElementById(y)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),k=n("preprendIcon"),x=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;l(S),f(A,E);const V=d();u(x,k),S.append(x,b,A,V),document.body.appendChild(S)}i?(b.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function zR(){var e;const t=(e=Ed())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GR(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QR(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="FirebaseError";class _s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=JR,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?XR(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new _s(r,l,s)}}function XR(t,e){return t.replace(ZR,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const ZR=/\{\$([^}]+)}/g;function e4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ii(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(bv(i)&&bv(a)){if(!ii(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function bv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function da(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function t4(t,e){const n=new n4(t,e);return n.subscribe.bind(n)}class n4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s4(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Xh),r.error===void 0&&(r.error=Xh),r.complete===void 0&&(r.complete=Xh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new OR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o4(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fr){return this.instances.has(e)}getOptions(e=Fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i4(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fr){return this.component?this.component.multipleInstances?e:Fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i4(t){return t===Fr?void 0:t}function o4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const l4={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},c4=me.INFO,u4={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},d4=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=u4[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=c4,this._logHandler=d4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const h4=(t,e)=>e.some(n=>t instanceof n);let Nv,Sv;function f4(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m4(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cN=new WeakMap,Nm=new WeakMap,uN=new WeakMap,Zh=new WeakMap,pg=new WeakMap;function p4(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(sr(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&cN.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function g4(t){if(Nm.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Nm.set(t,e)}let Sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y4(t){Sm=t(Sm)}function x4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ef(this),e,...n);return uN.set(s,e.sort?e.sort():[e]),sr(s)}:m4().includes(t)?function(...e){return t.apply(ef(this),e),sr(cN.get(this))}:function(...e){return sr(t.apply(ef(this),e))}}function v4(t){return typeof t=="function"?x4(t):(t instanceof IDBTransaction&&g4(t),h4(t,f4())?new Proxy(t,Sm):t)}function sr(t){if(t instanceof IDBRequest)return p4(t);if(Zh.has(t))return Zh.get(t);const e=v4(t);return e!==t&&(Zh.set(t,e),pg.set(e,t)),e}const ef=t=>pg.get(t);function w4(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=sr(a);return s&&a.addEventListener("upgradeneeded",u=>{s(sr(a.result),u.oldVersion,u.newVersion,sr(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const _4=["get","getKey","getAll","getAllKeys","count"],b4=["put","add","delete","clear"],tf=new Map;function Tv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tf.get(e))return tf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=b4.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||_4.includes(n)))return;const i=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let d=u.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),r&&u.done]))[0]};return tf.set(e,i),i}y4(t=>({...t,get:(e,n,s)=>Tv(e,n)||t.get(e,n,s),has:(e,n)=>!!Tv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(S4(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function S4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",Ev="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new mg("@firebase/app"),T4="@firebase/app-compat",E4="@firebase/analytics-compat",I4="@firebase/analytics",k4="@firebase/app-check-compat",j4="@firebase/app-check",A4="@firebase/auth",C4="@firebase/auth-compat",P4="@firebase/database",R4="@firebase/data-connect",D4="@firebase/database-compat",V4="@firebase/functions",M4="@firebase/functions-compat",L4="@firebase/installations",O4="@firebase/installations-compat",F4="@firebase/messaging",U4="@firebase/messaging-compat",$4="@firebase/performance",B4="@firebase/performance-compat",z4="@firebase/remote-config",H4="@firebase/remote-config-compat",W4="@firebase/storage",q4="@firebase/storage-compat",G4="@firebase/firestore",K4="@firebase/ai",Q4="@firebase/firestore-compat",Y4="firebase",J4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",X4={[Tm]:"fire-core",[T4]:"fire-core-compat",[I4]:"fire-analytics",[E4]:"fire-analytics-compat",[j4]:"fire-app-check",[k4]:"fire-app-check-compat",[A4]:"fire-auth",[C4]:"fire-auth-compat",[P4]:"fire-rtdb",[R4]:"fire-data-connect",[D4]:"fire-rtdb-compat",[V4]:"fire-fn",[M4]:"fire-fn-compat",[L4]:"fire-iid",[O4]:"fire-iid-compat",[F4]:"fire-fcm",[U4]:"fire-fcm-compat",[$4]:"fire-perf",[B4]:"fire-perf-compat",[z4]:"fire-rc",[H4]:"fire-rc-compat",[W4]:"fire-gcs",[q4]:"fire-gcs-compat",[G4]:"fire-fst",[Q4]:"fire-fst-compat",[K4]:"fire-vertex","fire-js":"fire-js",[Y4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Map,Z4=new Map,Im=new Map;function Iv(t,e){try{t.container.addComponent(e)}catch(n){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(Im.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,t);for(const n of Mu.values())Iv(n,t);for(const n of Z4.values())Iv(n,t);return!0}function gg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new jl("app","Firebase",e5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=J4;function dN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw rr.create("bad-app-name",{appName:String(r)});if(n||(n=iN()),!n)throw rr.create("no-options");const i=Mu.get(r);if(i){if(ii(n,i.options)&&ii(s,i.config))return i;throw rr.create("duplicate-app",{appName:r})}const a=new a4(r);for(const u of Im.values())a.addComponent(u);const l=new t5(n,s,a);return Mu.set(r,l),l}function hN(t=Em){const e=Mu.get(t);if(!e&&t===Em&&iN())return dN();if(!e)throw rr.create("no-app",{appName:t});return e}function ir(t,e,n){let s=X4[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(a.join(" "));return}uo(new oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="firebase-heartbeat-database",s5=1,ol="firebase-heartbeat-store";let nf=null;function fN(){return nf||(nf=w4(n5,s5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),nf}async function r5(t){try{const n=(await fN()).transaction(ol),s=await n.objectStore(ol).get(mN(t));return await n.done,s}catch(e){if(e instanceof _s)gs.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(n.message)}}}async function kv(t,e){try{const s=(await fN()).transaction(ol,"readwrite");await s.objectStore(ol).put(e,mN(t)),await s.done}catch(n){if(n instanceof _s)gs.warn(n.message);else{const s=rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gs.warn(s.message)}}}function mN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=1024,o5=30;class a5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new c5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>o5){const a=u5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jv(),{heartbeatsToSend:s,unsentEntries:r}=l5(this._heartbeatsCache.heartbeats),i=Vu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return gs.warn(n),""}}}function jv(){return new Date().toISOString().substring(0,10)}function l5(t,e=i5){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),Av(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class c5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QR()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Av(t){return Vu(JSON.stringify({version:2,heartbeats:t})).length}function u5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t){uo(new oi("platform-logger",e=>new N4(e),"PRIVATE")),uo(new oi("heartbeat",e=>new a5(e),"PRIVATE")),ir(Tm,Ev,t),ir(Tm,Ev,"esm2020"),ir("fire-js","")}d5("");var h5="firebase",f5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(h5,f5,"app");function pN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const m5=pN,gN=new jl("auth","Firebase",pN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new mg("@firebase/auth");function p5(t,...e){Lu.logLevel<=me.WARN&&Lu.warn(`Auth (${So}): ${t}`,...e)}function Hc(t,...e){Lu.logLevel<=me.ERROR&&Lu.error(`Auth (${So}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw xg(t,...e)}function Sn(t,...e){return xg(t,...e)}function yg(t,e,n){const s={...m5(),[e]:n};return new jl("auth","Firebase",s).create(e,{appName:t.name})}function cs(t){return yg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g5(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&gn(t,"argument-error"),yg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return gN.create(t,...e)}function se(t,e,...n){if(!t)throw xg(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function ys(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function y5(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y5()||WR()||"connection"in navigator)?navigator.onLine:!0}function v5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=BR()||qR()}get(){return x5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],b5=new Cl(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Gn(t,e,n,s,r={}){return xN(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=Al({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return HR()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&No(t.emulatorConfig.host)&&(d.credentials="include"),yN.fetch()(await vN(t,t.config.apiHost,n,l),d)})}async function xN(t,e,n){t._canInitEmulator=!1;const s={...w5,...e};try{const r=new S5(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Nc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Nc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Nc(t,"user-disabled",a);const f=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yg(t,f,d);gn(t,f)}}catch(r){if(r instanceof _s)throw r;gn(t,"network-request-failed",{message:String(r)})}}async function Pl(t,e,n,s,r={}){const i=await Gn(t,e,n,s,r);return"mfaPendingCredential"in i&&gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function vN(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?vg(t.config,r):`${t.config.apiScheme}://${r}`;return _5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function N5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Sn(this.auth,"network-request-failed")),b5.get())})}}function Nc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Sn(t,e,s);return r.customData._tokenResponse=n,r}function Pv(t){return t!==void 0&&t.enterprise!==void 0}class T5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E5(t,e){return Gn(t,"GET","/v2/recaptchaConfig",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e){return Gn(t,"POST","/v1/accounts:delete",e)}async function Ou(t,e){return Gn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k5(t,e=!1){const n=et(t),s=await n.getIdToken(e),r=wg(s);se(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Da(sf(r.auth_time)),issuedAtTime:Da(sf(r.iat)),expirationTime:Da(sf(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function sf(t){return Number(t)*1e3}function wg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const r=sN(n);return r?JSON.parse(r):(Hc("Failed to decode base64 JWT payload"),null)}catch(r){return Hc("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Rv(t){const e=wg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _s&&j5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function j5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t){var h;const e=t.auth,n=await t.getIdToken(),s=await ho(t,Ou(e,{idToken:n}));se(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(h=r.providerUserInfo)!=null&&h.length?wN(r.providerUserInfo):[],a=P5(t.providerData,i),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new jm(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function C5(t){const e=et(t);await Fu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P5(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function wN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e){const n=await xN(t,{},async()=>{const s=Al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await vN(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&No(t.emulatorConfig.host)&&(u.credentials="include"),yN.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D5(t,e){return Gn(t,"POST","/v2/accounts:revokeToken",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=Rv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await R5(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new Gi;return s&&(se(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(se(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(se(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gi,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _n{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new A5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new jm(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ho(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k5(this,e)}reload(){return C5(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _n({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Fu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qt(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await ho(this,I5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:y,providerData:b,stsTokenManager:E}=n;se(h&&E,e,"internal-error");const A=Gi.fromJSON(this.name,E);se(typeof h=="string",e,"internal-error"),Ps(s,e.name),Ps(r,e.name),se(typeof p=="boolean",e,"internal-error"),se(typeof y=="boolean",e,"internal-error"),Ps(i,e.name),Ps(a,e.name),Ps(l,e.name),Ps(u,e.name),Ps(d,e.name),Ps(f,e.name);const k=new _n({uid:h,auth:e,email:r,emailVerified:p,displayName:s,isAnonymous:y,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:A,createdAt:d,lastLoginAt:f});return b&&Array.isArray(b)&&(k.providerData=b.map(x=>({...x}))),u&&(k._redirectEventId=u),k}static async _fromIdTokenResponse(e,n,s=!1){const r=new Gi;r.updateFromServerResponse(n);const i=new _n({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Fu(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];se(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?wN(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new Gi;l.updateFromIdToken(s);const u=new _n({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new jm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function rs(t){ys(t instanceof Function,"Expected a class definition");let e=Dv.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_N.type="NONE";const Vv=_N;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ki{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=Wc(this.userKey,r.apiKey,i),this.fullPersistenceKey=Wc("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ou(this.auth,{idToken:e}).catch(()=>{});return n?_n._fromGetAccountInfoResponse(this.auth,n,e):null}return _n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ki(rs(Vv),e,s);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=r[0]||rs(Vv);const a=Wc(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let h;if(typeof f=="string"){const p=await Ou(e,{idToken:f}).catch(()=>{});if(!p)break;h=await _n._fromGetAccountInfoResponse(e,p,f)}else h=_n._fromJSON(e,f);d!==i&&(l=h),i=d;break}}catch{}const u=r.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ki(i,e,s):(i=u[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new Ki(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IN(e))return"Blackberry";if(kN(e))return"Webos";if(NN(e))return"Safari";if((e.includes("chrome/")||SN(e))&&!e.includes("edge/"))return"Chrome";if(EN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bN(t=jt()){return/firefox\//i.test(t)}function NN(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SN(t=jt()){return/crios\//i.test(t)}function TN(t=jt()){return/iemobile/i.test(t)}function EN(t=jt()){return/android/i.test(t)}function IN(t=jt()){return/blackberry/i.test(t)}function kN(t=jt()){return/webos/i.test(t)}function _g(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function V5(t=jt()){var e;return _g(t)&&!!((e=window.navigator)!=null&&e.standalone)}function M5(){return GR()&&document.documentMode===10}function jN(t=jt()){return _g(t)||EN(t)||kN(t)||IN(t)||/windows phone/i.test(t)||TN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e=[]){let n;switch(t){case"Browser":n=Mv(jt());break;case"Worker":n=`${Mv(jt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const u=e(i);a(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e={}){return Gn(t,"GET","/v2/passwordPolicy",bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=6;class U5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new L5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rs(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Ki.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ou(this,{idToken:e}),s=await _n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Qt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qt(this.app))return Promise.reject(cs(this));const n=e?et(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qt(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qt(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O5(this),n=new U5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await D5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rs(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Ki.create(this,[rs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Qt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&p5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ns(t){return et(t)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=t4(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B5(t){Id=t}function CN(t){return Id.loadJS(t)}function z5(){return Id.recaptchaEnterpriseScript}function H5(){return Id.gapiScript}function W5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class q5{constructor(){this.enterprise=new G5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const K5="recaptcha-enterprise",PN="NO_RECAPTCHA";class Q5{constructor(e){this.type=K5,this.auth=Ns(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{E5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new T5(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(u=>{l(u)})})}function r(i,a,l){const u=window.grecaptcha;Pv(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(PN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q5().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&Pv(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=z5();u.length!==0&&(u+=l),CN(u).then(()=>{r(l,i,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function Ov(t,e,n,s=!1,r=!1){const i=new Q5(t);let a;if(r)a=PN;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Uu(t,e,n,s,r){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ov(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ov(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(t,e){const n=gg(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(ii(i,e??{}))return r;gn(r,"already-initialized")}return n.initialize({options:e})}function J5(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function X5(t,e,n){const s=Ns(t);se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=RN(e),{host:a,port:l}=Z5(e),u=l===null?"":`:${l}`,d={url:`${i}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),se(ii(d,s.config.emulator)&&ii(f,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=f,s.settings.appVerificationDisabledForTesting=!0,No(a)?(aN(`${i}//${a}${u}`),lN("Auth",!0)):eD()}function RN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Z5(t){const e=RN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Fv(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:Fv(a)}}}function Fv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}async function tD(t,e){return Gn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return Pl(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))}async function DN(t,e){return Gn(t,"POST","/v1/accounts:sendOobCode",bs(t,e))}async function sD(t,e){return DN(t,e)}async function rD(t,e){return DN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(t,e){return Pl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}async function oD(t,e){return Pl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends bg{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new al(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new al(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uu(e,n,"signInWithPassword",nD);case"emailLink":return iD(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uu(e,s,"signUpPassword",tD);case"emailLink":return oD(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e){return Pl(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="http://localhost";class ai extends bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new ai(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qi(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qi(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qi(e,n)}buildRequest(){const e={requestUri:aD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Al(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cD(t){const e=da(ha(t)).link,n=e?da(ha(e)).deep_link_id:null,s=da(ha(t)).deep_link_id;return(s?da(ha(s)).link:null)||s||n||e||t}class Ng{constructor(e){const n=da(ha(e)),s=n.apiKey??null,r=n.oobCode??null,i=lD(n.mode??null);se(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=cD(e);try{return new Ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return al._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ng.parseLink(n);return se(s,"argument-error"),al._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends Sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Rl{constructor(){super("facebook.com")}static credential(e){return ai._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ai._fromParams({providerId:Zn.PROVIDER_ID,signInMethod:Zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zn.credentialFromTaggedObject(e)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zn.credential(n,s)}catch{return null}}}Zn.GOOGLE_SIGN_IN_METHOD="google.com";Zn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Rl{constructor(){super("github.com")}static credential(e){return ai._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Rl{constructor(){super("twitter.com")}static credential(e,n){return ai._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $s.credential(n,s)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e){return Pl(t,"POST","/v1/accounts:signUp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await _n._fromIdTokenResponse(e,s,r),a=Uv(s);return new li({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Uv(s);return new li({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Uv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends _s{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,$u.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new $u(e,n,s,r)}}function VN(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$u._fromErrorAndOperation(t,i,e,s):i})}async function dD(t,e,n=!1){const s=await ho(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return li._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e,n=!1){const{auth:s}=t;if(Qt(s.app))return Promise.reject(cs(s));const r="reauthenticate";try{const i=await ho(t,VN(s,r,e,t),n);se(i.idToken,s,"internal-error");const a=wg(i.idToken);se(a,s,"internal-error");const{sub:l}=a;return se(t.uid===l,s,"user-mismatch"),li._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e,n=!1){if(Qt(t.app))return Promise.reject(cs(t));const s="signIn",r=await VN(t,s,e),i=await li._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function fD(t,e){return MN(Ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t,e,n){var s;se(((s=n.url)==null?void 0:s.length)>0,t,"invalid-continue-uri"),se(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),se(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(se(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(se(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t){const e=Ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pD(t,e,n){const s=Ns(t);await Uu(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",rD)}async function gD(t,e,n){if(Qt(t.app))return Promise.reject(cs(t));const s=Ns(t),a=await Uu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&LN(t),u}),l=await li._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function yD(t,e,n){return Qt(t.app)?Promise.reject(cs(t)):fD(et(t),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&LN(t),s})}async function ON(t,e){const n=et(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&mD(n.auth,r,e);const{email:i}=await sD(n.auth,r);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return Gn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=et(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await ho(s,xD(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function wD(t,e,n,s){return et(t).onIdTokenChanged(e,n,s)}function _D(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function FN(t){return et(t).signOut()}const Bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bu,"1"),this.storage.removeItem(Bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=1e3,ND=10;class $N extends UN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);M5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,ND):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$N.type="LOCAL";const SD=$N;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN extends UN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BN.type="SESSION";const zN=BN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new kd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async d=>d(n.origin,i)),u=await TD(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,u)=>{const d=Tg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(h){const p=h;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function ID(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function kD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function AD(){return HN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebaseLocalStorageDb",CD=1,zu="firebaseLocalStorage",qN="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jd(t,e){return t.transaction([zu],e?"readwrite":"readonly").objectStore(zu)}function PD(){const t=indexedDB.deleteDatabase(WN);return new Dl(t).toPromise()}function Am(){const t=indexedDB.open(WN,CD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(zu,{keyPath:qN})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(zu)?e(s):(s.close(),await PD(),e(await Am()))})})}async function $v(t,e,n){const s=jd(t,!0).put({[qN]:e,value:n});return new Dl(s).toPromise()}async function RD(t,e){const n=jd(t,!1).get(e),s=await new Dl(n).toPromise();return s===void 0?null:s.value}function Bv(t,e){const n=jd(t,!0).delete(e);return new Dl(n).toPromise()}const DD=800,VD=3;class GN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(AD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await kD(),!this.activeServiceWorker)return;this.sender=new ED(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await $v(e,Bu,"1"),await Bv(e,Bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$v(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=jd(r,!1).getAll();return new Dl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GN.type="LOCAL";const MD=GN;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){return e?rs(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LD(t){return MN(t.auth,new Eg(t),t.bypassAuthState)}function OD(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),hD(n,new Eg(t),t.bypassAuthState)}async function FD(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),dD(n,new Eg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LD;case"linkViaPopup":case"linkViaRedirect":return FD;case"reauthViaPopup":case"reauthViaRedirect":return OD;default:gn(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Cl(2e3,1e4);async function $D(t,e,n){if(Qt(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const s=Ns(t);g5(t,e,Sg);const r=KN(s,n);return new qr(s,"signInViaPopup",e,r).executeNotNull()}class qr extends QN{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,qr.currentPopupAction&&qr.currentPopupAction.cancel(),qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UD.get())};e()}}qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="pendingRedirect",qc=new Map;class zD extends QN{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const s=await HD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HD(t,e){const n=GD(e),s=qD(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function WD(t,e){qc.set(t._key(),e)}function qD(t){return rs(t._redirectPersistence)}function GD(t){return Wc(BD,t.config.apiKey,t.name)}async function KD(t,e,n=!1){if(Qt(t.app))return Promise.reject(cs(t));const s=Ns(t),r=KN(s,e),a=await new zD(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=10*60*1e3;class YD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!YN(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QD&&this.cachedEventUids.clear(),this.cachedEventUids.has(zv(e))}saveEventToCache(e){this.cachedEventUids.add(zv(e)),this.lastProcessedEventTime=Date.now()}}function zv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e={}){return Gn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e3=/^https?/;async function t3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XD(t);for(const n of e)try{if(n3(n))return}catch{}gn(t,"unauthorized-domain")}function n3(t){const e=km(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!e3.test(n))return!1;if(ZD.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Cl(3e4,6e4);function Hv(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function r3(t){return new Promise((e,n)=>{var r,i,a;function s(){Hv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hv(),n(Sn(t,"network-request-failed"))},timeout:s3.get()})}if((i=(r=$n().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=$n().gapi)!=null&&a.load)s();else{const l=W5("iframefcb");return $n()[l]=()=>{gapi.load?s():n(Sn(t,"network-request-failed"))},CN(`${H5()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function i3(t){return Gc=Gc||r3(t),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Cl(5e3,15e3),a3="__/auth/iframe",l3="emulator/auth/iframe",c3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d3(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vg(e,l3):`https://${t.config.authDomain}/${a3}`,s={apiKey:e.apiKey,appName:t.name,v:So},r=u3.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${Al(s).slice(1)}`}async function h3(t){const e=await i3(t),n=$n().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:d3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c3,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=Sn(t,"network-request-failed"),l=$n().setTimeout(()=>{i(a)},o3.get());function u(){$n().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m3=500,p3=600,g3="_blank",y3="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x3(t,e,n,s=m3,r=p3){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...f3,width:s.toString(),height:r.toString(),top:i,left:a},d=jt().toLowerCase();n&&(l=SN(d)?g3:n),bN(d)&&(e=e||y3,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(V5(d)&&l!=="_self")return v3(e||"",l),new Wv(null);const h=window.open(e||"",l,f);se(h,t,"popup-blocked");try{h.focus()}catch{}return new Wv(h)}function v3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3="__/auth/handler",_3="emulator/auth/handler",b3=encodeURIComponent("fac");async function qv(t,e,n,s,r,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:So,eventId:r};if(e instanceof Sg){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",e4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof Rl){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),d=u?`#${b3}=${encodeURIComponent(u)}`:"";return`${N3(t)}?${Al(l).slice(1)}${d}`}function N3({config:t}){return t.emulator?vg(t,_3):`https://${t.authDomain}/${w3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="webStorageSupport";class S3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zN,this._completeRedirectFn=KD,this._overrideRedirectResult=WD}async _openPopup(e,n,s,r){var a;ys((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await qv(e,n,s,km(),r);return x3(e,i,Tg())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await qv(e,n,s,km(),r);return ID(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(ys(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await h3(e),s=new YD(e);return n.register("authEvent",r=>(se(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rf,{type:rf},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[rf];i!==void 0&&n(!!i),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jN()||NN()||_g()}}const T3=S3;var Gv="@firebase/auth",Kv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k3(t){uo(new oi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AN(t)},d=new $5(s,r,i,u);return J5(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),uo(new oi("auth-internal",e=>{const n=Ns(e.getProvider("auth").getImmediate());return(s=>new E3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(Gv,Kv,I3(t)),ir(Gv,Kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=5*60,A3=oN("authIdTokenMaxAge")||j3;let Qv=null;const C3=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>A3)return;const r=n==null?void 0:n.token;Qv!==r&&(Qv=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function P3(t=hN()){const e=gg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y5(t,{popupRedirectResolver:T3,persistence:[MD,SD,zN]}),s=oN("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=C3(i.toString());_D(n,a,()=>a(n.currentUser)),wD(n,l=>a(l))}}const r=rN("auth");return r&&X5(n,`http://${r}`),n}function R3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}B5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Sn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",R3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k3("Browser");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var or,JN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function v(){}v.prototype=_.prototype,I.F=_.prototype,I.prototype=new v,I.prototype.constructor=I,I.D=function(N,P,R){for(var j=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)j[Q-2]=arguments[Q];return _.prototype[P].apply(N,j)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,_,v){v||(v=0);const N=Array(16);if(typeof _=="string")for(var P=0;P<16;++P)N[P]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(P=0;P<16;++P)N[P]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=I.g[0],v=I.g[1],P=I.g[2];let R=I.g[3],j;j=_+(R^v&(P^R))+N[0]+3614090360&4294967295,_=v+(j<<7&4294967295|j>>>25),j=R+(P^_&(v^P))+N[1]+3905402710&4294967295,R=_+(j<<12&4294967295|j>>>20),j=P+(v^R&(_^v))+N[2]+606105819&4294967295,P=R+(j<<17&4294967295|j>>>15),j=v+(_^P&(R^_))+N[3]+3250441966&4294967295,v=P+(j<<22&4294967295|j>>>10),j=_+(R^v&(P^R))+N[4]+4118548399&4294967295,_=v+(j<<7&4294967295|j>>>25),j=R+(P^_&(v^P))+N[5]+1200080426&4294967295,R=_+(j<<12&4294967295|j>>>20),j=P+(v^R&(_^v))+N[6]+2821735955&4294967295,P=R+(j<<17&4294967295|j>>>15),j=v+(_^P&(R^_))+N[7]+4249261313&4294967295,v=P+(j<<22&4294967295|j>>>10),j=_+(R^v&(P^R))+N[8]+1770035416&4294967295,_=v+(j<<7&4294967295|j>>>25),j=R+(P^_&(v^P))+N[9]+2336552879&4294967295,R=_+(j<<12&4294967295|j>>>20),j=P+(v^R&(_^v))+N[10]+4294925233&4294967295,P=R+(j<<17&4294967295|j>>>15),j=v+(_^P&(R^_))+N[11]+2304563134&4294967295,v=P+(j<<22&4294967295|j>>>10),j=_+(R^v&(P^R))+N[12]+1804603682&4294967295,_=v+(j<<7&4294967295|j>>>25),j=R+(P^_&(v^P))+N[13]+4254626195&4294967295,R=_+(j<<12&4294967295|j>>>20),j=P+(v^R&(_^v))+N[14]+2792965006&4294967295,P=R+(j<<17&4294967295|j>>>15),j=v+(_^P&(R^_))+N[15]+1236535329&4294967295,v=P+(j<<22&4294967295|j>>>10),j=_+(P^R&(v^P))+N[1]+4129170786&4294967295,_=v+(j<<5&4294967295|j>>>27),j=R+(v^P&(_^v))+N[6]+3225465664&4294967295,R=_+(j<<9&4294967295|j>>>23),j=P+(_^v&(R^_))+N[11]+643717713&4294967295,P=R+(j<<14&4294967295|j>>>18),j=v+(R^_&(P^R))+N[0]+3921069994&4294967295,v=P+(j<<20&4294967295|j>>>12),j=_+(P^R&(v^P))+N[5]+3593408605&4294967295,_=v+(j<<5&4294967295|j>>>27),j=R+(v^P&(_^v))+N[10]+38016083&4294967295,R=_+(j<<9&4294967295|j>>>23),j=P+(_^v&(R^_))+N[15]+3634488961&4294967295,P=R+(j<<14&4294967295|j>>>18),j=v+(R^_&(P^R))+N[4]+3889429448&4294967295,v=P+(j<<20&4294967295|j>>>12),j=_+(P^R&(v^P))+N[9]+568446438&4294967295,_=v+(j<<5&4294967295|j>>>27),j=R+(v^P&(_^v))+N[14]+3275163606&4294967295,R=_+(j<<9&4294967295|j>>>23),j=P+(_^v&(R^_))+N[3]+4107603335&4294967295,P=R+(j<<14&4294967295|j>>>18),j=v+(R^_&(P^R))+N[8]+1163531501&4294967295,v=P+(j<<20&4294967295|j>>>12),j=_+(P^R&(v^P))+N[13]+2850285829&4294967295,_=v+(j<<5&4294967295|j>>>27),j=R+(v^P&(_^v))+N[2]+4243563512&4294967295,R=_+(j<<9&4294967295|j>>>23),j=P+(_^v&(R^_))+N[7]+1735328473&4294967295,P=R+(j<<14&4294967295|j>>>18),j=v+(R^_&(P^R))+N[12]+2368359562&4294967295,v=P+(j<<20&4294967295|j>>>12),j=_+(v^P^R)+N[5]+4294588738&4294967295,_=v+(j<<4&4294967295|j>>>28),j=R+(_^v^P)+N[8]+2272392833&4294967295,R=_+(j<<11&4294967295|j>>>21),j=P+(R^_^v)+N[11]+1839030562&4294967295,P=R+(j<<16&4294967295|j>>>16),j=v+(P^R^_)+N[14]+4259657740&4294967295,v=P+(j<<23&4294967295|j>>>9),j=_+(v^P^R)+N[1]+2763975236&4294967295,_=v+(j<<4&4294967295|j>>>28),j=R+(_^v^P)+N[4]+1272893353&4294967295,R=_+(j<<11&4294967295|j>>>21),j=P+(R^_^v)+N[7]+4139469664&4294967295,P=R+(j<<16&4294967295|j>>>16),j=v+(P^R^_)+N[10]+3200236656&4294967295,v=P+(j<<23&4294967295|j>>>9),j=_+(v^P^R)+N[13]+681279174&4294967295,_=v+(j<<4&4294967295|j>>>28),j=R+(_^v^P)+N[0]+3936430074&4294967295,R=_+(j<<11&4294967295|j>>>21),j=P+(R^_^v)+N[3]+3572445317&4294967295,P=R+(j<<16&4294967295|j>>>16),j=v+(P^R^_)+N[6]+76029189&4294967295,v=P+(j<<23&4294967295|j>>>9),j=_+(v^P^R)+N[9]+3654602809&4294967295,_=v+(j<<4&4294967295|j>>>28),j=R+(_^v^P)+N[12]+3873151461&4294967295,R=_+(j<<11&4294967295|j>>>21),j=P+(R^_^v)+N[15]+530742520&4294967295,P=R+(j<<16&4294967295|j>>>16),j=v+(P^R^_)+N[2]+3299628645&4294967295,v=P+(j<<23&4294967295|j>>>9),j=_+(P^(v|~R))+N[0]+4096336452&4294967295,_=v+(j<<6&4294967295|j>>>26),j=R+(v^(_|~P))+N[7]+1126891415&4294967295,R=_+(j<<10&4294967295|j>>>22),j=P+(_^(R|~v))+N[14]+2878612391&4294967295,P=R+(j<<15&4294967295|j>>>17),j=v+(R^(P|~_))+N[5]+4237533241&4294967295,v=P+(j<<21&4294967295|j>>>11),j=_+(P^(v|~R))+N[12]+1700485571&4294967295,_=v+(j<<6&4294967295|j>>>26),j=R+(v^(_|~P))+N[3]+2399980690&4294967295,R=_+(j<<10&4294967295|j>>>22),j=P+(_^(R|~v))+N[10]+4293915773&4294967295,P=R+(j<<15&4294967295|j>>>17),j=v+(R^(P|~_))+N[1]+2240044497&4294967295,v=P+(j<<21&4294967295|j>>>11),j=_+(P^(v|~R))+N[8]+1873313359&4294967295,_=v+(j<<6&4294967295|j>>>26),j=R+(v^(_|~P))+N[15]+4264355552&4294967295,R=_+(j<<10&4294967295|j>>>22),j=P+(_^(R|~v))+N[6]+2734768916&4294967295,P=R+(j<<15&4294967295|j>>>17),j=v+(R^(P|~_))+N[13]+1309151649&4294967295,v=P+(j<<21&4294967295|j>>>11),j=_+(P^(v|~R))+N[4]+4149444226&4294967295,_=v+(j<<6&4294967295|j>>>26),j=R+(v^(_|~P))+N[11]+3174756917&4294967295,R=_+(j<<10&4294967295|j>>>22),j=P+(_^(R|~v))+N[2]+718787259&4294967295,P=R+(j<<15&4294967295|j>>>17),j=v+(R^(P|~_))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+R&4294967295}s.prototype.v=function(I,_){_===void 0&&(_=I.length);const v=_-this.blockSize,N=this.C;let P=this.h,R=0;for(;R<_;){if(P==0)for(;R<=v;)r(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<_;)if(N[P++]=I.charCodeAt(R++),P==this.blockSize){r(this,N),P=0;break}}else for(;R<_;)if(N[P++]=I[R++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=_},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;_=this.o*8;for(var v=I.length-8;v<I.length;++v)I[v]=_&255,_/=256;for(this.v(I),I=Array(16),_=0,v=0;v<4;++v)for(let N=0;N<32;N+=8)I[_++]=this.g[v]>>>N&255;return I};function i(I,_){var v=l;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=_(I)}function a(I,_){this.h=_;const v=[];let N=!0;for(let P=I.length-1;P>=0;P--){const R=I[P]|0;N&&R==_||(v[P]=R,N=!1)}this.g=v}var l={};function u(I){return-128<=I&&I<128?i(I,function(_){return new a([_|0],_<0?-1:0)}):new a([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return h;if(I<0)return A(d(-I));const _=[];let v=1;for(let N=0;I>=v;N++)_[N]=I/v|0,v*=4294967296;return new a(_,0)}function f(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return A(f(I.substring(1),_));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=d(Math.pow(_,8));let N=h;for(let R=0;R<I.length;R+=8){var P=Math.min(8,I.length-R);const j=parseInt(I.substring(R,R+P),_);P<8?(P=d(Math.pow(_,P)),N=N.j(P).add(d(j))):(N=N.j(v),N=N.add(d(j)))}return N}var h=u(0),p=u(1),y=u(16777216);t=a.prototype,t.m=function(){if(E(this))return-A(this).m();let I=0,_=1;for(let v=0;v<this.g.length;v++){const N=this.i(v);I+=(N>=0?N:4294967296+N)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(E(this))return"-"+A(this).toString(I);const _=d(Math.pow(I,6));var v=this;let N="";for(;;){const P=V(v,_).g;v=k(v,P.j(_));let R=((v.g.length>0?v.g[0]:v.h)>>>0).toString(I);if(v=P,b(v))return R+N;for(;R.length<6;)R="0"+R;N=R+N}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function E(I){return I.h==-1}t.l=function(I){return I=k(this,I),E(I)?-1:b(I)?0:1};function A(I){const _=I.g.length,v=[];for(let N=0;N<_;N++)v[N]=~I.g[N];return new a(v,~I.h).add(p)}t.abs=function(){return E(this)?A(this):this},t.add=function(I){const _=Math.max(this.g.length,I.g.length),v=[];let N=0;for(let P=0;P<=_;P++){let R=N+(this.i(P)&65535)+(I.i(P)&65535),j=(R>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);N=j>>>16,R&=65535,j&=65535,v[P]=j<<16|R}return new a(v,v[v.length-1]&-2147483648?-1:0)};function k(I,_){return I.add(A(_))}t.j=function(I){if(b(this)||b(I))return h;if(E(this))return E(I)?A(this).j(A(I)):A(A(this).j(I));if(E(I))return A(this.j(A(I)));if(this.l(y)<0&&I.l(y)<0)return d(this.m()*I.m());const _=this.g.length+I.g.length,v=[];for(var N=0;N<2*_;N++)v[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<I.g.length;P++){const R=this.i(N)>>>16,j=this.i(N)&65535,Q=I.i(P)>>>16,de=I.i(P)&65535;v[2*N+2*P]+=j*de,x(v,2*N+2*P),v[2*N+2*P+1]+=R*de,x(v,2*N+2*P+1),v[2*N+2*P+1]+=j*Q,x(v,2*N+2*P+1),v[2*N+2*P+2]+=R*Q,x(v,2*N+2*P+2)}for(I=0;I<_;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=_;I<2*_;I++)v[I]=0;return new a(v,0)};function x(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function S(I,_){this.g=I,this.h=_}function V(I,_){if(b(_))throw Error("division by zero");if(b(I))return new S(h,h);if(E(I))return _=V(A(I),_),new S(A(_.g),A(_.h));if(E(_))return _=V(I,A(_)),new S(A(_.g),_.h);if(I.g.length>30){if(E(I)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var v=p,N=_;N.l(I)<=0;)v=M(v),N=M(N);var P=O(v,1),R=O(N,1);for(N=O(N,2),v=O(v,2);!b(N);){var j=R.add(N);j.l(I)<=0&&(P=P.add(v),R=j),N=O(N,1),v=O(v,1)}return _=k(I,P.j(_)),new S(P,_)}for(P=h;I.l(_)>=0;){for(v=Math.max(1,Math.floor(I.m()/_.m())),N=Math.ceil(Math.log(v)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),R=d(v),j=R.j(_);E(j)||j.l(I)>0;)v-=N,R=d(v),j=R.j(_);b(R)&&(R=p),P=P.add(R),I=k(I,j)}return new S(P,I)}t.B=function(I){return V(this,I).h},t.and=function(I){const _=Math.max(this.g.length,I.g.length),v=[];for(let N=0;N<_;N++)v[N]=this.i(N)&I.i(N);return new a(v,this.h&I.h)},t.or=function(I){const _=Math.max(this.g.length,I.g.length),v=[];for(let N=0;N<_;N++)v[N]=this.i(N)|I.i(N);return new a(v,this.h|I.h)},t.xor=function(I){const _=Math.max(this.g.length,I.g.length),v=[];for(let N=0;N<_;N++)v[N]=this.i(N)^I.i(N);return new a(v,this.h^I.h)};function M(I){const _=I.g.length+1,v=[];for(let N=0;N<_;N++)v[N]=I.i(N)<<1|I.i(N-1)>>>31;return new a(v,I.h)}function O(I,_){const v=_>>5;_%=32;const N=I.g.length-v,P=[];for(let R=0;R<N;R++)P[R]=_>0?I.i(R+v)>>>_|I.i(R+v+1)<<32-_:I.i(R+v);return new a(P,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,JN=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,or=a}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XN,fa,ZN,Kc,Cm,eS,tS,nS;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(c,m){if(m)e:{var g=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in g))break e;g=g[L]}c=c[c.length-1],T=g[c],m=m(T),m!=T&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(c){return c||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function u(c,m,g){return c.call.apply(c.bind,arguments)}function d(c,m,g){return d=u,d.apply(null,arguments)}function f(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function h(c,m){function g(){}g.prototype=m.prototype,c.Z=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(T,L,F){for(var q=Array(arguments.length-2),he=2;he<arguments.length;he++)q[he-2]=arguments[he];return m.prototype[L].apply(T,q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const m=c.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=c[T];return g}return[]}function b(c,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=c.length||0;const F=L.length||0;c.length=g+F;for(let q=0;q<F;q++)c[g+q]=L[q]}else c.push(L)}}class E{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function A(c){a.setTimeout(()=>{throw c},0)}function k(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class x{constructor(){this.h=this.g=null}add(m,g){const T=S.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var S=new E(()=>new V,c=>c.reset());class V{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let M,O=!1,I=new x,_=()=>{const c=Promise.resolve(void 0);M=()=>{c.then(v)}};function v(){for(var c;c=k();){try{c.h.call(c.g)}catch(g){A(g)}var m=S;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}O=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function j(c){return/^[\s\xa0]*$/.test(c)}function Q(c,m){P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}h(Q,P),Q.prototype.init=function(c,m){const g=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),ve=0;function He(c,m,g,T,L){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=L,this.key=++ve,this.da=this.fa=!1}function W(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Z(c,m,g){for(const T in c)m.call(g,c[T],T,c)}function ae(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function B(c){const m={};for(const g in c)m[g]=c[g];return m}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(c,m){let g,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(g in T)c[g]=T[g];for(let F=0;F<re.length;F++)g=re[F],Object.prototype.hasOwnProperty.call(T,g)&&(c[g]=T[g])}}function De(c){this.src=c,this.g={},this.h=0}De.prototype.add=function(c,m,g,T,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const q=We(c,m,T,L);return q>-1?(m=c[q],g||(m.fa=!1)):(m=new He(m,this.src,F,!!T,L),m.fa=g,c.push(m)),m};function qt(c,m){const g=m.type;if(g in c.g){var T=c.g[g],L=Array.prototype.indexOf.call(T,m,void 0),F;(F=L>=0)&&Array.prototype.splice.call(T,L,1),F&&(W(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function We(c,m,g,T){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==m&&F.capture==!!g&&F.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Kn={};function Qn(c,m,g,T,L){if(Array.isArray(m)){for(let F=0;F<m.length;F++)Qn(c,m[F],g,T,L);return null}return g=Hl(g),c&&c[de]?c.J(m,g,l(T)?!!T.capture:!1,L):kn(c,m,g,!1,T,L)}function kn(c,m,g,T,L,F){if(!m)throw Error("Invalid event type");const q=l(L)?!!L.capture:!!L;let he=Ro(c);if(he||(c[Lt]=he=new De(c)),g=he.add(m,g,T,q,F),g.proxy)return g;if(T=rn(),g.proxy=T,T.src=c,T.listener=g,c.addEventListener)R||(L=q),L===void 0&&(L=!1),c.addEventListener(m.toString(),T,L);else if(c.attachEvent)c.attachEvent(jn(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function rn(){function c(g){return m.call(c.src,c.listener,g)}const m=Yd;return c}function Co(c,m,g,T,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Co(c,m[F],g,T,L);else T=l(T)?!!T.capture:!!T,g=Hl(g),c&&c[de]?(c=c.i,F=String(m).toString(),F in c.g&&(m=c.g[F],g=We(m,g,T,L),g>-1&&(W(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete c.g[F],c.h--)))):c&&(c=Ro(c))&&(m=c.g[m.toString()],c=-1,m&&(c=We(m,g,T,L)),(g=c>-1?m[c]:null)&&Po(g))}function Po(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[de])qt(m.i,c);else{var g=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(g,T,c.capture):m.detachEvent?m.detachEvent(jn(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Ro(m))?(qt(g,c),g.h==0&&(g.src=null,m[Lt]=null)):W(c)}}}function jn(c){return c in Kn?Kn[c]:Kn[c]="on"+c}function Yd(c,m){if(c.da)c=!0;else{m=new Q(m,this);const g=c.listener,T=c.ha||c.src;c.fa&&Po(c),c=g.call(T,m)}return c}function Ro(c){return c=c[Lt],c instanceof De?c:null}var Do="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hl(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(m){return c.handleEvent(m)}),c[Do])}function tt(){N.call(this),this.i=new De(this),this.M=this,this.G=null}h(tt,N),tt.prototype[de]=!0,tt.prototype.removeEventListener=function(c,m,g,T){Co(this,c,m,g,T)};function lt(c,m){var g,T=c.G;if(T)for(g=[];T;T=T.G)g.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var L=m;m=new P(T,c),at(m,L)}L=!0;let F,q;if(g)for(q=g.length-1;q>=0;q--)F=m.g=g[q],L=Er(F,T,!0,m)&&L;if(F=m.g=c,L=Er(F,T,!0,m)&&L,L=Er(F,T,!1,m)&&L,g)for(q=0;q<g.length;q++)F=m.g=g[q],L=Er(F,T,!1,m)&&L}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const g=c.g[m];for(let T=0;T<g.length;T++)W(g[T]);delete c.g[m],c.h--}}this.G=null},tt.prototype.J=function(c,m,g,T){return this.i.add(String(c),m,!1,g,T)},tt.prototype.K=function(c,m,g,T){return this.i.add(String(c),m,!0,g,T)};function Er(c,m,g,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let F=0;F<m.length;++F){const q=m[F];if(q&&!q.da&&q.capture==g){const he=q.listener,st=q.ha||q.src;q.fa&&qt(c.i,q),L=he.call(st,T)!==!1&&L}}return L&&!T.defaultPrevented}function C(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:a.setTimeout(c,m||0)}function ee(c){c.g=C(()=>{c.g=null,c.i&&(c.i=!1,ee(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class G extends N{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(c){N.call(this),this.h=c,this.g={}}h(le,N);var Ir=[];function be(c){Z(c.g,function(m,g){this.g.hasOwnProperty(g)&&Po(m)},c),c.g={}}le.prototype.N=function(){le.Z.N.call(this),be(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ue=a.JSON.stringify,nt=a.JSON.parse,FT=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function my(){}function py(){}var Vo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jd(){P.call(this,"d")}h(Jd,P);function Xd(){P.call(this,"c")}h(Xd,P);var kr={},gy=null;function Wl(){return gy=gy||new tt}kr.Ia="serverreachability";function yy(c){P.call(this,kr.Ia,c)}h(yy,P);function Mo(c){const m=Wl();lt(m,new yy(m))}kr.STAT_EVENT="statevent";function xy(c,m){P.call(this,kr.STAT_EVENT,c),this.stat=m}h(xy,P);function At(c){const m=Wl();lt(m,new xy(m,c))}kr.Ja="timingevent";function vy(c,m){P.call(this,kr.Ja,c),this.size=m}h(vy,P);function Lo(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Oo(){this.g=!0}Oo.prototype.ua=function(){this.g=!1};function UT(c,m,g,T,L,F){c.info(function(){if(c.g)if(F){var q="",he=F.split("&");for(let Ne=0;Ne<he.length;Ne++){var st=he[Ne].split("=");if(st.length>1){const ct=st[0];st=st[1];const Cn=ct.split("_");q=Cn.length>=2&&Cn[1]=="type"?q+(ct+"="+st+"&"):q+(ct+"=redacted&")}}}else q=null;else q=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+g+`
`+q})}function $T(c,m,g,T,L,F,q){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+g+`
`+F+" "+q})}function yi(c,m,g,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+zT(c,g)+(T?" "+T:"")})}function BT(c,m){c.info(function(){return"TIMEOUT: "+m})}Oo.prototype.info=function(){};function zT(c,m){if(!c.g)return m;if(!m)return null;try{const F=JSON.parse(m);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var g=F[c];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let q=1;q<T.length;q++)T[q]=""}}}}return Ue(F)}catch{return m}}var ql={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_y;function Zd(){}h(Zd,my),Zd.prototype.g=function(){return new XMLHttpRequest},_y=new Zd;function Fo(c){return encodeURIComponent(String(c))}function HT(c){var m=1;c=c.split(":");const g=[];for(;m>0&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function Ts(c,m,g,T){this.j=c,this.i=m,this.l=g,this.S=T||1,this.V=new le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new by}function by(){this.i=null,this.g="",this.h=!1}var Ny={},eh={};function th(c,m,g){c.M=1,c.A=Kl(An(m)),c.u=g,c.R=!0,Sy(c,null)}function Sy(c,m){c.F=Date.now(),Gl(c),c.B=An(c.A);var g=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Ly(g.i,"t",T),c.C=0,g=c.j.L,c.h=new by,c.g=tx(c.j,g?m:null,!c.u),c.P>0&&(c.O=new G(d(c.Y,c,c.g),c.P)),m=c.V,g=c.g,T=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ir[0]=L.toString()),L=Ir);for(let F=0;F<L.length;F++){const q=Qn(g,L[F],T||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Mo(),UT(c.i,c.v,c.B,c.l,c.S,c.u)}Ts.prototype.ba=function(c){c=c.target;const m=this.O;m&&ks(c)==3?m.j():this.Y(c)},Ts.prototype.Y=function(c){try{if(c==this.g)e:{const he=ks(this.g),st=this.g.ya(),Ne=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||Hy(this.g)))){this.K||he!=4||st==7||(st==8||Ne<=0?Mo(3):Mo(2)),nh(this);var m=this.g.ca();this.X=m;var g=WT(this);if(this.o=m==200,$T(this.i,this.v,this.B,this.l,this.S,he,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(T)){var F=T;break t}}F=null}if(c=F)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sh(this,c);else{this.o=!1,this.m=3,At(12),jr(this),Uo(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<g.length;)if(ct=qT(this,g),ct==eh){he==4&&(this.m=4,At(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Ny){this.m=4,At(15),yi(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,ct,null),sh(this,ct);if(Ty(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||g.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,g,"[Invalid Chunked Response]"),jr(this),Uo(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),dh(q),q.P=!0,At(11))}}else yi(this.i,this.l,g,null),sh(this,g);he==4&&jr(this),this.o&&!this.K&&(he==4?Jy(this.j,this):(this.o=!1,Gl(this)))}else oE(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),jr(this),Uo(this)}}}catch{}finally{}};function WT(c){if(!Ty(c))return c.g.la();const m=Hy(c.g);if(m==="")return"";let g="";const T=m.length,L=ks(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return jr(c),Uo(c),"";c.h.i=new a.TextDecoder}for(let F=0;F<T;F++)c.h.h=!0,g+=c.h.i.decode(m[F],{stream:!(L&&F==T-1)});return m.length=0,c.h.g+=g,c.C=0,c.h.g}function Ty(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function qT(c,m){var g=c.C,T=m.indexOf(`
`,g);return T==-1?eh:(g=Number(m.substring(g,T)),isNaN(g)?Ny:(T+=1,T+g>m.length?eh:(m=m.slice(T,T+g),c.C=T+g,m)))}Ts.prototype.cancel=function(){this.K=!0,jr(this)};function Gl(c){c.T=Date.now()+c.H,Ey(c,c.H)}function Ey(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Lo(d(c.aa,c),m)}function nh(c){c.D&&(a.clearTimeout(c.D),c.D=null)}Ts.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(BT(this.i,this.B),this.M!=2&&(Mo(),At(17)),jr(this),this.m=2,Uo(this)):Ey(this,this.T-c)};function Uo(c){c.j.I==0||c.K||Jy(c.j,c)}function jr(c){nh(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,be(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function sh(c,m){try{var g=c.j;if(g.I!=0&&(g.g==c||rh(g.h,c))){if(!c.L&&rh(g.h,c)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)Zl(g),Jl(g);else break e;uh(g),At(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Lo(d(g.Va,g),6e3));jy(g.h)<=1&&g.ta&&(g.ta=void 0)}else Cr(g,11)}else if((c.L||g.g==c)&&Zl(g),!j(m))for(L=g.Ba.g.parse(m),m=0;m<L.length;m++){let Ne=L[m];const ct=Ne[0];if(!(ct<=g.K))if(g.K=ct,Ne=Ne[1],g.I==2)if(Ne[0]=="c"){g.M=Ne[1],g.ba=Ne[2];const Cn=Ne[3];Cn!=null&&(g.ka=Cn,g.j.info("VER="+g.ka));const Pr=Ne[4];Pr!=null&&(g.za=Pr,g.j.info("SVER="+g.za));const js=Ne[5];js!=null&&typeof js=="number"&&js>0&&(T=1.5*js,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const As=c.g;if(As){const tc=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tc){var F=T.h;F.g||tc.indexOf("spdy")==-1&&tc.indexOf("quic")==-1&&tc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ih(F,F.h),F.h=null))}if(T.G){const hh=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(T.wa=hh,ke(T.J,T.G,hh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var q=c;if(T.na=ex(T,T.L?T.ba:null,T.W),q.L){Ay(T.h,q);var he=q,st=T.O;st&&(he.H=st),he.D&&(nh(he),Gl(he)),T.g=q}else Qy(T);g.i.length>0&&Xl(g)}else Ne[0]!="stop"&&Ne[0]!="close"||Cr(g,7);else g.I==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Cr(g,7):ch(g):Ne[0]!="noop"&&g.l&&g.l.qa(Ne),g.A=0)}}Mo(4)}catch{}}var GT=class{constructor(c,m){this.g=c,this.map=m}};function Iy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ky(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jy(c){return c.h?1:c.g?c.g.size:0}function rh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function ih(c,m){c.g?c.g.add(m):c.h=m}function Ay(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Iy.prototype.cancel=function(){if(this.i=Cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Cy(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.G);return m}return y(c.i)}var Py=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KT(c,m){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const T=c[g].indexOf("=");let L,F=null;T>=0?(L=c[g].substring(0,T),F=c[g].substring(T+1)):L=c[g],m(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Es(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Es?(this.l=c.l,$o(this,c.j),this.o=c.o,this.g=c.g,Bo(this,c.u),this.h=c.h,oh(this,Oy(c.i)),this.m=c.m):c&&(m=String(c).match(Py))?(this.l=!1,$o(this,m[1]||"",!0),this.o=zo(m[2]||""),this.g=zo(m[3]||"",!0),Bo(this,m[4]),this.h=zo(m[5]||"",!0),oh(this,m[6]||"",!0),this.m=zo(m[7]||"")):(this.l=!1,this.i=new Wo(null,this.l))}Es.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ho(m,Ry,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ho(m,Ry,!0),"@"),c.push(Fo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Ho(g,g.charAt(0)=="/"?JT:YT,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Ho(g,ZT)),c.join("")},Es.prototype.resolve=function(c){const m=An(this);let g=!!c.j;g?$o(m,c.j):g=!!c.o,g?m.o=c.o:g=!!c.g,g?m.g=c.g:g=c.u!=null;var T=c.h;if(g)Bo(m,c.u);else if(g=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let q=0;q<L.length;){const he=L[q++];he=="."?T&&q==L.length&&F.push(""):he==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),T&&q==L.length&&F.push("")):(F.push(he),T=!0)}T=F.join("/")}else T=L}return g?m.h=T:g=c.i.toString()!=="",g?oh(m,Oy(c.i)):g=!!c.m,g&&(m.m=c.m),m};function An(c){return new Es(c)}function $o(c,m,g){c.j=g?zo(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Bo(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function oh(c,m,g){m instanceof Wo?(c.i=m,eE(c.i,c.l)):(g||(m=Ho(m,XT)),c.i=new Wo(m,c.l))}function ke(c,m,g){c.i.set(m,g)}function Kl(c){return ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function zo(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ho(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,QT),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function QT(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ry=/[#\/\?@]/g,YT=/[#\?:]/g,JT=/[#\?]/g,XT=/[#\?@]/g,ZT=/#/g;function Wo(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ar(c){c.g||(c.g=new Map,c.h=0,c.i&&KT(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Wo.prototype,t.add=function(c,m){Ar(this),this.i=null,c=xi(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function Dy(c,m){Ar(c),m=xi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vy(c,m){return Ar(c),m=xi(c,m),c.g.has(m)}t.forEach=function(c,m){Ar(this),this.g.forEach(function(g,T){g.forEach(function(L){c.call(m,L,T,this)},this)},this)};function My(c,m){Ar(c);let g=[];if(typeof m=="string")Vy(c,m)&&(g=g.concat(c.g.get(xi(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)g=g.concat(c[m]);return g}t.set=function(c,m){return Ar(this),this.i=null,c=xi(this,c),Vy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=My(this,c),c.length>0?String(c[0]):m):m};function Ly(c,m,g){Dy(c,m),g.length>0&&(c.i=null,c.g.set(xi(c,m),y(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const L=Fo(g);g=My(this,g);for(let F=0;F<g.length;F++){let q=L;g[F]!==""&&(q+="="+Fo(g[F])),c.push(q)}}return this.i=c.join("&")};function Oy(c){const m=new Wo;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function xi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function eE(c,m){m&&!c.j&&(Ar(c),c.i=null,c.g.forEach(function(g,T){const L=T.toLowerCase();T!=L&&(Dy(this,T),Ly(this,L,g))},c)),c.j=m}function tE(c,m){const g=new Oo;if(a.Image){const T=new Image;T.onload=f(Is,g,"TestLoadImage: loaded",!0,m,T),T.onerror=f(Is,g,"TestLoadImage: error",!1,m,T),T.onabort=f(Is,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=f(Is,g,"TestLoadImage: timeout",!1,m,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function nE(c,m){const g=new Oo,T=new AbortController,L=setTimeout(()=>{T.abort(),Is(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?Is(g,"TestPingServer: ok",!0,m):Is(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Is(g,"TestPingServer: error",!1,m)})}function Is(c,m,g,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(g)}catch{}}function sE(){this.g=new FT}function ah(c){this.i=c.Sb||null,this.h=c.ab||!1}h(ah,my),ah.prototype.g=function(){return new Ql(this.i,this.h)};function Ql(c,m){tt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Ql,tt),t=Ql.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Go(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||a).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fy(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fy(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?qo(this):Go(this),this.readyState==3&&Fy(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,qo(this))},t.Na=function(c){this.g&&(this.response=c,qo(this))},t.ga=function(){this.g&&qo(this)};function qo(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Go(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Go(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uy(c){let m="";return Z(c,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function lh(c,m,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=Uy(g),typeof c=="string"?g!=null&&Fo(g):ke(c,m,g))}function $e(c){tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h($e,tt);var rE=/^https?$/i,iE=["POST","PUT"];t=$e.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_y.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){$y(this,F);return}if(c=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)g.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())g.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),L=a.FormData&&c instanceof a.FormData,!(Array.prototype.indexOf.call(iE,m,void 0)>=0)||T||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,q]of g)this.g.setRequestHeader(F,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){$y(this,F)}};function $y(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,By(c),Yl(c)}function By(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,lt(this,"complete"),lt(this,"abort"),Yl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yl(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?zy(this):this.Xa())},t.Xa=function(){zy(this)};function zy(c){if(c.h&&typeof i<"u"){if(c.v&&ks(c)==4)setTimeout(c.Ca.bind(c),0);else if(lt(c,"readystatechange"),ks(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var T;if(T=F===0){let q=String(c.D).match(Py)[1]||null;!q&&a.self&&a.self.location&&(q=a.self.location.protocol.slice(0,-1)),T=!rE.test(q?q.toLowerCase():"")}g=T}if(g)lt(c,"complete"),lt(c,"success");else{c.o=6;try{var L=ks(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",By(c)}}finally{Yl(c)}}}}function Yl(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,m||lt(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ks(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ks(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),nt(m)}};function Hy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oE(c){const m={};c=(c.g&&ks(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(j(c[T]))continue;var g=HT(c[T]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=m[L]||[];m[L]=F,F.push(g)}ae(m,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function Wy(c){this.za=0,this.i=[],this.j=new Oo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ko("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ko("baseRetryDelayMs",5e3,c),this.Za=Ko("retryDelaySeedMs",1e4,c),this.Ta=Ko("forwardChannelMaxRetries",2,c),this.va=Ko("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Iy(c&&c.concurrentRequestLimit),this.Ba=new sE,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Wy.prototype,t.ka=8,t.I=1,t.connect=function(c,m,g,T){At(0),this.W=c,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=ex(this,null,this.W),Xl(this)};function ch(c){if(qy(c),c.I==3){var m=c.V++,g=An(c.J);if(ke(g,"SID",c.M),ke(g,"RID",m),ke(g,"TYPE","terminate"),Qo(c,g),m=new Ts(c,c.j,m),m.M=2,m.A=Kl(An(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.A,g=!0),g||(m.g=tx(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Gl(m)}Zy(c)}function Jl(c){c.g&&(dh(c),c.g.cancel(),c.g=null)}function qy(c){Jl(c),c.v&&(a.clearTimeout(c.v),c.v=null),Zl(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&a.clearTimeout(c.m),c.m=null)}function Xl(c){if(!ky(c.h)&&!c.m){c.m=!0;var m=c.Ea;M||_(),O||(M(),O=!0),I.add(m,c),c.D=0}}function aE(c,m){return jy(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Lo(d(c.Ea,c,m),Xy(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Ts(this,this.j,c);let F=this.o;if(this.U&&(F?(F=B(F),at(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=Ky(this,L,m),g=An(this.J),ke(g,"RID",c),ke(g,"CVER",22),this.G&&ke(g,"X-HTTP-Session-Id",this.G),Qo(this,g),F&&(this.R?m="headers="+Fo(Uy(F))+"&"+m:this.u&&lh(g,this.u,F)),ih(this.h,L),this.Ra&&ke(g,"TYPE","init"),this.S?(ke(g,"$req",m),ke(g,"SID","null"),L.U=!0,th(L,g,null)):th(L,g,m),this.I=2}}else this.I==3&&(c?Gy(this,c):this.i.length==0||ky(this.h)||Gy(this))};function Gy(c,m){var g;m?g=m.l:g=c.V++;const T=An(c.J);ke(T,"SID",c.M),ke(T,"RID",g),ke(T,"AID",c.K),Qo(c,T),c.u&&c.o&&lh(T,c.u,c.o),g=new Ts(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Ky(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ih(c.h,g),th(g,T,m)}function Qo(c,m){c.H&&Z(c.H,function(g,T){ke(m,T,g)}),c.l&&Z({},function(g,T){ke(m,T,g)})}function Ky(c,m,g){g=Math.min(c.i.length,g);const T=c.l?d(c.l.Ka,c.l,c):null;e:{var L=c.i;let he=-1;for(;;){const st=["count="+g];he==-1?g>0?(he=L[0].g,st.push("ofs="+he)):he=0:st.push("ofs="+he);let Ne=!0;for(let ct=0;ct<g;ct++){var F=L[ct].g;const Cn=L[ct].map;if(F-=he,F<0)he=Math.max(0,L[ct].g-100),Ne=!1;else try{F="req"+F+"_"||"";try{var q=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Pr,js]of q){let As=js;l(js)&&(As=Ue(js)),st.push(F+Pr+"="+encodeURIComponent(As))}}catch(Pr){throw st.push(F+"type="+encodeURIComponent("_badmap")),Pr}}catch{T&&T(Cn)}}if(Ne){q=st.join("&");break e}}q=void 0}return c=c.i.splice(0,g),m.G=c,q}function Qy(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;M||_(),O||(M(),O=!0),I.add(m,c),c.A=0}}function uh(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Lo(d(c.Da,c),Xy(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Yy(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Lo(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Jl(this),Yy(this))};function dh(c){c.B!=null&&(a.clearTimeout(c.B),c.B=null)}function Yy(c){c.g=new Ts(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=An(c.na);ke(m,"RID","rpc"),ke(m,"SID",c.M),ke(m,"AID",c.K),ke(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&ke(m,"TO",c.ia),ke(m,"TYPE","xmlhttp"),Qo(c,m),c.u&&c.o&&lh(m,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Kl(An(m)),g.u=null,g.R=!0,Sy(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Jl(this),uh(this),At(19))};function Zl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Jy(c,m){var g=null;if(c.g==m){Zl(c),dh(c),c.g=null;var T=2}else if(rh(c.h,m))g=m.G,Ay(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;T=Wl(),lt(T,new vy(T,g)),Xl(c)}else Qy(c);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&aE(c,m)||T==2&&uh(c)))switch(g&&g.length>0&&(m=c.h,m.i=m.i.concat(g)),L){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function Xy(c,m){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*m}function Cr(c,m){if(c.j.info("Error code "+m),m==2){var g=d(c.bb,c),T=c.Ua;const L=!T;T=new Es(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$o(T,"https"),Kl(T),L?tE(T.toString(),g):nE(T.toString(),g)}else At(2);c.I=0,c.l&&c.l.pa(m),Zy(c),qy(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Zy(c){if(c.I=0,c.ja=[],c.l){const m=Cy(c.h);(m.length!=0||c.i.length!=0)&&(b(c.ja,m),b(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function ex(c,m,g){var T=g instanceof Es?An(g):new Es(g);if(T.g!="")m&&(T.g=m+"."+T.g),Bo(T,T.u);else{var L=a.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const F=new Es(null);T&&$o(F,T),m&&(F.g=m),L&&Bo(F,L),g&&(F.h=g),T=F}return g=c.G,m=c.wa,g&&m&&ke(T,g,m),ke(T,"VER",c.ka),Qo(c,T),T}function tx(c,m,g){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $e(new ah({ab:g})):new $e(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nx(){}t=nx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ec(){}ec.prototype.g=function(c,m){return new Gt(c,m)};function Gt(c,m){tt.call(this),this.g=new Wy(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!j(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!j(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new vi(this)}h(Gt,tt),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){ch(this.g)},Gt.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=Ue(c),c=g);m.i.push(new GT(m.Ya++,c)),m.I==3&&Xl(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,ch(this.g),delete this.g,Gt.Z.N.call(this)};function sx(c){Jd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}h(sx,Jd);function rx(){Xd.call(this),this.status=1}h(rx,Xd);function vi(c){this.g=c}h(vi,nx),vi.prototype.ra=function(){lt(this.g,"a")},vi.prototype.qa=function(c){lt(this.g,new sx(c))},vi.prototype.pa=function(c){lt(this.g,new rx)},vi.prototype.oa=function(){lt(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,nS=function(){return new ec},tS=function(){return Wl()},eS=kr,Cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ql.NO_ERROR=0,ql.TIMEOUT=8,ql.HTTP_ERROR=6,Kc=ql,wy.COMPLETE="complete",ZN=wy,py.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",tt.prototype.listen=tt.prototype.J,fa=py,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,XN=$e}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Xv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new mg("@firebase/firestore");function _i(){return ci.logLevel}function Y(t,...e){if(ci.logLevel<=me.DEBUG){const n=e.map(Ig);ci.debug(`Firestore (${Eo}): ${t}`,...n)}}function xs(t,...e){if(ci.logLevel<=me.ERROR){const n=e.map(Ig);ci.error(`Firestore (${Eo}): ${t}`,...n)}}function fo(t,...e){if(ci.logLevel<=me.WARN){const n=e.map(Ig);ci.warn(`Firestore (${Eo}): ${t}`,...n)}}function Ig(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,sS(t,s,n)}function sS(t,e,n){let s=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw xs(s),new Error(s)}function we(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||sS(e,r,s)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class D3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class V3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M3{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new us,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new us)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(we(typeof s.accessToken=="string",31837,{l:s}),new rS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class L3{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class O3{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new L3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const s=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Zv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=U3(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function pe(t,e){return t<e?-1:t>e?1:0}function Pm(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return of(r)===of(i)?pe(r,i):of(r)?1:-1}return pe(t.length,e.length)}const $3=55296,B3=57343;function of(t){const e=t.charCodeAt(0);return e>=$3&&e<=B3}function mo(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__name__";class Dn{constructor(e,n,s){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Dn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Dn.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return pe(e.length,n.length)}static compareSegments(e,n){const s=Dn.isNumericId(e),r=Dn.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Dn.extractNumericId(e).compare(Dn.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class Te extends Dn{construct(e,n,s){return new Te(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const z3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends Dn{construct(e,n,s){return new gt(e,n,s)}static isValidIdentifier(e){return z3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ew}static keyField(){return new gt([ew])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(n)}static emptyPath(){return new gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Te.fromString(e))}static fromName(e){return new ne(Te.fromString(e).popFirst(5))}static empty(){return new ne(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H3(t,e,n,s){if(e===!0&&s===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tw(t){if(!ne.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nw(t){if(ne.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ad(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function Zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ad(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vl(t,e){if(!oS(t))throw new K($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new K($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=-62135596800,rw=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*rw);return new Ae(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sw)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rw}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vl(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Ze("string",Ae._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Ae(0,0))}static max(){return new ce(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=-1;function W3(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ce.fromTimestamp(s===1e9?new Ae(n+1,0):new Ae(n,s));return new hr(r,ne.empty(),e)}function q3(t){return new hr(t.readTime,t.key,ll)}class hr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hr(ce.min(),ne.empty(),ll)}static max(){return new hr(ce.max(),ne.empty(),ll)}}function G3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==K3)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,s)=>{n(e)})}static reject(e){return new z((n,s)=>{s(e)})}static waitFor(e){return new z((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},u=>s(u))}),a=!0,i===r&&n()})}static or(e){let n=z.resolve(!1);for(const s of e)n=n.next(r=>r?z.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new z((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{a[d]=f,++l,l===i&&s(a)},f=>r(f))}})}static doWhile(e,n){return new z((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Y3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Pd(t){return t==null}function Hu(t){return t===0&&1/t==-1/0}function J3(t){return typeof t=="number"&&Number.isInteger(t)&&!Hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="";function X3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=iw(e)),e=Z3(t.get(n),e);return iw(e)}function Z3(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case aS:n+="";break;default:n+=i}}return n}function iw(t){return t+aS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||mt.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mt.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tc(this.root,e,this.comparator,!0)}}class Tc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??mt.RED,this.left=r??mt.EMPTY,this.right=i??mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new mt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return mt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}mt.EMPTY=null,mt.RED=!0,mt.BLACK=!1;mt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new aw(this.data.getIterator())}getIteratorFrom(e){return new aw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ot(this.comparator);return n.data=e,n}}class aw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new ot(gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cS("Invalid base64 string: "+i):i}}(e);return new wt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const eV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=eV.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="server_timestamp",dS="__type__",hS="__previous_value__",fS="__local_write_time__";function Ag(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dS])==null?void 0:s.stringValue)===uS}function Rd(t){const e=t.mapValue.fields[hS];return Ag(e)?Rd(e):e}function cl(t){const e=fr(t.mapValue.fields[fS].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,s,r,i,a,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const Wu="(default)";class ul{constructor(e,n){this.projectId=e,this.database=n||Wu}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database===Wu}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="__type__",nV="__max__",Ec={mapValue:{}},pS="__vector__",qu="value";function pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ag(t)?4:rV(t)?9007199254740991:sV(t)?10:11:oe(28295,{value:t})}function qn(t,e){if(t===e)return!0;const n=pr(t);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=fr(r.timestampValue),l=fr(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return mr(r.bytesValue).isEqual(mr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return qe(r.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(r.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qe(r.integerValue)===qe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=qe(r.doubleValue),l=qe(i.doubleValue);return a===l?Hu(a)===Hu(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(ow(a)!==ow(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!qn(a[u],l[u])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function dl(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=pr(t),s=pr(e);if(n!==s)return pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=qe(i.integerValue||i.doubleValue),u=qe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return lw(t.timestampValue,e.timestampValue);case 4:return lw(cl(t),cl(e));case 5:return Pm(t.stringValue,e.stringValue);case 6:return function(i,a){const l=mr(i),u=mr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),u=a.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=pe(l[d],u[d]);if(f!==0)return f}return pe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=pe(qe(i.latitude),qe(a.latitude));return l!==0?l:pe(qe(i.longitude),qe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cw(t.arrayValue,e.arrayValue);case 10:return function(i,a){var p,y,b,E;const l=i.fields||{},u=a.fields||{},d=(p=l[qu])==null?void 0:p.arrayValue,f=(y=u[qu])==null?void 0:y.arrayValue,h=pe(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((E=f==null?void 0:f.values)==null?void 0:E.length)||0);return h!==0?h:cw(d,f)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ec.mapValue&&a===Ec.mapValue)return 0;if(i===Ec.mapValue)return 1;if(a===Ec.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const p=Pm(u[h],f[h]);if(p!==0)return p;const y=po(l[u[h]],d[f[h]]);if(y!==0)return y}return pe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function lw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=fr(t),s=fr(e),r=pe(n.seconds,s.seconds);return r!==0?r:pe(n.nanos,s.nanos)}function cw(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=po(n[r],s[r]);if(i)return i}return pe(n.length,s.length)}function go(t){return Rm(t)}function Rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=fr(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Rm(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${Rm(n.fields[a])}`;return r+"}"}(t.mapValue):oe(61005,{value:t})}function Qc(t){switch(pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(t);return e?16+Qc(e):16;case 5:return 2*t.stringValue.length;case 6:return mr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+Qc(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Nr(s.fields,(i,a)=>{r+=i.length+Qc(a)}),r}(t.mapValue);default:throw oe(13486,{value:t})}}function uw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dm(t){return!!t&&"integerValue"in t}function Cg(t){return!!t&&"arrayValue"in t}function dw(t){return!!t&&"nullValue"in t}function hw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function sV(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mS])==null?void 0:s.stringValue)===pS}function Va(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Va(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Va(t.arrayValue.values[n]);return e}return{...t}}function rV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Va(n)}setAll(e){let n=gt.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Va(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Nr(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Ut(Va(this.value))}}function gS(t){const e=[];return Nr(t.fields,(n,s)=>{const r=new gt([n]);if(Yc(s)){const i=gS(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new It(e,0,ce.min(),ce.min(),ce.min(),Ut.empty(),0)}static newFoundDocument(e,n,s,r){return new It(e,1,n,ce.min(),s,r,0)}static newNoDocument(e,n){return new It(e,2,n,ce.min(),ce.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,ce.min(),ce.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.position=e,this.inclusive=n}}function fw(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=ne.comparator(ne.fromName(a.referenceValue),n.key):s=po(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function iV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{}class Xe extends yS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aV(e,n,s):n==="array-contains"?new uV(e,s):n==="in"?new dV(e,s):n==="not-in"?new hV(e,s):n==="array-contains-any"?new fV(e,s):new Xe(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new lV(e,s):new cV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends yS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new In(e,n)}matches(e){return xS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xS(t){return t.op==="and"}function vS(t){return oV(t)&&xS(t)}function oV(t){for(const e of t.filters)if(e instanceof In)return!1;return!0}function Vm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+go(t.value);if(vS(t))return t.filters.map(e=>Vm(e)).join(",");{const e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function wS(t,e){return t instanceof Xe?function(s,r){return r instanceof Xe&&s.op===r.op&&s.field.isEqual(r.field)&&qn(s.value,r.value)}(t,e):t instanceof In?function(s,r){return r instanceof In&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&wS(a,r.filters[l]),!0):!1}(t,e):void oe(19439)}function _S(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(_S).join(" ,")+"}"}(t):"Filter"}class aV extends Xe{constructor(e,n,s){super(e,n,s),this.key=ne.fromName(s.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class lV extends Xe{constructor(e,n){super(e,"in",n),this.keys=bS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cV extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=bS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ne.fromName(s.referenceValue))}class uV extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&dl(n.arrayValue,this.value)}}class dV extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dl(this.value.arrayValue,n)}}class hV extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dl(this.value.arrayValue,n)}}class fV extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function pw(t,e=null,n=[],s=[],r=null,i=null,a=null){return new mV(t,e,n,s,r,i,a)}function Pg(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Vm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.Te=n}return e.Te}function Rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mw(t.startAt,e.startAt)&&mw(t.endAt,e.endAt)}function Mm(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pV(t,e,n,s,r,i,a,l){return new jo(t,e,n,s,r,i,a,l)}function Dd(t){return new jo(t)}function gw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NS(t){return t.collectionGroup!==null}function Ma(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ot(gt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new hl(i,s))}),n.has(gt.keyField().canonicalString())||e.Ie.push(new hl(gt.keyField(),s))}return e.Ie}function Bn(t){const e=ue(t);return e.Ee||(e.Ee=gV(e,Ma(t))),e.Ee}function gV(t,e){if(t.limitType==="F")return pw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new hl(r.field,i)});const n=t.endAt?new Gu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Gu(t.startAt.position,t.startAt.inclusive):null;return pw(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Lm(t,e){const n=t.filters.concat([e]);return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Om(t,e,n){return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return Rg(Bn(t),Bn(e))&&t.limitType===e.limitType}function SS(t){return`${Pg(Bn(t))}|lt:${t.limitType}`}function bi(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>_S(r)).join(", ")}]`),Pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>go(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>go(r)).join(",")),`Target(${s})`}(Bn(t))}; limitType=${t.limitType})`}function Md(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ne.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Ma(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,u){const d=fw(a,l,u);return a.inclusive?d<=0:d<0}(s.startAt,Ma(s),r)||s.endAt&&!function(a,l,u){const d=fw(a,l,u);return a.inclusive?d>=0:d>0}(s.endAt,Ma(s),r))}(t,e)}function yV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TS(t){return(e,n)=>{let s=!1;for(const r of Ma(t)){const i=xV(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function xV(t,e,n){const s=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,a,l){const u=a.data.field(i),d=l.data.field(i);return u!==null&&d!==null?po(u,d):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return lS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=new Fe(ne.comparator);function vs(){return vV}const ES=new Fe(ne.comparator);function ma(...t){let e=ES;for(const n of t)e=e.insert(n.key,n);return e}function IS(t){let e=ES;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gr(){return La()}function kS(){return La()}function La(){return new pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const wV=new Fe(ne.comparator),_V=new ot(ne.comparator);function ge(...t){let e=_V;for(const n of t)e=e.add(n);return e}const bV=new ot(pe);function NV(){return bV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function jS(t){return{integerValue:""+t}}function SV(t,e){return J3(e)?jS(e):Dg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function TV(t,e,n){return t instanceof fl?function(r,i){const a={fields:{[dS]:{stringValue:uS},[fS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Ag(i)&&(i=Rd(i)),i&&(a.fields[hS]=i),{mapValue:a}}(n,e):t instanceof ml?CS(t,e):t instanceof pl?PS(t,e):function(r,i){const a=AS(r,i),l=yw(a)+yw(r.Ae);return Dm(a)&&Dm(r.Ae)?jS(l):Dg(r.serializer,l)}(t,e)}function EV(t,e,n){return t instanceof ml?CS(t,e):t instanceof pl?PS(t,e):n}function AS(t,e){return t instanceof Ku?function(s){return Dm(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class fl extends Ld{}class ml extends Ld{constructor(e){super(),this.elements=e}}function CS(t,e){const n=RS(e);for(const s of t.elements)n.some(r=>qn(r,s))||n.push(s);return{arrayValue:{values:n}}}class pl extends Ld{constructor(e){super(),this.elements=e}}function PS(t,e){let n=RS(e);for(const s of t.elements)n=n.filter(r=>!qn(r,s));return{arrayValue:{values:n}}}class Ku extends Ld{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function yw(t){return qe(t.integerValue||t.doubleValue)}function RS(t){return Cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.field=e,this.transform=n}}function kV(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof ml&&r instanceof ml||s instanceof pl&&r instanceof pl?mo(s.elements,r.elements,qn):s instanceof Ku&&r instanceof Ku?qn(s.Ae,r.Ae):s instanceof fl&&r instanceof fl}(t.transform,e.transform)}class jV{constructor(e,n){this.version=e,this.transformResults=n}}class Tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tn}static exists(e){return new Tn(void 0,e)}static updateTime(e){return new Tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function DS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MS(t.key,Tn.none()):new Ml(t.key,t.data,Tn.none());{const n=t.data,s=Ut.empty();let r=new ot(gt.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new Sr(t.key,s,new Jt(r.toArray()),Tn.none())}}function AV(t,e,n){t instanceof Ml?function(r,i,a){const l=r.value.clone(),u=vw(r.fieldTransforms,i,a.transformResults);l.setAll(u),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Sr?function(r,i,a){if(!Jc(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=vw(r.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(VS(r)),u.setAll(l),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Oa(t,e,n,s){return t instanceof Ml?function(i,a,l,u){if(!Jc(i.precondition,a))return l;const d=i.value.clone(),f=ww(i.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof Sr?function(i,a,l,u){if(!Jc(i.precondition,a))return l;const d=ww(i.fieldTransforms,u,a),f=a.data;return f.setAll(VS(i)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,a,l){return Jc(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function CV(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=AS(s.transform,r||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(s.field,i))}return n||null}function xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&mo(s,r,(i,a)=>kV(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ml extends Od{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sr extends Od{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function VS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function vw(t,e,n){const s=new Map;we(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,EV(a,l,n[r]))}return s}function ww(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,TV(i,a,e))}return s}class MS extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PV extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&AV(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Oa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Oa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=kS();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const u=DS(a,l);u!==null&&s.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,s)=>xw(n,s))&&mo(this.baseMutations,e.baseMutations,(n,s)=>xw(n,s))}}class Vg{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){we(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return wV}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new Vg(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ye;function MV(t){switch(t){case $.OK:return oe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function LS(t){if(t===void 0)return xs("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return oe(39323,{code:t})}}(ye=Qe||(Qe={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new or([4294967295,4294967295],0);function _w(t){const e=LV().encode(t),n=new JN;return n.update(e),new Uint8Array(n.digest())}function bw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new or([n,s],0),new or([r,i],0)]}class Mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pa(`Invalid padding: ${n}`);if(s<0)throw new pa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new pa(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new pa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=or.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(or.fromNumber(s)));return r.compare(OV)===1&&(r=new or([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=_w(e),[s,r]=bw(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Mg(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=_w(e),[s,r]=bw(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fd(ce.min(),r,new Fe(pe),vs(),ge())}}class Ll{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ll(s,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class OS{constructor(e,n){this.targetId=e,this.Ce=n}}class FS{constructor(e,n,s=wt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Nw{constructor(){this.ve=0,this.Fe=Sw(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),s=ge();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:oe(38017,{changeType:i})}}),new Ll(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Sw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FV{constructor(e){this.Ge=e,this.ze=new Map,this.je=vs(),this.Je=Ic(),this.He=Ic(),this.Ye=new Fe(pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Mm(i))if(s===0){const a=new ne(i.path);this.et(n,a,It.newNoDocument(a,ce.min()))}else we(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=mr(s).toUint8Array()}catch(u){if(u instanceof cS)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Mg(a,r,i)}catch(u){return fo(u instanceof pa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&Mm(l.target)){const u=new ne(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,It.newNoDocument(u,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=ge();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new Fd(e,n,this.Ye,this.je,s);return this.je=vs(),this.Je=Ic(),this.He=Ic(),this.Ye=new Fe(pe),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Nw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ot(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ot(pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Nw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ic(){return new Fe(ne.comparator)}function Sw(){return new Fe(ne.comparator)}const UV={asc:"ASCENDING",desc:"DESCENDING"},$V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BV={and:"AND",or:"OR"};class zV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(t,e){return t.useProto3Json||Pd(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HV(t,e){return Qu(t,e.toTimestamp())}function zn(t){return we(!!t,49232),ce.fromTimestamp(function(n){const s=fr(n);return new Ae(s.seconds,s.nanos)}(t))}function Lg(t,e){return Um(t,e).canonicalString()}function Um(t,e){const n=function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $S(t){const e=Te.fromString(t);return we(qS(e),10190,{key:e.toString()}),e}function $m(t,e){return Lg(t.databaseId,e.path)}function af(t,e){const n=$S(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(zS(n))}function BS(t,e){return Lg(t.databaseId,e)}function WV(t){const e=$S(t);return e.length===4?Te.emptyPath():zS(e)}function Bm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zS(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tw(t,e,n){return{name:$m(t,e),fields:n.value.mapValue.fields}}function qV(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(we(f===void 0||typeof f=="string",58123),wt.fromBase64String(f||"")):(we(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),wt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const f=d.code===void 0?$.UNKNOWN:LS(d.code);return new K(f,d.message||"")}(a);n=new FS(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=af(t,s.document.name),i=zn(s.document.updateTime),a=s.document.createTime?zn(s.document.createTime):ce.min(),l=new Ut({mapValue:{fields:s.document.fields}}),u=It.newFoundDocument(r,i,a,l),d=s.targetIds||[],f=s.removedTargetIds||[];n=new Xc(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=af(t,s.document),i=s.readTime?zn(s.readTime):ce.min(),a=It.newNoDocument(r,i),l=s.removedTargetIds||[];n=new Xc([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=af(t,s.document),i=s.removedTargetIds||[];n=new Xc([],i,r,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new VV(r,i),l=s.targetId;n=new OS(l,a)}}return n}function GV(t,e){let n;if(e instanceof Ml)n={update:Tw(t,e.key,e.value)};else if(e instanceof MS)n={delete:$m(t,e.key)};else if(e instanceof Sr)n={update:Tw(t,e.key,e.data),updateMask:nM(e.fieldMask)};else{if(!(e instanceof PV))return oe(16599,{Vt:e.type});n={verify:$m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof fl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ml)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof pl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ku)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw oe(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:HV(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function KV(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?zn(r.updateTime):zn(i);return a.isEqual(ce.min())&&(a=zn(i)),new jV(a,r.transformResults||[])}(n,e))):[]}function QV(t,e){return{documents:[BS(t,e.path)]}}function YV(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=BS(t,r);const i=function(d){if(d.length!==0)return WS(In.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(f=>function(p){return{field:Ni(p.field),direction:ZV(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Fm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:r}}function JV(t){let e=WV(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){we(s===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(h){const p=HS(h);return p instanceof In&&vS(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(p=>function(b){return new hl(Si(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(h){let p;return p=typeof h=="object"?h.value:h,Pd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,y=h.values||[];return new Gu(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const p=!h.before,y=h.values||[];return new Gu(y,p)}(n.endAt)),pV(e,r,a,i,l,"F",u,d)}function XV(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Si(n.unaryFilter.field);return Xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Si(n.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Si(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Si(n.unaryFilter.field);return Xe.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Si(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(s=>HS(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function ZV(t){return UV[t]}function eM(t){return $V[t]}function tM(t){return BV[t]}function Ni(t){return{fieldPath:t.canonicalString()}}function Si(t){return gt.fromServerFormat(t.fieldPath)}function WS(t){return t instanceof Xe?function(n){if(n.op==="=="){if(hw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NAN"}};if(dw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NAN"}};if(dw(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(n.field),op:eM(n.op),value:n.value}}}(t):t instanceof In?function(n){const s=n.getFilters().map(r=>WS(r));return s.length===1?s[0]:{compositeFilter:{op:tM(n.op),filters:s}}}(t):oe(54877,{filter:t})}function nM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,s,r,i=ce.min(),a=ce.min(),l=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.yt=e}}function rM(t){const e=JV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.Cn=new oM}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(hr.min())}updateCollectionGroup(e,n,s){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class oM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new ot(Te.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new ot(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GS=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(GS,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LruGarbageCollector",aM=1048576;function kw([t,e],[n,s]){const r=pe(t,n);return r===0?pe(e,s):r}class lM{constructor(e){this.Ir=e,this.buffer=new ot(kw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();kw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(Iw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ko(n)?Y(Iw,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)})}}class uM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Cd.ce);const s=new lM(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Ew)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ew):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,u=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(d=Date.now(),_i()<=me.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function dM(t,e){return new uM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.changes=new pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Oa(s.mutation,r,Jt.empty(),Ae.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ge()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ge()){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=ma();return i.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=Gr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ge()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=vs();const a=La(),l=function(){return La()}();return n.forEach((u,d)=>{const f=s.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Sr)?i=i.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Oa(f.mutation,d,f.mutation.getFieldMask(),Ae.now())):a.set(d.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>l.set(d,new fM(f,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=La();let r=new Fe((a,l)=>a-l),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=s.get(u)||Jt.empty();f=l.applyToLocalView(d,f),s.set(u,f);const h=(r.get(l.batchId)||ge()).add(u);r=r.insert(l.batchId,h)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,h=kS();f.forEach(p=>{if(!i.has(p)){const y=DS(n.get(p),s.get(p));y!==null&&h.set(p,y),i=i.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,h))}return z.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):z.resolve(Gr());let l=ll,u=i;return a.next(d=>z.forEach(d,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,ge())).next(f=>({batchId:l,changes:IS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(s=>{let r=ma();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=ma();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,u=>{const d=function(h,p){return new jo(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,s,r).next(f=>{f.forEach((h,p)=>{a=a.insert(h,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,It.newInvalidDocument(f)))});let l=ma();return a.forEach((u,d)=>{const f=i.get(u);f!==void 0&&Oa(f.mutation,d,Jt.empty(),Ae.now()),Md(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:zn(r.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:rM(r.bundledQuery),readTime:zn(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.overlays=new Fe(ne.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gr();return z.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),z.resolve()}getOverlaysForCollection(e,n,s){const r=Gr(),i=n.length+1,a=new ne(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return z.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Fe((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let f=i.get(d.largestBatchId);f===null&&(f=Gr(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Gr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>l.set(d,f)),!(l.size()>=r)););return z.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new DV(n,s));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Qr=new ot(ut.$r),this.Ur=new ot(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ne(new Te([])),s=new ut(n,e),r=new ut(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new Te([])),s=new ut(n,e),r=new ut(n,e+1);let i=ge();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ot(ut.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new RV(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new ut(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?jg:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ut(n,0),r=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ot(pe);return n.forEach(r=>{const i=new ut(r,0),a=new ut(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ne.isDocumentKey(i)||(i=i.child(""));const a=new ut(new ne(i),0);let l=new ot(pe);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!s.isPrefixOf(d)&&(d.length===r&&(l=l.add(u.Yr)),!0)},a),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){we(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return z.forEach(n.mutations,r=>{const i=new ut(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new ut(n,0),r=this.Zr.firstAfterOrEqual(s);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.ri=e,this.docs=function(){return new Fe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return z.resolve(s?s.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let s=vs();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():It.newInvalidDocument(r))}),z.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=vs();const a=n.path,l=new ne(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||G3(q3(f),s)<=0||(r.has(f.key)||Md(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,s,r){oe(9500)}ii(e,n){return z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new wM(this)}getSize(e){return z.resolve(this.size)}}class wM extends hM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.persistence=e,this.si=new pi(n=>Pg(n),Rg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),z.waitFor(i).next(()=>r)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return z.resolve(s)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cd(0),this.li=!1,this.li=!0,this.hi=new yM,this.referenceDelegate=e(this),this.Pi=new _M(this),this.indexManager=new iM,this.remoteDocumentCache=function(r){return new vM(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new sM(n),this.Ii=new pM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new xM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Y("MemoryPersistence","Starting transaction:",e);const r=new bM(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class bM extends Q3{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.Ri=new Og,this.Vi=null}static mi(e){return new Fg(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,s=>{const r=ne.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Yu{constructor(e,n){this.persistence=e,this.pi=new pi(s=>X3(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=dM(this,n)}static mi(e,n){return new Yu(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?z.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,ce.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}br(e,n,s){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return z.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=ge(),r=ge();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ug(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return KR()?8:Y3(jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new NM;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(_i()<=me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(_i()<=me.DEBUG&&Y("QueryEngine","Query:",bi(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(_i()<=me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(n))):z.resolve())}ys(e,n){if(gw(n))return z.resolve(null);let s=Bn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Om(n,null,"F"),s=Bn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=ge(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(u=>{const d=this.Ds(n,l);return this.Cs(n,d,a,u.readTime)?this.ys(e,Om(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,s,r){return gw(n)||r.isEqual(ce.min())?z.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?z.resolve(null):(_i()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bi(n)),this.vs(e,a,n,W3(r,ll)).next(l=>l))})}Ds(e,n){let s=new ot(TS(e));return n.forEach((r,i)=>{Md(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return _i()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",bi(n)),this.ps.getDocumentsMatchingQuery(e,n,hr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",TM=3e8;class EM{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Fe(pe),this.xs=new pi(i=>Pg(i),Rg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function IM(t,e,n,s){return new EM(t,e,n,s)}async function QS(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let u=ge();for(const d of r){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(s,u).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function kM(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,f){const h=d.batch,p=h.keys();let y=z.resolve();return p.forEach(b=>{y=y.next(()=>f.getEntry(u,b)).next(E=>{const A=d.docVersions.get(b);we(A!==null,48541),E.version.compareTo(A)<0&&(h.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),f.addEntry(E)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let u=ge();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function YS(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function jM(t,e){const n=ue(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,h)=>{const p=r.get(h);if(!p)return;l.push(n.Pi.removeMatchingKeys(i,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,f.addedDocuments,h)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,s)),r=r.insert(h,y),function(E,A,k){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=TM?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(p,y,f)&&l.push(n.Pi.updateTargetData(i,y))});let u=vs(),d=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(AM(i,a,e.documentUpdates).next(f=>{u=f.ks,d=f.qs})),!s.isEqual(ce.min())){const f=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(f)}return z.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=r,i))}function AM(t,e,n){let s=ge(),r=ge();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=vs();return n.forEach((l,u)=>{const d=i.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Y($g,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:a,qs:r}})}function CM(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function PM(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,z.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new Hs(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function zm(t,e,n){const s=ue(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!ko(a))throw a;Y($g,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function jw(t,e,n){const s=ue(t);let r=ce.min(),i=ge();return s.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const h=ue(u),p=h.xs.get(f);return p!==void 0?z.resolve(h.Ms.get(p)):h.Pi.getTargetData(d,f)}(s,a,Bn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{i=u})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:ce.min(),n?i:ge())).next(l=>(RM(s,yV(e),l),{documents:l,Qs:i})))}function RM(t,e,n){let s=t.Os.get(e)||ce.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class Aw{constructor(){this.activeTargetIds=NV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DM{constructor(){this.Mo=new Aw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Aw,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="ConnectivityMonitor";class Pw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(Cw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(Cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function Hm(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="RestConnection",MM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Wu?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=Hm(),l=this.zo(e,n.toUriEncodedString());Y(lf,`Sending RPC '${e}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:d}=new URL(l),f=No(d);return this.Jo(e,l,u,s,f).then(h=>(Y(lf,`Received RPC '${e}' ${a}: `,h),h),h=>{throw fo(lf,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=MM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class FM extends LM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=Hm();return new Promise((l,u)=>{const d=new XN;d.setWithCredentials(!0),d.listenOnce(ZN.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Kc.NO_ERROR:const h=d.getResponseJson();Y(Nt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case Kc.TIMEOUT:Y(Nt,`RPC '${e}' ${a} timed out`),u(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const p=d.getStatus();if(Y(Nt,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const E=function(k){const x=k.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(b.status);u(new K(E,b.message))}else u(new K($.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new K($.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Y(Nt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);Y(Nt,`RPC '${e}' ${a} sending request:`,r),d.send(n,"POST",f,s,15)})}T_(e,n,s){const r=Hm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=nS(),l=tS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const f=i.join("");Y(Nt,`Creating RPC '${e}' stream ${r}: ${f}`,u);const h=a.createWebChannel(f,u);this.I_(h);let p=!1,y=!1;const b=new OM({Yo:A=>{y?Y(Nt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(p||(Y(Nt,`Opening RPC '${e}' stream ${r} transport.`),h.open(),p=!0),Y(Nt,`RPC '${e}' stream ${r} sending:`,A),h.send(A))},Zo:()=>h.close()}),E=(A,k,x)=>{A.listen(k,S=>{try{x(S)}catch(V){setTimeout(()=>{throw V},0)}})};return E(h,fa.EventType.OPEN,()=>{y||(Y(Nt,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),E(h,fa.EventType.CLOSE,()=>{y||(y=!0,Y(Nt,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(h))}),E(h,fa.EventType.ERROR,A=>{y||(y=!0,fo(Nt,`RPC '${e}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),b.a_(new K($.UNAVAILABLE,"The operation could not be completed")))}),E(h,fa.EventType.MESSAGE,A=>{var k;if(!y){const x=A.data[0];we(!!x,16349);const S=x,V=(S==null?void 0:S.error)||((k=S[0])==null?void 0:k.error);if(V){Y(Nt,`RPC '${e}' stream ${r} received error:`,V);const M=V.status;let O=function(v){const N=Qe[v];if(N!==void 0)return LS(N)}(M),I=V.message;O===void 0&&(O=$.INTERNAL,I="Unknown error status: "+M+" with message "+V.message),y=!0,b.a_(new K(O,I)),h.close()}else Y(Nt,`RPC '${e}' stream ${r} received:`,x),b.u_(x)}}),E(l,eS.STAT_EVENT,A=>{A.stat===Cm.PROXY?Y(Nt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===Cm.NOPROXY&&Y(Nt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return new zV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&Y("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="PersistentStream";class XS{constructor(e,n,s,r,i,a,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new K($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(Rw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(Rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UM extends XS{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qV(this.serializer,e),s=function(i){if(!("targetChange"in i))return ce.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?zn(a.readTime):ce.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(i,a){let l;const u=a.target;if(l=Mm(u)?{documents:QV(i,u)}:{query:YV(i,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=US(i,a.resumeToken);const d=Fm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(ce.min())>0){l.readTime=Qu(i,a.snapshotVersion.toTimestamp());const d=Fm(i,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=XV(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.q_(n)}}class $M extends XS{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KV(e.writeResults,e.commitTime),s=zn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>GV(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{}class zM extends BM{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,Um(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K($.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Um(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K($.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class HM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="RemoteStore";class WM{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{gi(this)&&(Y(ui,"Restarting streams for network reachability change."),await async function(u){const d=ue(u);d.Ea.add(4),await Ol(d),d.Ra.set("Unknown"),d.Ea.delete(4),await $d(d)}(this))})}),this.Ra=new HM(s,r)}}async function $d(t){if(gi(t))for(const e of t.da)await e(!0)}async function Ol(t){for(const e of t.da)await e(!1)}function ZS(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wg(n)?Hg(n):Ao(n).O_()&&zg(n,e))}function Bg(t,e){const n=ue(t),s=Ao(n);n.Ia.delete(e),s.O_()&&eT(n,e),n.Ia.size===0&&(s.O_()?s.L_():gi(n)&&n.Ra.set("Unknown"))}function zg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).Y_(e)}function eT(t,e){t.Va.Ue(e),Ao(t).Z_(e)}function Hg(t){t.Va=new FV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.Ra.ua()}function Wg(t){return gi(t)&&!Ao(t).x_()&&t.Ia.size>0}function gi(t){return ue(t).Ea.size===0}function tT(t){t.Va=void 0}async function qM(t){t.Ra.set("Online")}async function GM(t){t.Ia.forEach((e,n)=>{zg(t,e)})}async function KM(t,e){tT(t),Wg(t)?(t.Ra.ha(e),Hg(t)):t.Ra.set("Unknown")}async function QM(t,e,n){if(t.Ra.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){Y(ui,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ju(t,s)}else if(e instanceof Xc?t.Va.Ze(e):e instanceof OS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const s=await YS(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(d);f&&i.Ia.set(d,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,d)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(wt.EMPTY_BYTE_STRING,f.snapshotVersion)),eT(i,u);const h=new Hs(f.target,u,d,f.sequenceNumber);zg(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){Y(ui,"Failed to raise snapshot:",s),await Ju(t,s)}}async function Ju(t,e,n){if(!ko(e))throw e;t.Ea.add(1),await Ol(t),t.Ra.set("Offline"),n||(n=()=>YS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(ui,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $d(t)})}function nT(t,e){return e().catch(n=>Ju(t,n,e))}async function Bd(t){const e=ue(t),n=gr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jg;for(;YM(e);)try{const r=await CM(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,JM(e,r)}catch(r){await Ju(e,r)}sT(e)&&rT(e)}function YM(t){return gi(t)&&t.Ta.length<10}function JM(t,e){t.Ta.push(e);const n=gr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function sT(t){return gi(t)&&!gr(t).x_()&&t.Ta.length>0}function rT(t){gr(t).start()}async function XM(t){gr(t).ra()}async function ZM(t){const e=gr(t);for(const n of t.Ta)e.ea(n.mutations)}async function eL(t,e,n){const s=t.Ta.shift(),r=Vg.from(s,e,n);await nT(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Bd(t)}async function tL(t,e){e&&gr(t).X_&&await async function(s,r){if(function(a){return MV(a)&&a!==$.ABORTED}(r.code)){const i=s.Ta.shift();gr(s).B_(),await nT(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Bd(s)}}(t,e),sT(t)&&rT(t)}async function Dw(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),Y(ui,"RemoteStore received new credentials");const s=gi(n);n.Ea.add(3),await Ol(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $d(n)}async function nL(t,e){const n=ue(t);e?(n.Ea.delete(2),await $d(n)):e||(n.Ea.add(2),await Ol(n),n.Ra.set("Unknown"))}function Ao(t){return t.ma||(t.ma=function(n,s,r){const i=ue(n);return i.sa(),new UM(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:qM.bind(null,t),t_:GM.bind(null,t),r_:KM.bind(null,t),H_:QM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Wg(t)?Hg(t):t.Ra.set("Unknown")):(await t.ma.stop(),tT(t))})),t.ma}function gr(t){return t.fa||(t.fa=function(n,s,r){const i=ue(n);return i.sa(),new $M(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:XM.bind(null,t),r_:tL.bind(null,t),ta:ZM.bind(null,t),na:eL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Bd(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(ui,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new qg(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gg(t,e){if(xs("AsyncQueue",`${e}: ${t}`),ko(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{static emptySet(e){return new Yi(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ne.comparator(n.key,s.key):(n,s)=>ne.comparator(n.key,s.key),this.keyedMap=ma(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yi;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.ga=new Fe(ne.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class xo{constructor(e,n,s,r,i,a,l,u,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new xo(e,n,Yi.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class rL{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=ue(n),i=r.queries;r.queries=Mw(),i.forEach((a,l)=>{for(const u of l.Sa)u.onError(s)})})(this,new K($.ABORTED,"Firestore shutting down"))}}function Mw(){return new pi(t=>SS(t),Vd)}async function Kg(t,e){const n=ue(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new sL,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Gg(a,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Yg(n)}async function Qg(t,e){const n=ue(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iL(t,e){const n=ue(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&Yg(n)}function oL(t,e,n){const s=ue(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function Yg(t){t.Ca.forEach(e=>{e.next()})}var Wm,Lw;(Lw=Wm||(Wm={})).Ma="default",Lw.Cache="cache";class Jg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new xo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.key=e}}class oT{constructor(e){this.key=e}}class aL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=TS(e),this.tu=new Yi(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Vw,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,h)=>{const p=r.get(f),y=Md(this.query,h)?h:null,b=!!p&&this.mutatedKeys.has(p.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?b!==E&&(s.track({type:3,doc:y}),A=!0):this.su(p,y)||(s.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(s.track({type:0,doc:y}),A=!0):p&&!y&&(s.track({type:1,doc:p}),A=!0,(u||d)&&(l=!0)),A&&(y?(a=a.add(y),i=E?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),s.track({type:1,doc:f})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,h)=>function(y,b){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:A})}};return E(y)-E(b)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,d=u!==this.Za;return this.Za=u,a.length!==0||d?{snapshot:new xo(this.query,e.tu,i,a,e.mutatedKeys,u===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new oT(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new iT(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xg="SyncEngine";class lL{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cL{constructor(e){this.key=e,this.hu=!1}}class uL{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new pi(l=>SS(l),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(ne.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dL(t,e,n=!0){const s=hT(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await aT(s,e,n,!0),r}async function hL(t,e){const n=hT(t);await aT(n,e,!0,!1)}async function aT(t,e,n,s){const r=await PM(t.localStore,Bn(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await fL(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&ZS(t.remoteStore,r),l}async function fL(t,e,n,s,r){t.pu=(h,p,y)=>async function(E,A,k,x){let S=A.view.ru(k);S.Cs&&(S=await jw(E.localStore,A.query,!1).then(({documents:I})=>A.view.ru(I,S)));const V=x&&x.targetChanges.get(A.targetId),M=x&&x.targetMismatches.get(A.targetId)!=null,O=A.view.applyChanges(S,E.isPrimaryClient,V,M);return Fw(E,A.targetId,O.au),O.snapshot}(t,h,p,y);const i=await jw(t.localStore,e,!0),a=new aL(e,i.Qs),l=a.ru(i.documents),u=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),d=a.applyChanges(l,t.isPrimaryClient,u);Fw(t,n,d.au);const f=new lL(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function mL(t,e,n){const s=ue(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!Vd(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await zm(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Bg(s.remoteStore,r.targetId),qm(s,r.targetId)}).catch(Io)):(qm(s,r.targetId),await zm(s.localStore,r.targetId,!0))}async function pL(t,e){const n=ue(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bg(n.remoteStore,s.targetId))}async function gL(t,e,n){const s=NL(t);try{const r=await function(a,l){const u=ue(a),d=Ae.now(),f=l.reduce((y,b)=>y.add(b.key),ge());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=vs(),E=ge();return u.Ns.getEntries(y,f).next(A=>{b=A,b.forEach((k,x)=>{x.isValidDocument()||(E=E.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(A=>{h=A;const k=[];for(const x of l){const S=CV(x,h.get(x.key).overlayedDocument);S!=null&&k.push(new Sr(x.key,S,gS(S.value.mapValue),Tn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,k,l)}).next(A=>{p=A;const k=A.applyToLocalDocumentSet(h,E);return u.documentOverlayCache.saveOverlays(y,A.batchId,k)})}).then(()=>({batchId:p.batchId,changes:IS(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let d=a.Vu[a.currentUser.toKey()];d||(d=new Fe(pe)),d=d.insert(l,u),a.Vu[a.currentUser.toKey()]=d}(s,r.batchId,n),await Fl(s,r.changes),await Bd(s.remoteStore)}catch(r){const i=Gg(r,"Failed to persist write");n.reject(i)}}async function lT(t,e){const n=ue(t);try{const s=await jM(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(we(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?we(a.hu,14607):r.removedDocuments.size>0&&(we(a.hu,42227),a.hu=!1))}),await Fl(n,s,e)}catch(s){await Io(s)}}function Ow(t,e,n){const s=ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=ue(a);u.onlineState=l;let d=!1;u.queries.forEach((f,h)=>{for(const p of h.Sa)p.va(l)&&(d=!0)}),d&&Yg(u)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yL(t,e,n){const s=ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new Fe(ne.comparator);a=a.insert(i,It.newNoDocument(i,ce.min()));const l=ge().add(i),u=new Fd(ce.min(),new Map,new Fe(pe),a,l);await lT(s,u),s.du=s.du.remove(i),s.Au.delete(e),Zg(s)}else await zm(s.localStore,e,!1).then(()=>qm(s,e,n)).catch(Io)}async function xL(t,e){const n=ue(t),s=e.batch.batchId;try{const r=await kM(n.localStore,e);uT(n,s,null),cT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fl(n,r)}catch(r){await Io(r)}}async function vL(t,e,n){const s=ue(t);try{const r=await function(a,l){const u=ue(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next(h=>(we(h!==null,37113),f=h.keys(),u.mutationQueue.removeMutationBatch(d,h))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(s.localStore,e);uT(s,e,n),cT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fl(s,r)}catch(r){await Io(r)}}function cT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function uT(t,e,n){const s=ue(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function qm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||dT(t,s)})}function dT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Bg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zg(t))}function Fw(t,e,n){for(const s of n)s instanceof iT?(t.Ru.addReference(s.key,e),wL(t,s)):s instanceof oT?(Y(Xg,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||dT(t,s.key)):oe(19791,{wu:s})}function wL(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Y(Xg,"New document in limbo: "+n),t.Eu.add(s),Zg(t))}function Zg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(Te.fromString(e)),s=t.fu.next();t.Au.set(s,new cL(n)),t.du=t.du.insert(n,s),ZS(t.remoteStore,new Hs(Bn(Dd(n.path)),s,"TargetPurposeLimboResolution",Cd.ce))}}async function Fl(t,e,n){const s=ue(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,u)=>{a.push(s.pu(u,e,n).then(d=>{var f;if((d||n)&&s.isPrimaryClient){const h=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;s.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(d){r.push(d);const h=Ug.As(u.targetId,d);i.push(h)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(u,d){const f=ue(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(d,p=>z.forEach(p.Es,y=>f.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>z.forEach(p.ds,y=>f.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!ko(h))throw h;Y($g,"Failed to update sequence numbers: "+h)}for(const h of d){const p=h.targetId;if(!h.fromCache){const y=f.Ms.get(p),b=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(p,E)}}}(s.localStore,i))}async function _L(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){Y(Xg,"User change. New user:",e.toKey());const s=await QS(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new K($.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fl(n,s.Ls)}}function bL(t,e){const n=ue(t),s=n.Au.get(e);if(s&&s.hu)return ge().add(s.key);{let r=ge();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function hT(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.Pu.H_=iL.bind(null,e.eventManager),e.Pu.yu=oL.bind(null,e.eventManager),e}function NL(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}class Xu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return IM(this.persistence,new SM,e.initialUser,this.serializer)}Cu(e){return new KS(Fg.mi,this.serializer)}Du(e){return new DM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xu.provider={build:()=>new Xu};class SL extends Xu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){we(this.persistence.referenceDelegate instanceof Yu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new cM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new KS(s=>Yu.mi(s,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ow(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rL}()}createDatastore(e){const n=Ud(e.databaseInfo.databaseId),s=function(i){return new FM(i)}(e.databaseInfo);return function(i,a,l,u){return new zM(i,a,l,u)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new WM(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Ow(this.syncEngine,n,0),function(){return Pw.v()?new Pw:new VM}())}createSyncEngine(e,n){return function(r,i,a,l,u,d,f){const h=new uL(r,i,a,l,u,d);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=ue(r);Y(ui,"RemoteStore shutting down."),i.Ea.add(5),await Ol(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class TL{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Tt.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{Y(yr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(Y(yr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function uf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(yr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await QS(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EL(t);Y(yr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>Dw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>Dw(e.remoteStore,r)),t._onlineComponents=e}async function EL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(yr,"Using user provided OfflineComponentProvider");try{await uf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===$.FAILED_PRECONDITION||r.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await uf(t,new Xu)}}else Y(yr,"Using default OfflineComponentProvider"),await uf(t,new SL(void 0));return t._offlineComponents}async function fT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(yr,"Using user provided OnlineComponentProvider"),await Uw(t,t._uninitializedComponentsProvider._online)):(Y(yr,"Using default OnlineComponentProvider"),await Uw(t,new Gm))),t._onlineComponents}function IL(t){return fT(t).then(e=>e.syncEngine)}async function Zu(t){const e=await fT(t),n=e.eventManager;return n.onListen=dL.bind(null,e.syncEngine),n.onUnlisten=mL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),n}function kL(t,e,n={}){const s=new us;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,u,d){const f=new ey({next:p=>{f.Nu(),a.enqueueAndForget(()=>Qg(i,h));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?d.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new Jg(Dd(l.path),f,{includeMetadataChanges:!0,qa:!0});return Kg(i,h)}(await Zu(t),t.asyncQueue,e,n,s)),s.promise}function jL(t,e,n={}){const s=new us;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,u,d){const f=new ey({next:p=>{f.Nu(),a.enqueueAndForget(()=>Qg(i,h)),p.fromCache&&u.source==="server"?d.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),h=new Jg(l,f,{includeMetadataChanges:!0,qa:!0});return Kg(i,h)}(await Zu(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firestore.googleapis.com",Bw=!0;class zw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=Bw}else this.host=e.host,this.ssl=e.ssl??Bw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aM)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new D3;switch(s.type){case"firstParty":return new O3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$w.get(n);s&&(Y("ComponentProvider","Removing Datastore"),$w.delete(n),s.terminate())}(this),Promise.resolve()}}function AL(t,e,n,s={}){var d;t=Zt(t,zd);const r=No(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(aN(`https://${l}`),lN("Firestore",!0)),i.host!==pT&&i.host!==l&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!ii(u,a)&&(t._setSettings(u),s.mockUserToken)){let f,h;if(typeof s.mockUserToken=="string")f=s.mockUserToken,h=Tt.MOCK_USER;else{f=FR(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Tt(p)}t._authCredentials=new V3(new rS(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class ze{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Vl(n,ze._jsonSchema))return new ze(e,s||null,new ne(Te.fromString(n.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Ze("string",ze._jsonSchemaVersion),referencePath:Ze("string")};class ar extends Tr{constructor(e,n,s){super(e,n,Dd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new ne(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function Ul(t,e,...n){if(t=et(t),iS("collection","path",e),t instanceof zd){const s=Te.fromString(e,...n);return nw(s),new ar(t,null,s)}{if(!(t instanceof ze||t instanceof ar))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Te.fromString(e,...n));return nw(s),new ar(t.firestore,null,s)}}function $l(t,e,...n){if(t=et(t),arguments.length===1&&(e=kg.newId()),iS("doc","path",e),t instanceof zd){const s=Te.fromString(e,...n);return tw(s),new ze(t,null,new ne(s))}{if(!(t instanceof ze||t instanceof ar))throw new K($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Te.fromString(e,...n));return tw(s),new ze(t.firestore,t instanceof ar?t.converter:null,new ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="AsyncQueue";class Ww{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const s=cf();s&&Y(Hw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new us;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ko(e))throw e;Y(Hw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",qw(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=qg.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&oe(47125,{Pc:qw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function qw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xr extends zd{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Ww,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ww(e),this._firestoreClient=void 0,await e}}}function CL(t,e){const n=typeof t=="object"?t:hN(),s=typeof t=="string"?t:Wu,r=gg(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=LR("firestore");i&&AL(r,...i)}return r}function Hd(t){if(t._terminated)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PL(t),t._firestoreClient}function PL(t){var s,r,i;const e=t._freezeSettings(),n=function(l,u,d,f){return new tV(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,mT(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(wt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new un(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vl(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:Ze("string",un._jsonSchemaVersion),bytes:Ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hn._jsonSchemaVersion}}static fromJSON(e){if(Vl(e,Hn._jsonSchema))return new Hn(e.latitude,e.longitude)}}Hn._jsonSchemaVersion="firestore/geoPoint/1.0",Hn._jsonSchema={type:Ze("string",Hn._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vl(e,Wn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Wn(e.vectorValues);throw new K($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ze("string",Wn._jsonSchemaVersion),vectorValues:Ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=/^__.*__$/;class DL{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}class gT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class ty{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yT(this.Ac)&&RL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VL{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ud(e)}Cc(e,n,s,r=!1){return new ty({Ac:e,methodName:n,Dc:s,path:gt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),n=Ud(t._databaseId);return new VL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xT(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);sy("Data must be an object, but it was:",a,s);const l=vT(s,a);let u,d;if(i.merge)u=new Jt(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const h of i.mergeFields){const p=Km(e,h,n);if(!a.contains(p))throw new K($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);_T(f,p)||f.push(p)}u=new Jt(f),d=a.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,d=a.fieldTransforms;return new DL(new Ut(l),u,d)}class Kd extends qd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kd}}class ny extends qd{_toFieldTransform(e){return new IV(e.path,new fl)}isEqual(e){return e instanceof ny}}function ML(t,e,n,s){const r=t.Cc(1,e,n);sy("Data must be an object, but it was:",r,s);const i=[],a=Ut.empty();Nr(s,(u,d)=>{const f=ry(e,u,n);d=et(d);const h=r.yc(f);if(d instanceof Kd)i.push(f);else{const p=Bl(d,h);p!=null&&(i.push(f),a.set(f,p))}});const l=new Jt(i);return new gT(a,l,r.fieldTransforms)}function LL(t,e,n,s,r,i){const a=t.Cc(1,e,n),l=[Km(e,s,n)],u=[r];if(i.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(Km(e,i[p])),u.push(i[p+1]);const d=[],f=Ut.empty();for(let p=l.length-1;p>=0;--p)if(!_T(d,l[p])){const y=l[p];let b=u[p];b=et(b);const E=a.yc(y);if(b instanceof Kd)d.push(y);else{const A=Bl(b,E);A!=null&&(d.push(y),f.set(y,A))}}const h=new Jt(d);return new gT(f,h,a.fieldTransforms)}function OL(t,e,n,s=!1){return Bl(n,t.Cc(s?4:3,e))}function Bl(t,e){if(wT(t=et(t)))return sy("Unsupported field value:",e,t),vT(t,e);if(t instanceof qd)return function(s,r){if(!yT(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let u=Bl(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SV(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Ae.fromDate(s);return{timestampValue:Qu(r.serializer,i)}}if(s instanceof Ae){const i=new Ae(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qu(r.serializer,i)}}if(s instanceof Hn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof un)return{bytesValue:US(r.serializer,s._byteString)};if(s instanceof ze){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lg(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Wn)return function(a,l){return{mapValue:{fields:{[mS]:{stringValue:pS},[qu]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Dg(l.serializer,d)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Ad(s)}`)}(t,e)}function vT(t,e){const n={};return lS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,(s,r)=>{const i=Bl(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function wT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof Hn||t instanceof un||t instanceof ze||t instanceof qd||t instanceof Wn)}function sy(t,e,n){if(!wT(n)||!oS(n)){const s=Ad(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Km(t,e,n){if((e=et(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return ry(t,e);throw ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const FL=new RegExp("[~\\*/\\[\\]]");function ry(t,e,n){if(e.search(FL)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ed(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${s}`),a&&(u+=` in document ${r}`),u+=")"),new K($.INVALID_ARGUMENT,l+t+u)}function _T(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UL extends bT{data(){return super.data()}}function iy(t,e){return typeof e=="string"?ry(t,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oy{}class ST extends oy{}function TT(t,e,...n){let s=[];e instanceof oy&&s.push(e),s=s.concat(n),function(i){const a=i.filter(u=>u instanceof ly).length,l=i.filter(u=>u instanceof ay).length;if(a>1||a>0&&l>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class ay extends ST{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ay(e,n,s)}_apply(e){const n=this._parse(e);return IT(e._query,n),new Tr(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Gd(e.firestore);return function(i,a,l,u,d,f,h){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Qw(h,f);const b=[];for(const E of h)b.push(Kw(u,i,E));p={arrayValue:{values:b}}}else p=Kw(u,i,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Qw(h,f),p=OL(l,a,h,f==="in"||f==="not-in");return Xe.create(d,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ly extends oy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ly(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const u of l)IT(a,u),a=Lm(a,u)}(e._query,n),new Tr(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends ST{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cy(e,n)}_apply(e){const n=function(r,i,a){if(r.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hl(i,a)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new jo(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function ET(t,e="asc"){const n=e,s=iy("orderBy",t);return cy._create(s,n)}function Kw(t,e,n){if(typeof(n=et(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NS(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Te.fromString(n));if(!ne.isDocumentKey(s))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return uw(t,new ne(s))}if(n instanceof ze)return uw(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(n)}.`)}function Qw(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IT(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $L{convertValue(e,n="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Nr(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[qu].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>qe(a.doubleValue));return new Wn(n)}convertGeoPoint(e){return new Hn(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Rd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=fr(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Te.fromString(e);we(qS(s),9688,{name:e});const r=new ul(s.get(1),s.get(3)),i=new ne(s.popFirst(5));return r.isEqual(n)||xs(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xr extends bT{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(iy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xr._jsonSchema={type:Ze("string",Xr._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Zc extends Xr{data(e={}){return super.data(e)}}class Zr{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ga(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Zc(this._firestore,this._userDataWriter,s.key,s,new ga(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Zc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ga(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new Zc(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ga(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:BL(l.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){t=Zt(t,ze);const e=Zt(t.firestore,xr);return kL(Hd(e),t._key).then(n=>PT(e,t,n))}Zr._jsonSchemaVersion="firestore/querySnapshot/1.0",Zr._jsonSchema={type:Ze("string",Zr._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class uy extends $L{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,n)}}function jT(t){t=Zt(t,Tr);const e=Zt(t.firestore,xr),n=Hd(e),s=new uy(e);return NT(t._query),jL(n,t._query).then(r=>new Zr(e,s,t,r))}function HL(t,e,n){t=Zt(t,ze);const s=Zt(t.firestore,xr),r=kT(t.converter,e,n);return dy(s,[xT(Gd(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Tn.none())])}function AT(t,e,n,...s){t=Zt(t,ze);const r=Zt(t.firestore,xr),i=Gd(r);let a;return a=typeof(e=et(e))=="string"||e instanceof Wd?LL(i,"updateDoc",t._key,e,n,s):ML(i,"updateDoc",t._key,e),dy(r,[a.toMutation(t._key,Tn.exists(!0))])}function WL(t,e){const n=Zt(t.firestore,xr),s=$l(t),r=kT(t.converter,e);return dy(n,[xT(Gd(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Tn.exists(!1))]).then(()=>s)}function CT(t,...e){var u,d,f;t=et(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Gw(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Gw(e[s])){const h=e[s];e[s]=(u=h.next)==null?void 0:u.bind(h),e[s+1]=(d=h.error)==null?void 0:d.bind(h),e[s+2]=(f=h.complete)==null?void 0:f.bind(h)}let i,a,l;if(t instanceof ze)a=Zt(t.firestore,xr),l=Dd(t._key.path),i={next:h=>{e[s]&&e[s](PT(a,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Zt(t,Tr);a=Zt(h.firestore,xr),l=h._query;const p=new uy(a);i={next:y=>{e[s]&&e[s](new Zr(a,p,h,y))},error:e[s+1],complete:e[s+2]},NT(t._query)}return function(p,y,b,E){const A=new ey(E),k=new Jg(y,A,b);return p.asyncQueue.enqueueAndForget(async()=>Kg(await Zu(p),k)),()=>{A.Nu(),p.asyncQueue.enqueueAndForget(async()=>Qg(await Zu(p),k))}}(Hd(a),l,r,i)}function dy(t,e){return function(s,r){const i=new us;return s.asyncQueue.enqueueAndForget(async()=>gL(await IL(s),r,i)),i.promise}(Hd(t),e)}function PT(t,e,n){const s=n.docs.get(e._key),r=new uy(t);return new Xr(t,r,e._key,s,new ga(n.hasPendingWrites,n.fromCache),e.converter)}function Qd(){return new ny("serverTimestamp")}(function(e,n=!0){(function(r){Eo=r})(So),uo(new oi("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new xr(new M3(s.getProvider("auth-internal")),new F3(a,s.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(d.options.projectId,f)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ir(Jv,Xv,e),ir(Jv,Xv,"esm2020")})();const qL={apiKey:"AIzaSyA4oe_gqt8NOWC6VCEfJYbznsVQuoyIJC4",authDomain:"saxovault-d94c5.firebaseapp.com",projectId:"saxovault-d94c5",storageBucket:"saxovault-d94c5.firebasestorage.app",messagingSenderId:"61739859282",appId:"1:61739859282:web:e33555e56540b7aee20e8b",measurementId:"G-RC1Y2MJJVS"},RT=dN(qL),vo=P3(RT),Ss=CL(RT),DT=new Zn;DT.setCustomParameters({prompt:"select_account"});const hy=async t=>{try{return await HL($l(Ss,"users",t.uid),{...t,updatedAt:Qd()},{merge:!0}),console.log(" User saved to Firestore:",t.email),{success:!0}}catch(e){return console.error(" Error saving user to Firestore:",e),{success:!1,error:e.message}}},VT=async t=>{try{const e=$l(Ss,"users",t),n=await zL(e);return n.exists()?{success:!0,data:n.data()}:{success:!1,error:"User not found"}}catch(e){return console.error(" Error getting user from Firestore:",e),{success:!1,error:e.message}}},GL=async()=>{try{const t=await jT(Ul(Ss,"users")),e=[];return t.forEach(n=>{e.push({id:n.id,...n.data()})}),console.log(" Fetched",e.length,"users from Firestore"),{success:!0,data:e}}catch(t){return console.error(" Error getting users from Firestore:",t),{success:!1,error:t.message}}},fy=async(t,e)=>{try{return await AT($l(Ss,"users",t),{...e,updatedAt:Qd()}),console.log(" User updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating user in Firestore:",n),{success:!1,error:n.message}}},KL=async t=>{try{const e=await WL(Ul(Ss,"transactions"),{...t,createdAt:Qd(),status:t.status||"pending"});return console.log(" Transaction added to Firestore:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error adding transaction to Firestore:",e),{success:!1,error:e.message}}},QL=async()=>{try{const t=TT(Ul(Ss,"transactions"),ET("createdAt","desc")),e=await jT(t),n=[];return e.forEach(s=>{var i,a,l;const r=s.data();n.push({id:s.id,...r,createdAt:((l=(a=(i=r.createdAt)==null?void 0:i.toDate)==null?void 0:a.call(i))==null?void 0:l.toISOString())||r.createdAt})}),console.log(" Fetched",n.length,"transactions from Firestore"),{success:!0,data:n}}catch(t){return console.error(" Error getting transactions from Firestore:",t),{success:!1,error:t.message}}},YL=async(t,e)=>{try{return await AT($l(Ss,"transactions",t),{...e,updatedAt:Qd()}),console.log(" Transaction updated in Firestore"),{success:!0}}catch(n){return console.error(" Error updating transaction in Firestore:",n),{success:!1,error:n.message}}},JL=t=>{const e=TT(Ul(Ss,"transactions"),ET("createdAt","desc"));return CT(e,n=>{const s=[];n.forEach(r=>{var a,l,u;const i=r.data();s.push({id:r.id,...i,createdAt:((u=(l=(a=i.createdAt)==null?void 0:a.toDate)==null?void 0:l.call(a))==null?void 0:u.toISOString())||i.createdAt})}),t(s)})},XL=t=>CT(Ul(Ss,"users"),e=>{const n=[];e.forEach(s=>{n.push({id:s.id,...s.data()})}),t(n)}),ZL=async()=>{try{const e=(await $D(vo,DT)).user,n=await VT(e.uid);let s,r=!1;return!n.success||!n.data?(r=!0,s={uid:e.uid,email:e.email,name:e.displayName||"",phone:"",country:"",referralCode:"",createdAt:new Date().toISOString(),balance:0,signInMethod:"google",photoURL:e.photoURL||""},await hy(s),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))):(s=n.data,e.photoURL&&e.photoURL!==s.photoURL&&(s.photoURL=e.photoURL,await fy(e.uid,{photoURL:e.photoURL})),localStorage.setItem(`user_${e.uid}`,JSON.stringify(s))),{success:!0,user:e,userData:s,isNewUser:r}}catch(t){let e="Google sign-in failed. Please try again.";switch(t.code){case"auth/popup-closed-by-user":e="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":e="Popup was blocked. Please allow popups for this site.";break;case"auth/cancelled-popup-request":e="Sign-in was cancelled.";break;case"auth/account-exists-with-different-credential":e="An account already exists with this email using a different sign-in method.";break;default:e=t.message}return{success:!1,error:e}}},e6=async(t,e,n)=>{try{const r=(await gD(vo,t,e)).user;await vD(r,{displayName:n.name||""}),await ON(r,{url:window.location.origin,handleCodeInApp:!1});const i={uid:r.uid,email:t,name:n.name||"",phone:n.phone||"",country:n.country||"",referralCode:n.referralCode||"",createdAt:new Date().toISOString(),balance:0,signInMethod:"email",emailVerified:!1};return await hy(i),localStorage.setItem(`user_${r.uid}`,JSON.stringify(i)),{success:!0,user:r,message:"Verification email sent! Please check your inbox."}}catch(s){let r="Registration failed. Please try again.";switch(s.code){case"auth/email-already-in-use":r="This email is already registered. Please login instead.";break;case"auth/weak-password":r="Password is too weak. Please use at least 6 characters.";break;case"auth/invalid-email":r="Please enter a valid email address.";break;default:r=s.message}return{success:!1,error:r}}},Yw=async(t,e)=>{try{const s=(await yD(vo,t,e)).user;if(!s.emailVerified)return await ON(s),await FN(vo),{success:!1,needsVerification:!0,error:"Please verify your email first. A new verification link has been sent."};let r;const i=await VT(s.uid);if(i.success&&i.data)r=i.data,r.emailVerified||(r.emailVerified=!0,await fy(s.uid,{emailVerified:!0}));else{const a=localStorage.getItem(`user_${s.uid}`);a?r=JSON.parse(a):r={uid:s.uid,email:s.email,name:s.displayName||"",balance:0,emailVerified:!0},await hy(r)}return localStorage.setItem(`user_${s.uid}`,JSON.stringify(r)),{success:!0,user:s,userData:r}}catch(n){let s="Login failed. Please try again.";switch(n.code){case"auth/user-not-found":s="No account found with this email.";break;case"auth/wrong-password":s="Incorrect password. Please try again.";break;case"auth/invalid-email":s="Please enter a valid email address.";break;case"auth/too-many-requests":s="Too many failed attempts. Please try again later.";break;case"auth/invalid-credential":s="Invalid email or password.";break;default:s=n.message}return{success:!1,error:s}}},t6=async()=>{try{return await FN(vo),{success:!0}}catch(t){return{success:!1,error:t.message}}},n6=async t=>{try{return await pD(vo,t),{success:!0,message:"Password reset email sent! Check your inbox."}}catch(e){let n="Failed to send reset email.";switch(e.code){case"auth/user-not-found":n="No account found with this email.";break;case"auth/invalid-email":n="Please enter a valid email address.";break;default:n=e.message}return{success:!1,error:n}}};D.createContext();const s6={navy:"#0a1628",navyLight:"#1a2d4a",gold:"#D4AF37",goldDark:"#b8962e",green:"#0FAF76",greenDark:"#0d9962",cream:"#faf8f5"};let w=s6;const r6={en:{welcome:"Welcome",dashboard:"Dashboard",investments:"Investments",deposit:"Deposit",withdraw:"Withdraw",balance:"Balance",pending:"Pending",approved:"Approved",home:"Home",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",submit:"Submit",cancel:"Cancel",confirm:"Confirm",amount:"Amount",history:"History",notifications:"Notifications",referral:"Referral",calculator:"Calculator",investNow:"Invest Now",minInvestment:"Min Investment",returns:"Returns",duration:"Duration",status:"Status",copyAddress:"Copy Address",paymentPending:"Payment Pending",transactionHistory:"Transaction History",noTransactions:"No transactions yet",securityTips:"Security Tips",activityLog:"Activity Log",viewAll:"View All",search:"Search",filter:"Filter",export:"Export",support:"Support",help:"Help",about:"About",terms:"Terms",privacy:"Privacy",contact:"Contact",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode"},es:{welcome:"Bienvenido",dashboard:"Panel",investments:"Inversiones",deposit:"Depositar",withdraw:"Retirar",balance:"Saldo",pending:"Pendiente",approved:"Aprobado",home:"Inicio",profile:"Perfil",settings:"Ajustes",logout:"Cerrar sesin",login:"Iniciar sesin",register:"Registrarse",email:"Correo",password:"Contrasea",name:"Nombre",phone:"Telfono",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Cantidad",history:"Historial",notifications:"Notificaciones",referral:"Referidos",calculator:"Calculadora",investNow:"Invertir Ahora",minInvestment:"Inversin Mnima",returns:"Retornos",duration:"Duracin",status:"Estado",copyAddress:"Copiar Direccin",paymentPending:"Pago Pendiente",transactionHistory:"Historial de Transacciones",noTransactions:"Sin transacciones",securityTips:"Consejos de Seguridad",activityLog:"Registro de Actividad",viewAll:"Ver Todo",search:"Buscar",filter:"Filtrar",export:"Exportar",support:"Soporte",help:"Ayuda",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",contact:"Contacto",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro"},fr:{welcome:"Bienvenue",dashboard:"Tableau de bord",investments:"Investissements",deposit:"Dpt",withdraw:"Retirer",balance:"Solde",pending:"En attente",approved:"Approuv",home:"Accueil",profile:"Profil",settings:"Paramtres",logout:"Dconnexion",login:"Connexion",register:"S'inscrire",email:"E-mail",password:"Mot de passe",name:"Nom",phone:"Tlphone",submit:"Soumettre",cancel:"Annuler",confirm:"Confirmer",amount:"Montant",history:"Historique",notifications:"Notifications",referral:"Parrainage",calculator:"Calculatrice",investNow:"Investir Maintenant",minInvestment:"Investissement Min",returns:"Rendements",duration:"Dure",status:"Statut",copyAddress:"Copier l'adresse",paymentPending:"Paiement en attente",transactionHistory:"Historique des transactions",noTransactions:"Aucune transaction",securityTips:"Conseils de scurit",activityLog:"Journal d'activit",viewAll:"Voir tout",search:"Rechercher",filter:"Filtrer",export:"Exporter",support:"Support",help:"Aide",about:" propos",terms:"Conditions",privacy:"Confidentialit",contact:"Contact",language:"Langue",darkMode:"Mode sombre",lightMode:"Mode clair"},de:{welcome:"Willkommen",dashboard:"bersicht",investments:"Investitionen",deposit:"Einzahlung",withdraw:"Auszahlung",balance:"Guthaben",pending:"Ausstehend",approved:"Genehmigt",home:"Startseite",profile:"Profil",settings:"Einstellungen",logout:"Abmelden",login:"Anmelden",register:"Registrieren",email:"E-Mail",password:"Passwort",name:"Name",phone:"Telefon",submit:"Absenden",cancel:"Abbrechen",confirm:"Besttigen",amount:"Betrag",history:"Verlauf",notifications:"Benachrichtigungen",referral:"Empfehlung",calculator:"Rechner",investNow:"Jetzt investieren",minInvestment:"Mindestanlage",returns:"Rendite",duration:"Laufzeit",status:"Status",copyAddress:"Adresse kopieren"},pt:{welcome:"Bem-vindo",dashboard:"Painel",investments:"Investimentos",deposit:"Depsito",withdraw:"Saque",balance:"Saldo",pending:"Pendente",approved:"Aprovado",home:"Incio",profile:"Perfil",settings:"Configuraes",logout:"Sair",login:"Entrar",register:"Cadastrar",email:"E-mail",password:"Senha",name:"Nome",phone:"Telefone",submit:"Enviar",cancel:"Cancelar",confirm:"Confirmar",amount:"Valor",history:"Histrico",notifications:"Notificaes",referral:"Indicao",calculator:"Calculadora",investNow:"Investir Agora"},it:{welcome:"Benvenuto",dashboard:"Pannello",investments:"Investimenti",deposit:"Deposito",withdraw:"Prelievo",balance:"Saldo",pending:"In attesa",approved:"Approvato",home:"Home",profile:"Profilo",settings:"Impostazioni",logout:"Esci",login:"Accedi",register:"Registrati",email:"Email",password:"Password",name:"Nome",phone:"Telefono",submit:"Invia",cancel:"Annulla",confirm:"Conferma",amount:"Importo",history:"Cronologia",investNow:"Investi Ora",minInvestment:"Investimento Minimo",returns:"Rendimenti",duration:"Durata"},nl:{welcome:"Welkom",dashboard:"Dashboard",investments:"Investeringen",deposit:"Storting",withdraw:"Opname",balance:"Saldo",pending:"In behandeling",approved:"Goedgekeurd",home:"Home",profile:"Profiel",settings:"Instellingen",logout:"Uitloggen",login:"Inloggen",register:"Registreren",investNow:"Nu Investeren"},ru:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:". ",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:". ",returns:"",duration:""},zh:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:"",notifications:""},ja:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:"",minInvestment:"",returns:"",duration:""},ko:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",email:"",password:"",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:" ",returns:"",duration:""},ar:{welcome:"",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:" ",approved:" ",home:"",profile:" ",settings:"",logout:" ",login:" ",register:"",email:" ",password:" ",name:"",phone:"",submit:"",cancel:"",confirm:"",amount:"",history:"",investNow:" ",minInvestment:"  ",returns:"",duration:""},hi:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:" ",pending:"",approved:"",home:"",profile:"",settings:"",logout:" ",login:" ",register:"",email:"",password:"",name:"",phone:"",submit:" ",cancel:" ",confirm:" ",amount:"",history:"",investNow:"  ",minInvestment:" ",returns:"",duration:""},tr:{welcome:"Ho geldiniz",dashboard:"Kontrol Paneli",investments:"Yatrmlar",deposit:"Para Yatr",withdraw:"Para ek",balance:"Bakiye",pending:"Beklemede",approved:"Onayland",home:"Ana Sayfa",profile:"Profil",settings:"Ayarlar",logout:"k",login:"Giri",register:"Kayt Ol",email:"E-posta",password:"ifre",name:"Ad",phone:"Telefon",submit:"Gnder",cancel:"ptal",confirm:"Onayla",amount:"Tutar",history:"Gemi",investNow:"imdi Yatrm Yap",minInvestment:"Min Yatrm",returns:"Getiri",duration:"Sre"},pl:{welcome:"Witamy",dashboard:"Panel",investments:"Inwestycje",deposit:"Wpata",withdraw:"Wypata",balance:"Saldo",pending:"Oczekujce",approved:"Zatwierdzone",home:"Strona gwna",profile:"Profil",settings:"Ustawienia",logout:"Wyloguj",login:"Zaloguj",register:"Zarejestruj",investNow:"Inwestuj Teraz"},vi:{welcome:"Cho mng",dashboard:"Bng iu khin",investments:"u t",deposit:"Np tin",withdraw:"Rt tin",balance:"S d",pending:"ang ch",approved:" duyt",home:"Trang ch",profile:"H s",settings:"Ci t",logout:"ng xut",login:"ng nhp",register:"ng k",investNow:"u t ngay"},th:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:""},id:{welcome:"Selamat datang",dashboard:"Dasbor",investments:"Investasi",deposit:"Setor",withdraw:"Tarik",balance:"Saldo",pending:"Tertunda",approved:"Disetujui",home:"Beranda",profile:"Profil",settings:"Pengaturan",logout:"Keluar",login:"Masuk",register:"Daftar",investNow:"Investasi Sekarang"},ms:{welcome:"Selamat datang",dashboard:"Papan pemuka",investments:"Pelaburan",deposit:"Deposit",withdraw:"Pengeluaran",balance:"Baki",pending:"Menunggu",approved:"Diluluskan",home:"Laman utama",profile:"Profil",settings:"Tetapan",logout:"Log keluar",login:"Log masuk",register:"Daftar",investNow:"Labur Sekarang"},tl:{welcome:"Maligayang pagdating",dashboard:"Dashboard",investments:"Mga Pamumuhunan",deposit:"Deposito",withdraw:"Withdraw",balance:"Balanse",pending:"Nakabinbin",approved:"Aprubado",home:"Home",profile:"Profile",settings:"Settings",logout:"Mag-logout",login:"Mag-login",register:"Mag-register",investNow:"Mamuhunan Ngayon"},el:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},cs:{welcome:"Vtejte",dashboard:"Pehled",investments:"Investice",deposit:"Vklad",withdraw:"Vbr",balance:"Zstatek",pending:"ekajc",approved:"Schvleno",home:"Dom",profile:"Profil",settings:"Nastaven",logout:"Odhlsit",login:"Pihlsit",register:"Registrace",investNow:"Investovat nyn"},sv:{welcome:"Vlkommen",dashboard:"Instrumentpanel",investments:"Investeringar",deposit:"Insttning",withdraw:"Uttag",balance:"Saldo",pending:"Vntande",approved:"Godknd",home:"Hem",profile:"Profil",settings:"Instllningar",logout:"Logga ut",login:"Logga in",register:"Registrera",investNow:"Investera Nu"},no:{welcome:"Velkommen",dashboard:"Kontrollpanel",investments:"Investeringer",deposit:"Innskudd",withdraw:"Uttak",balance:"Saldo",pending:"Venter",approved:"Godkjent",home:"Hjem",profile:"Profil",settings:"Innstillinger",logout:"Logg ut",login:"Logg inn",register:"Registrer",investNow:"Invester N"},da:{welcome:"Velkommen",dashboard:"Kontrolpanel",investments:"Investeringer",deposit:"Indbetaling",withdraw:"Udbetaling",balance:"Saldo",pending:"Afventer",approved:"Godkendt",home:"Hjem",profile:"Profil",settings:"Indstillinger",logout:"Log ud",login:"Log ind",register:"Registrer",investNow:"Invester Nu"},fi:{welcome:"Tervetuloa",dashboard:"Hallintapaneeli",investments:"Sijoitukset",deposit:"Talletus",withdraw:"Nosto",balance:"Saldo",pending:"Odottaa",approved:"Hyvksytty",home:"Etusivu",profile:"Profiili",settings:"Asetukset",logout:"Kirjaudu ulos",login:"Kirjaudu",register:"Rekisteridy",investNow:"Sijoita Nyt"},he:{welcome:" ",dashboard:" ",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},uk:{welcome:" ",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:" "},ro:{welcome:"Bun venit",dashboard:"Panou",investments:"Investiii",deposit:"Depunere",withdraw:"Retragere",balance:"Sold",pending:"n ateptare",approved:"Aprobat",home:"Acas",profile:"Profil",settings:"Setri",logout:"Deconectare",login:"Conectare",register:"nregistrare",investNow:"Investete Acum"},hu:{welcome:"dvzljk",dashboard:"Irnytpult",investments:"Befektetsek",deposit:"Befizets",withdraw:"Kifizets",balance:"Egyenleg",pending:"Fggben",approved:"Jvhagyott",home:"Foldal",profile:"Profil",settings:"Belltsok",logout:"Kijelentkezs",login:"Bejelentkezs",register:"Regisztrci",investNow:"Befektets Most"},bn:{welcome:"",dashboard:"",investments:"",deposit:"",withdraw:"",balance:"",pending:"",approved:"",home:"",profile:"",settings:"",logout:"",login:"",register:"",investNow:"  "},sw:{welcome:"Karibu",dashboard:"Dashibodi",investments:"Uwekezaji",deposit:"Amana",withdraw:"Kutoa",balance:"Salio",pending:"Inasubiri",approved:"Imeidhinishwa",home:"Nyumbani",profile:"Wasifu",settings:"Mipangilio",logout:"Ondoka",login:"Ingia",register:"Jisajili",investNow:"Wekeza Sasa"},yo:{welcome:" kb",dashboard:"Pnl",investments:"dkw",deposit:"fipam",withdraw:"mkr",balance:"yk",pending:" dr",approved:"Ti fws",home:"Il",profile:"ksl",settings:"t",investNow:"e dkw by"},ha:{welcome:"Barka da zuwa",dashboard:"Dashboard",investments:"Saka hannun jari",deposit:"Ajiya",withdraw:"Cire kui",balance:"Ragowar kui",pending:"Ana jira",approved:"An amince",home:"Gida",profile:"Bayani",settings:"Saiti",investNow:"Saka hannun jari yanzu"},ig:{welcome:"Nn",dashboard:"Dashboard",investments:"Ntinye ego",deposit:"Tinyere ego",withdraw:"Wepu ego",balance:"Ego fdr",pending:"Na-echere",approved:"Kwadoro",home:"l",profile:"Profal",settings:"Ntala",investNow:"Tinye ego ugbu a"}},Jw={en:"English",es:"Espaol",fr:"Franais",de:"Deutsch",pt:"Portugus",it:"Italiano",nl:"Nederlands",ru:"",zh:"",ja:"",ko:"",ar:"",hi:"",tr:"Trke",pl:"Polski",vi:"Ting Vit",th:"",id:"Bahasa Indonesia",ms:"Bahasa Melayu",tl:"Filipino",el:"",cs:"etina",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomi",he:"",uk:"",ro:"Romn",hu:"Magyar",bn:"",sw:"Kiswahili",yo:"Yorb",ha:"Hausa",ig:"Igbo"},i6=()=>{const e=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase();return r6[e]?e:"en"},o6=()=>localStorage.getItem("saxovault_language")||i6(),MT=()=>o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 py-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[o.jsx(co,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-xs text-gray-600",children:"256-bit SSL"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[o.jsx(nr,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Bank-Level Security"})]}),o.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 rounded-lg",children:[o.jsx(hR,{className:"w-4 h-4 text-yellow-600"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Licensed"})]})]});function a6({onComplete:t}){const[e,n]=D.useState(0),s=[{title:"Welcome to SaxoVault! ",description:"Your journey to smart investing starts here. Let us show you around.",icon:""},{title:"Explore Investments",description:"Browse our curated investment opportunities across real estate, crypto, stocks, and more.",icon:""},{title:"Easy Deposits",description:"Fund your account instantly using Bitcoin, Ethereum, or USDT cryptocurrency.",icon:""},{title:"Track Your Portfolio",description:"Monitor your investments, returns, and transaction history from your dashboard.",icon:""},{title:"Secure & Trusted",description:"Your investments are protected with bank-level security and 24/7 support.",icon:""}],r=()=>{if(e<s.length-1)n(e+1);else{const a=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");a.uid&&localStorage.setItem(`saxovault_onboarding_${a.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()}},i=()=>{const a=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");a.uid&&localStorage.setItem(`saxovault_onboarding_${a.uid}`,"true"),localStorage.setItem("saxovault_onboarding_complete","true"),t()};return o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:o.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl p-6 max-w-md w-full text-center shadow-2xl",children:[o.jsx("div",{className:"flex gap-1 mb-6 justify-center",children:s.map((a,l)=>o.jsx("div",{className:`h-1 rounded-full transition-all ${l<=e?"w-8":"w-4"}`,style:{background:l<=e?w.gold:"#e5e7eb"}},l))}),o.jsx("div",{className:"text-5xl mb-4",children:s[e].icon}),o.jsx("h2",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:s[e].title}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:s[e].description}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:i,className:"flex-1 py-3 rounded-xl text-gray-500 text-sm hover:bg-gray-100",children:"Skip"}),o.jsx(U.button,{onClick:r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white text-sm font-medium",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:e===s.length-1?"Let's Go!":"Next"})]})]})})}const Se={hero:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&q=80",realEstate1:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=800&q=80",realEstate2:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&q=80",realEstate3:"https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800&q=80",realEstate4:"https://images.unsplash.com/photo-1460317442991-0ec209397118?w=800&q=80",crypto1:"https://images.unsplash.com/photo-1518546305927-5a555bb7020d?w=800&q=80",crypto2:"https://images.unsplash.com/photo-1621761191319-c6fb62004040?w=800&q=80",crypto3:"https://images.unsplash.com/photo-1516245834210-c4c142787335?w=800&q=80",stocks1:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",stocks2:"https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?w=800&q=80",stocks3:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?w=800&q=80",gold1:"https://images.unsplash.com/photo-1610375461246-83df859d849d?w=800&q=80",gold2:"https://images.unsplash.com/photo-1624365168968-f283d506c6b6?w=800&q=80",gold3:"https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&q=80",plans1:"https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=800&q=80",plans2:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",plans3:"https://images.unsplash.com/photo-1553729459-efe14ef6055d?w=800&q=80"},zl=[{id:100,name:"Test Plan",category:"Cryptocurrency",type:"crypto",min:500,max:500,returns:"5%",term:"5 days",desc:"Starter test plan to experience our platform. Earn 1% daily profit for 5 days. Limited to one investment per account. Perfect for first-time investors to test our system.",progress:99,goal:1e5,img:Se.crypto1,features:["1% Daily Returns","5-Day Duration","One Per Account","Quick Payout"],investors:12847,rating:5,status:"Active",payoutSchedule:"End of Term",dailyRate:1,totalDays:5,isTestPlan:!0,onePerUser:!0},{id:1,name:"Greenwich Towers",category:"Real Estate",type:"real-estate",min:5e3,returns:"12-15%",term:"12 months",desc:"Premium commercial development in Manhattan financial district with returns generated through pre-sales and project monetization.",progress:78,goal:5e6,img:Se.realEstate1,features:["Monthly Income","Pre-Sale Revenue","Tax Benefits","Quarterly Reports"],investors:234,rating:4.9,status:"Active",dailyRate:.04,totalDays:365},{id:2,name:"Liberty Suites Hotel",category:"Real Estate",type:"real-estate",min:2500,returns:"8-10%",term:"6 months",desc:"Income-generating boutique hotel chain. Acquire a stake in operational assets and receive monthly net operating income distributions.",progress:92,goal:35e5,img:Se.realEstate2,features:["Monthly Income","Operational Asset","NOI Distribution","Hotel Revenue"],investors:189,rating:4.8,status:"Active",dailyRate:.05,totalDays:180},{id:3,name:"Urban Renaissance Fund",category:"Real Estate",type:"real-estate",min:1e3,returns:"15-18%",term:"12 months",desc:"Crowdfunding model to acquire, enhance, and sell premium properties with profits distributed upon sale.",progress:65,goal:8e6,img:Se.realEstate3,features:["Value-Add Strategy","Profit on Exit","Pooled Capital","Monthly Updates"],investors:456,rating:4.7,status:"Funding",dailyRate:.045,totalDays:365},{id:4,name:"Marina Bay Residences",category:"Real Estate",type:"real-estate",min:1e4,returns:"14-18%",term:"18 months",desc:"Exclusive waterfront luxury development with private marina access and capital appreciation potential.",progress:45,goal:12e6,img:Se.realEstate4,features:["Waterfront Premium","Capital Growth","Luxury Market","Quarterly Payouts"],investors:78,rating:4.6,status:"Funding",dailyRate:.03,totalDays:540},{id:5,name:"Crypto Foundation",category:"Cryptocurrency",type:"crypto",min:2500,returns:"12-15%",term:"30 days",desc:"Entry-level crypto fund focusing on Bitcoin and Ethereum. Professional management with weekly profit distributions. Perfect starting point for crypto investing.",progress:95,goal:2e6,img:Se.crypto1,features:["Weekly Payouts","BTC & ETH Focus","Low Risk","Capital Protected"],investors:3247,rating:4.8,status:"Active",payoutSchedule:"Weekly",dailyRate:.45,totalDays:30},{id:6,name:"DeFi Yield Pro",category:"Cryptocurrency",type:"crypto",min:5e3,returns:"20-28%",term:"45 days",desc:"Advanced DeFi staking across premium protocols. Higher capital unlocks access to exclusive yield farming pools with enhanced returns and bi-weekly distributions.",progress:92,goal:3e6,img:Se.crypto2,features:["Bi-Weekly Payouts","Multi-Protocol","Auto-Compound","Priority Support"],investors:2156,rating:4.8,status:"Active",payoutSchedule:"Bi-Weekly",dailyRate:.55,totalDays:45},{id:7,name:"Altcoin Alpha Fund",category:"Cryptocurrency",type:"crypto",min:1e4,returns:"30-42%",term:"60 days",desc:"Premium altcoin portfolio with AI-powered selection. Access emerging tokens before major listings. Weekly payouts with institutional-grade risk management.",progress:88,goal:5e6,img:Se.crypto3,features:["Weekly Payouts","AI Selection","Early Access","VIP Support"],investors:1876,rating:4.7,status:"Active",payoutSchedule:"Weekly",dailyRate:.6,totalDays:60},{id:17,name:"Whale Insider Fund",category:"Cryptocurrency",type:"crypto",min:25e3,returns:"45-60%",term:"90 days",desc:"Follow institutional whale movements with our proprietary algorithm. Track large wallet activities and capitalize on major market moves before they happen.",progress:85,goal:1e7,img:Se.crypto1,features:["Weekly Payouts","Whale Tracking","Real-Time Alerts","Dedicated Manager"],investors:567,rating:4.9,status:"Active",payoutSchedule:"Weekly",dailyRate:.6,totalDays:90},{id:18,name:"Crypto Elite Vault",category:"Cryptocurrency",type:"crypto",min:5e4,returns:"60-85%",term:"120 days",desc:"Our flagship crypto fund for serious investors. Maximum returns through exclusive arbitrage opportunities, OTC deals, and pre-ICO access. Personal account manager included.",progress:75,goal:25e6,img:Se.crypto2,features:["Weekly Payouts","Arbitrage Access","Pre-ICO Deals","Personal Manager"],investors:234,rating:5,status:"Active",payoutSchedule:"Weekly",dailyRate:.65,totalDays:120},{id:19,name:"Institutional Crypto Fund",category:"Cryptocurrency",type:"crypto",min:1e5,returns:"80-120%",term:"180 days",desc:"Institutional-grade crypto investment with maximum security and returns. Direct access to our top traders, custom strategies, and guaranteed principal protection.",progress:60,goal:5e7,img:Se.crypto3,features:["Daily Payouts","Principal Protected","Custom Strategy","White Glove Service"],investors:89,rating:5,status:"Active",payoutSchedule:"Daily",dailyRate:.55,totalDays:180},{id:8,name:"Dividend Aristocrats",category:"Stocks & Bonds",type:"stocks",min:1e3,returns:"8-12%",term:"6 months",desc:"Portfolio of dividend-paying stocks with 25+ years of consecutive dividend increases. Reliable quarterly income from blue-chip companies.",img:Se.stocks1,features:["Dividend Income","25+ Year Track","Quarterly Payouts","Blue Chip Stocks"],investors:1892,rating:4.8,status:"Open",dailyRate:.055,totalDays:180},{id:9,name:"Tech Growth ETF",category:"Stocks & Bonds",type:"stocks",min:500,returns:"15-25%",term:"6 months",desc:"Thematic ETF portfolio focused on technology sector leaders including AI, cloud computing, and semiconductors.",img:Se.stocks2,features:["Tech Focused","ETF Structure","AI & Cloud","Monthly Updates"],investors:2234,rating:4.7,status:"Open",dailyRate:.11,totalDays:180},{id:10,name:"Corporate Bond Fund",category:"Stocks & Bonds",type:"stocks",min:2e3,returns:"6-8%",term:"12 months",desc:"Investment-grade corporate bond portfolio with staggered maturities for predictable income and capital preservation.",img:Se.stocks3,features:["Investment Grade","Laddered Maturities","Monthly Income","Capital Safe"],investors:756,rating:4.9,status:"Open",dailyRate:.02,totalDays:365},{id:11,name:"Gold Trading Strategy",category:"Precious Metals",type:"metals",min:1e3,returns:"10-15%",term:"3 months",desc:"Algorithm-driven gold trading strategy buying at optimized lows and selling at strategic highs. Monthly profit distributions.",progress:89,goal:1e7,img:Se.gold1,features:["Algorithmic Trading","No Physical Delivery","Monthly Payouts","Professional Managed"],investors:1678,rating:4.7,status:"Active",dailyRate:.14,totalDays:90},{id:12,name:"Silver Industrial Fund",category:"Precious Metals",type:"metals",min:500,returns:"12-18%",term:"6 months",desc:"Silver investment benefiting from industrial demand in solar panels and EV industries. Bi-monthly profit distributions.",progress:65,goal:3e6,img:Se.gold2,features:["Industrial Demand","Solar & EV Growth","Bi-Monthly Payouts","High Growth"],investors:945,rating:4.6,status:"Funding",dailyRate:.08,totalDays:180},{id:13,name:"Platinum Portfolio",category:"Precious Metals",type:"metals",min:2500,returns:"15-22%",term:"12 months",desc:"Rare metals portfolio with automotive catalyst and hydrogen economy demand drivers. Quarterly distributions.",progress:42,goal:5e6,img:Se.gold3,features:["Rare Metals","Auto Industry","Hydrogen Economy","Quarterly Payouts"],investors:423,rating:4.5,status:"Funding",dailyRate:.05,totalDays:365},{id:14,name:"Starter Growth Plan",category:"Investment Plans",type:"plans",min:500,returns:"10-12%",term:"3 months",desc:"Perfect entry-level plan combining stable assets for new investors. Low risk with consistent monthly returns and full capital protection.",img:Se.plans1,features:["Capital Protected","Monthly Payouts","Low Risk","Beginner Friendly"],investors:4345,rating:4.9,status:"Open",dailyRate:.12,totalDays:90},{id:15,name:"Balanced Wealth Builder",category:"Investment Plans",type:"plans",min:2500,returns:"15-20%",term:"6 months",desc:"Diversified portfolio across real estate, stocks, and crypto for steady growth. Bi-weekly distributions with compound option.",img:Se.plans2,features:["Diversified Assets","Bi-Weekly Payouts","Compound Option","Flexible"],investors:2567,rating:4.8,status:"Open",dailyRate:.1,totalDays:180},{id:16,name:"Premium Growth Fund",category:"Investment Plans",type:"plans",min:5e3,returns:"25-35%",term:"12 months",desc:"High-growth portfolio targeting maximum returns through tech stocks, crypto, and emerging markets. Weekly profit distributions.",img:Se.plans3,features:["High Returns","Weekly Payouts","Active Management","VIP Support"],investors:1287,rating:4.7,status:"Open",dailyRate:.08,totalDays:365}],l6=[{id:"all",name:"All",icon:ao,count:zl.length},{id:"real-estate",name:"Real Estate",icon:hg,count:4},{id:"crypto",name:"Crypto",icon:B2,count:7},{id:"stocks",name:"Stocks",icon:$2,count:3},{id:"metals",name:"Metals",icon:K2,count:3},{id:"plans",name:"Plans",icon:mR,count:3}];function c6({onLogin:t,setMessage:e,setLoading:n,loading:s}){const[r,i]=D.useState(!1),a=async()=>{i(!0),e({type:"",text:""});try{const l=await ZL();l.success?(l.isNewUser&&Pe.sendNewUserNotification(l.userData.email,l.userData.name,"Google").catch(console.error),t(l.userData)):e({type:"error",text:l.error})}catch{e({type:"error",text:"Google sign-in failed. Please try again."})}finally{i(!1)}};return o.jsx(U.button,{type:"button",onClick:a,disabled:s||r,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl font-semibold flex items-center justify-center gap-3 border-2 border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-70 transition-all",children:r?o.jsx(Fn,{className:"w-5 h-5 animate-spin text-gray-600"}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{style:{color:w.navy},children:"Continue with Google"})]})})}function u6({onLogin:t}){const[e,n]=D.useState("login"),[s,r]=D.useState(!1),[i,a]=D.useState(1),[l,u]=D.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",referralCode:"",country:""}),[d,f]=D.useState(!1),[h,p]=D.useState({}),[y,b]=D.useState({type:"",text:""}),E=[{name:"Afghanistan",code:"+93",flag:""},{name:"Albania",code:"+355",flag:""},{name:"Algeria",code:"+213",flag:""},{name:"Argentina",code:"+54",flag:""},{name:"Australia",code:"+61",flag:""},{name:"Austria",code:"+43",flag:""},{name:"Bangladesh",code:"+880",flag:""},{name:"Belgium",code:"+32",flag:""},{name:"Brazil",code:"+55",flag:""},{name:"Canada",code:"+1",flag:""},{name:"Chile",code:"+56",flag:""},{name:"China",code:"+86",flag:""},{name:"Colombia",code:"+57",flag:""},{name:"Czech Republic",code:"+420",flag:""},{name:"Denmark",code:"+45",flag:""},{name:"Egypt",code:"+20",flag:""},{name:"Ethiopia",code:"+251",flag:""},{name:"Finland",code:"+358",flag:""},{name:"France",code:"+33",flag:""},{name:"Germany",code:"+49",flag:""},{name:"Ghana",code:"+233",flag:""},{name:"Greece",code:"+30",flag:""},{name:"Hong Kong",code:"+852",flag:""},{name:"Hungary",code:"+36",flag:""},{name:"India",code:"+91",flag:""},{name:"Indonesia",code:"+62",flag:""},{name:"Ireland",code:"+353",flag:""},{name:"Israel",code:"+972",flag:""},{name:"Italy",code:"+39",flag:""},{name:"Japan",code:"+81",flag:""},{name:"Kenya",code:"+254",flag:""},{name:"Malaysia",code:"+60",flag:""},{name:"Mexico",code:"+52",flag:""},{name:"Morocco",code:"+212",flag:""},{name:"Nepal",code:"+977",flag:""},{name:"Netherlands",code:"+31",flag:""},{name:"New Zealand",code:"+64",flag:""},{name:"Nigeria",code:"+234",flag:""},{name:"Norway",code:"+47",flag:""},{name:"Pakistan",code:"+92",flag:""},{name:"Peru",code:"+51",flag:""},{name:"Philippines",code:"+63",flag:""},{name:"Poland",code:"+48",flag:""},{name:"Portugal",code:"+351",flag:""},{name:"Romania",code:"+40",flag:""},{name:"Russia",code:"+7",flag:""},{name:"Saudi Arabia",code:"+966",flag:""},{name:"Singapore",code:"+65",flag:""},{name:"South Africa",code:"+27",flag:""},{name:"South Korea",code:"+82",flag:""},{name:"Spain",code:"+34",flag:""},{name:"Sri Lanka",code:"+94",flag:""},{name:"Sweden",code:"+46",flag:""},{name:"Switzerland",code:"+41",flag:""},{name:"Taiwan",code:"+886",flag:""},{name:"Tanzania",code:"+255",flag:""},{name:"Thailand",code:"+66",flag:""},{name:"Turkey",code:"+90",flag:""},{name:"UAE",code:"+971",flag:""},{name:"Uganda",code:"+256",flag:""},{name:"Ukraine",code:"+380",flag:""},{name:"United Kingdom",code:"+44",flag:""},{name:"United States",code:"+1",flag:""},{name:"Vietnam",code:"+84",flag:""},{name:"Zimbabwe",code:"+263",flag:""}],A=E.find(v=>v.name===l.country)||null,[k,x]=D.useState(!1),[S,V]=D.useState(""),M=()=>{const v={};return e==="register"&&(l.name.trim()||(v.name="Name is required"),l.country||(v.country="Country is required"),l.password!==l.confirmPassword&&(v.confirmPassword="Passwords do not match"),l.password.length<6&&(v.password="Password must be at least 6 characters")),l.email.includes("@")||(v.email="Valid email is required"),l.password||(v.password="Password is required"),p(v),Object.keys(v).length===0},O=async v=>{if(v.preventDefault(),!!M()){if(f(!0),b({type:"",text:""}),e==="register"){const N=await e6(l.email,l.password,{name:l.name,phone:A?`${A.code} ${l.phone}`:l.phone,country:l.country,referralCode:l.referralCode});N.success?(a(2),b({type:"success",text:N.message}),Pe.sendNewUserNotification(l.email,l.name,"Email").catch(console.error)):b({type:"error",text:N.error})}else{const N=await Yw(l.email,l.password);N.success?t(N.userData):N.needsVerification?(a(2),b({type:"warning",text:N.error})):b({type:"error",text:N.error})}f(!1)}},I=async v=>{if(v.preventDefault(),!S.includes("@")){b({type:"error",text:"Please enter a valid email address"});return}f(!0);const N=await n6(S);N.success?(b({type:"success",text:N.message}),x(!1),V("")):b({type:"error",text:N.error}),f(!1)},_=async()=>{f(!0),(await Yw(l.email,l.password)).needsVerification&&b({type:"success",text:"Verification email sent! Please check your inbox."}),f(!1)};return i===2?o.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:w.cream},children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[o.jsx("div",{className:"absolute inset-0",children:o.jsx("img",{src:Se.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),o.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[o.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"mb-8",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-20 h-20 lg:w-24 lg:h-24",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"authLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authLogoGold)",strokeWidth:"2"}),o.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#authLogoGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[o.jsx("h1",{className:"font-serif text-4xl lg:text-5xl text-white",children:"SAXO"}),o.jsx("h1",{className:"font-serif text-4xl lg:text-5xl",style:{color:w.gold},children:"VAULT"})]}),o.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:o.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[o.jsxs("div",{className:"lg:hidden text-center mb-8",children:[o.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"authMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),o.jsxs("linearGradient",{id:"authMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),o.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#authMobileNavy)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#authMobileGold)",strokeWidth:"1.5"}),o.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#authMobileGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[o.jsx("span",{className:"font-serif text-xl",style:{color:w.navy},children:"SAXO"}),o.jsx("span",{className:"font-serif text-xl",style:{color:w.gold},children:"VAULT"})]})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.green}15`},children:o.jsx(Xn,{className:"w-8 h-8 lg:w-10 lg:h-10",style:{color:w.green}})}),o.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:w.navy},children:"Check Your Email!"}),o.jsx("p",{className:"text-gray-500 text-sm lg:text-base mb-2",children:"We've sent a verification link to:"}),o.jsx("p",{className:"font-semibold",style:{color:w.navy},children:l.email})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Xn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"Verification Required"}),o.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"Click the link in your email to verify your account. Check your spam folder if you don't see it."})]})]})}),y.text&&o.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${y.type==="success"?"bg-green-50 text-green-700 border border-green-200":y.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.type==="success"?o.jsx(Rt,{className:"w-4 h-4"}):o.jsx(Aa,{className:"w-4 h-4"}),y.text]}),o.jsx(U.button,{onClick:_,disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg flex items-center justify-center gap-3 border-2 mb-4",style:{borderColor:w.navy,color:w.navy},children:d?o.jsx(Fn,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(Xn,{className:"w-5 h-5"})," Resend Verification Email"]})}),o.jsx(U.button,{onClick:()=>{a(1),n("login")},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Back to Login"}),o.jsx("p",{className:"text-center text-gray-500 text-xs mt-6",children:"Already verified? Go back to login and sign in."})]})})]}):k?o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:w.cream},children:o.jsxs(U.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-6 lg:p-8",children:[o.jsxs("button",{onClick:()=>x(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-700",children:[o.jsx(El,{className:"w-4 h-4"})," Back to Login"]}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.gold}15`},children:o.jsx(Ru,{className:"w-8 h-8",style:{color:w.gold}})}),o.jsx("h2",{className:"font-serif text-2xl mb-2",style:{color:w.navy},children:"Reset Password"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Enter your email to receive a reset link"})]}),y.text&&o.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${y.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[y.type==="success"?o.jsx(Rt,{className:"w-4 h-4"}):o.jsx(Aa,{className:"w-4 h-4"}),y.text]}),o.jsxs("form",{onSubmit:I,children:[o.jsxs("div",{className:"relative mb-4",children:[o.jsx(Xn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"email",value:S,onChange:v=>V(v.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),o.jsx(U.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:d?o.jsx(Fn,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(Ca,{className:"w-5 h-5"})," Send Reset Link"]})})]})]})}):o.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row",style:{background:w.cream},children:[o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative overflow-hidden",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[o.jsx("div",{className:"absolute inset-0",children:o.jsx("img",{src:Se.hero,alt:"",className:"w-full h-full object-cover opacity-20"})}),o.jsxs("div",{className:"relative z-10 flex flex-col justify-center items-center p-16 text-center",children:[o.jsx(U.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"mb-8",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-24 h-24",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"regLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.15)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regLogoGold)",strokeWidth:"2"}),o.jsx("text",{x:"25",y:"36",fontFamily:"Georgia, serif",fontSize:"26",fontWeight:"bold",fill:"url(#regLogoGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{className:"flex items-baseline gap-2 mb-2",children:[o.jsx("h1",{className:"font-serif text-5xl text-white",children:"SAXO"}),o.jsx("h1",{className:"font-serif text-5xl",style:{color:w.gold},children:"VAULT"})]}),o.jsx("p",{className:"text-lg tracking-[0.3em] uppercase text-white/70",children:"Capital"}),o.jsx("p",{className:"text-white/60 text-lg max-w-md mt-4",children:"Access curated Real Estate, Cryptocurrency, Stocks, and Precious Metals investments."}),o.jsx("div",{className:"mt-12 space-y-4 text-left max-w-sm",children:["Institutional-grade investments","Professional asset management","Refer & earn bonus rewards"].map((v,N)=>o.jsxs(U.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3+N*.1},className:"flex items-center gap-3 text-white/80",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{background:`${w.gold}30`},children:o.jsx(tr,{className:"w-4 h-4",style:{color:w.gold}})}),v]},N))})]})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-16",children:o.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[o.jsxs("div",{className:"lg:hidden text-center mb-8",children:[o.jsx("div",{className:"w-14 h-14 mx-auto mb-3",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"regMobileGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),o.jsxs("linearGradient",{id:"regMobileNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),o.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#regMobileNavy)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#regMobileGold)",strokeWidth:"1.5"}),o.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#regMobileGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[o.jsx("span",{className:"font-serif text-xl",style:{color:w.navy},children:"SAXO"}),o.jsx("span",{className:"font-serif text-xl",style:{color:w.gold},children:"VAULT"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"font-serif text-2xl lg:text-3xl mb-2",style:{color:w.navy},children:e==="login"?"Welcome Back":"Create Account"}),o.jsx("p",{className:"text-gray-500 text-sm lg:text-base",children:e==="login"?"Sign in to access your investments":"Start your investment journey today"})]}),y.text&&o.jsxs(U.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${y.type==="success"?"bg-green-50 text-green-700 border border-green-200":y.type==="warning"?"bg-yellow-50 text-yellow-700 border border-yellow-200":"bg-red-50 text-red-700 border border-red-200"}`,children:[y.type==="success"?o.jsx(Rt,{className:"w-4 h-4"}):o.jsx(Aa,{className:"w-4 h-4"}),y.text]}),o.jsx("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1.5",children:["login","register"].map(v=>o.jsx("button",{onClick:()=>{n(v),p({}),b({type:"",text:""})},className:`flex-1 py-2.5 lg:py-3 rounded-lg font-medium text-sm lg:text-base transition-all ${e===v?"bg-white shadow-md":"text-gray-500"}`,style:e===v?{color:w.navy}:{},children:v==="login"?"Sign In":"Register"},v))}),o.jsxs("form",{onSubmit:O,className:"space-y-4",children:[o.jsx(yt,{mode:"wait",children:e==="register"&&o.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(kl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:l.name,onChange:v=>u({...l,name:v.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.name?"border-red-500":"border-gray-200"}`,placeholder:"John Doe"})]}),h.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.name})]},"name")}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Xn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"email",value:l.email,onChange:v=>u({...l,email:v.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.email?"border-red-500":"border-gray-200"}`,placeholder:"john@example.com"})]}),h.email&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.email})]}),o.jsx(yt,{mode:"wait",children:e==="register"&&o.jsxs(o.Fragment,{children:[o.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country"}),o.jsxs("div",{className:"relative",children:[o.jsx(ao,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsxs("select",{value:l.country,onChange:v=>u({...l,country:v.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none appearance-none bg-white ${h.country?"border-red-500":"border-gray-200"}`,children:[o.jsx("option",{value:"",children:"Select your country"}),E.map(v=>o.jsxs("option",{value:v.name,children:[v.flag," ",v.name," (",v.code,")"]},v.name))]}),o.jsx(z2,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),h.country&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.country})]},"country"),o.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone Number"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"relative w-24 flex-shrink-0",children:o.jsx("div",{className:"w-full px-3 py-3 border border-gray-200 rounded-xl bg-gray-50 text-sm font-medium flex items-center justify-center gap-1",style:{color:w.navy},children:A?o.jsxs(o.Fragment,{children:[A.flag," ",A.code]}):o.jsx("span",{className:"text-gray-400",children:"Code"})})}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(J2,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"tel",value:l.phone,onChange:v=>u({...l,phone:v.target.value.replace(/\D/g,"")}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Phone number",maxLength:"15"})]})]}),A&&l.phone&&o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Full number: ",A.code," ",l.phone]})]},"phone")]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:s?"text":"password",value:l.password,onChange:v=>u({...l,password:v.target.value}),className:`w-full pl-12 pr-14 py-3 border rounded-xl focus:outline-none ${h.password?"border-red-500":"border-gray-200"}`,placeholder:""}),o.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:s?o.jsx(q2,{className:"w-5 h-5"}):o.jsx(G2,{className:"w-5 h-5"})})]}),h.password&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.password})]}),o.jsx(yt,{mode:"wait",children:e==="register"&&o.jsxs(o.Fragment,{children:[o.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:s?"text":"password",value:l.confirmPassword,onChange:v=>u({...l,confirmPassword:v.target.value}),className:`w-full pl-12 pr-4 py-3 border rounded-xl focus:outline-none ${h.confirmPassword?"border-red-500":"border-gray-200"}`,placeholder:""})]}),h.confirmPassword&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:h.confirmPassword})]},"confirm"),o.jsxs(U.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Referral Code (Optional)"}),o.jsxs("div",{className:"relative",children:[o.jsx(Il,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:l.referralCode,onChange:v=>u({...l,referralCode:v.target.value}),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none",placeholder:"Enter referral code"})]})]},"referral")]})}),e==="login"&&o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",onClick:()=>x(!0),className:"text-sm font-medium hover:underline",style:{color:w.navy},children:"Forgot Password?"})}),o.jsx(U.button,{type:"submit",disabled:d,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3 shadow-lg disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:d?o.jsx(Fn,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[e==="login"?"Sign In":"Create Account"," ",o.jsx(Pu,{className:"w-5 h-5"})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 my-6",children:[o.jsx("div",{className:"flex-1 h-px bg-gray-200"}),o.jsx("span",{className:"text-sm text-gray-400",children:"or continue with"}),o.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),o.jsx(c6,{onLogin:t,setMessage:b,setLoading:f,loading:d}),o.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pa,{className:"w-4 h-4",style:{color:w.green}}),o.jsx("span",{children:"Bank-level Security"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nr,{className:"w-4 h-4",style:{color:w.green}}),o.jsx("span",{children:"256-bit SSL"})]})]})]})})]})}function d6({activePage:t,onNavigate:e,user:n,onLogout:s}){const[r,i]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1);D.useEffect(()=>{const b=()=>i(window.scrollY>20);return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const p=[{id:"home",label:"Home",icon:Y2},{id:"investments",label:"Investments",icon:Jr},{id:"dashboard",label:"Dashboard",icon:fg},{id:"deposit",label:"Deposit",icon:ls,isAction:!0,color:"#10b981"},{id:"withdraw",label:"Withdraw",icon:Un,isAction:!0,color:"#f59e0b"},{id:"referral",label:"Referral",icon:Il},{id:"calculator",label:"Calculator",icon:pR}],y=b=>{b==="deposit"?d(!0):b==="withdraw"?h(!0):e(b),l(!1)};return o.jsxs(o.Fragment,{children:[o.jsx(U.nav,{initial:{y:-100},animate:{y:0},className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r||t!=="home"?"bg-white/95 backdrop-blur-md shadow-lg":"bg-transparent"}`,children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-3 lg:py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(U.div,{whileHover:{scale:1.02},className:"flex items-center gap-2 lg:gap-3 cursor-pointer",onClick:()=>e("home"),children:[o.jsx("div",{className:"relative w-10 h-10 lg:w-11 lg:h-11",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"logoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),o.jsxs("linearGradient",{id:"logoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),o.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#logoNavy)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#logoGold)",strokeWidth:"1.5"}),o.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#logoGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:r||t!=="home"?w.navy:"white"},children:"SAXO"}),o.jsx("span",{className:"font-serif text-lg lg:text-xl font-semibold",style:{color:w.gold},children:"VAULT"})]}),o.jsx("p",{className:"text-[10px] tracking-[0.2em] uppercase",style:{color:r||t!=="home"?"#6b7280":"rgba(255,255,255,0.7)"},children:"Capital"})]})]}),o.jsx("div",{className:"hidden lg:flex items-center gap-1",children:p.map(b=>o.jsxs(U.button,{onClick:()=>y(b.id),whileHover:{scale:1.05},whileTap:{scale:.98},className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium transition-all ${b.isAction||t===b.id?"text-white shadow-lg":r||t!=="home"?"text-gray-600 hover:bg-gray-100":"text-white/80 hover:text-white hover:bg-white/10"}`,style:b.isAction?{background:b.color}:t===b.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[o.jsx(b.icon,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:b.label})]},b.id))}),o.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[o.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("notifications"),className:`relative p-2 rounded-xl transition-all ${r||t!=="home"?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[o.jsx(er,{className:`w-5 h-5 ${r||t!=="home"?"text-gray-600":"text-white"}`}),(()=>{const E=(JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}")[n.uid]||[]).filter(A=>!A.read).length;return E>0?o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold",children:E>9?"9+":E}):null})()]}),o.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.98},onClick:()=>e("profile"),className:"flex items-center gap-2 px-2 lg:px-4 py-2 rounded-xl transition-all",children:[o.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 rounded-full flex items-center justify-center text-sm font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:n.profileImage?o.jsx("img",{src:n.profileImage,alt:"",className:"w-full h-full object-cover"}):n.name.charAt(0)}),o.jsx("span",{className:`text-sm font-medium hidden md:block ${r||t!=="home"?"text-gray-700":"text-white"}`,children:n.name.split(" ")[0]})]}),o.jsx("button",{onClick:s,className:"hidden lg:flex p-2.5 rounded-xl text-red-500 hover:bg-red-50 transition-all",children:o.jsx(lo,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>l(!a),className:"lg:hidden p-2 rounded-xl",style:{color:r||t!=="home"?w.navy:"white"},children:o.jsx(NR,{className:"w-6 h-6"})})]})]})})}),o.jsx(yt,{children:a&&o.jsxs(o.Fragment,{children:[o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-50 lg:hidden"}),o.jsx(U.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween"},className:"fixed top-0 right-0 bottom-0 w-72 bg-white z-50 shadow-2xl lg:hidden",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-9 h-9",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"mobileLogoGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]}),o.jsxs("linearGradient",{id:"mobileLogoNavy",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#1a2d4a"}),o.jsx("stop",{offset:"100%",stopColor:"#0a1628"})]})]}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"url(#mobileLogoNavy)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#mobileLogoGold)",strokeWidth:"1.5"}),o.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#mobileLogoGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{children:[o.jsx("span",{className:"font-serif text-sm",style:{color:w.navy},children:"SAXO"}),o.jsx("span",{className:"font-serif text-sm",style:{color:w.gold},children:"VAULT"})]})]}),o.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:o.jsx(fn,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"space-y-2",children:p.map(b=>o.jsxs("button",{onClick:()=>y(b.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${b.isAction||t===b.id?"text-white":"text-gray-600 hover:bg-gray-100"}`,style:b.isAction?{background:b.color}:t===b.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[o.jsx(b.icon,{className:"w-5 h-5"}),b.label]},b.id))}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 space-y-2",children:[o.jsxs("button",{onClick:()=>{e("profile"),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-600 hover:bg-gray-100",children:[o.jsx(_m,{className:"w-5 h-5"})," Profile & Settings"]}),o.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-500 hover:bg-red-50",children:[o.jsx(lo,{className:"w-5 h-5"})," Logout"]})]})]})})]})}),o.jsxs(yt,{children:[u&&o.jsx(LT,{onClose:()=>d(!1)}),f&&o.jsx(OT,{onClose:()=>h(!1),balance:n.balance})]})]})}function h6({activePage:t,onNavigate:e}){const n=[{id:"home",label:"Home",icon:Y2},{id:"investments",label:"Invest",icon:Jr},{id:"dashboard",label:"Portfolio",icon:fg},{id:"referral",label:"Referral",icon:Il},{id:"profile",label:"Profile",icon:kl}];return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 lg:hidden",children:o.jsx("div",{className:"flex items-center justify-around py-2",children:n.map(s=>o.jsxs("button",{onClick:()=>e(s.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all ${t===s.id?"text-white":"text-gray-500"}`,style:t===s.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[o.jsx(s.icon,{className:"w-5 h-5"}),o.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.id))})})}function f6(){const[t,e]=D.useState(!1),[n,s]=D.useState("options"),[r,i]=D.useState({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),[a,l]=D.useState(!1),[u,d]=D.useState(""),[f,h]=D.useState(!1),p=async y=>{y.preventDefault(),h(!0);const b="TKT-"+Math.random().toString(36).substr(2,9).toUpperCase(),E=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),A={id:b,name:r.name,email:r.email,category:r.category,priority:r.priority,subject:r.subject,message:r.message,status:"open",createdAt:new Date().toISOString()};E.unshift(A),localStorage.setItem("saxovault_tickets",JSON.stringify(E)),te.addNotification({type:"ticket",message:`New ticket from ${r.name}: ${r.subject}`,ticketId:b}),`${b}${r.name}${r.email}${r.category}${r.priority}${r.message}`,d(b),l(!0),h(!1),setTimeout(()=>{l(!1),i({name:"",email:"",category:"",priority:"medium",subject:"",message:""}),s("options")},5e3)};return o.jsxs(o.Fragment,{children:[o.jsx(U.button,{onClick:()=>e(!t),whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-20 lg:bottom-8 right-4 lg:right-8 w-14 h-14 lg:w-16 lg:h-16 rounded-full shadow-2xl flex items-center justify-center text-white z-40",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:o.jsx(yt,{mode:"wait",children:t?o.jsx(U.div,{initial:{rotate:-90},animate:{rotate:0},children:o.jsx(fn,{className:"w-6 h-6"})},"x"):o.jsx(U.div,{initial:{rotate:90},animate:{rotate:0},children:o.jsx(zc,{className:"w-6 h-6"})},"msg")})}),o.jsx(yt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),o.jsxs(U.div,{initial:{opacity:0,y:100,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:100,scale:.8},className:"fixed bottom-36 lg:bottom-28 right-4 lg:right-8 w-[calc(100%-2rem)] sm:w-96 bg-white rounded-2xl shadow-2xl z-50 overflow-hidden max-h-[70vh] overflow-y-auto",children:[o.jsx("div",{className:"p-5 lg:p-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{background:`${w.gold}30`},children:o.jsx(zc,{className:"w-6 h-6",style:{color:w.gold}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white",children:"Need Help?"}),o.jsx("p",{className:"text-white/60 text-sm",children:"Choose how to reach us"})]})]})}),n==="options"&&o.jsxs("div",{className:"p-5 lg:p-6 space-y-4",children:[o.jsxs(U.a,{href:"https://wa.me/14642395280?text=Hello! I need assistance with my SaxoVault account.",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-xl hover:shadow-lg transition-all border border-green-200",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-green-500 shadow-lg",children:o.jsx(zc,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-green-800 text-lg",children:"WhatsApp"}),o.jsx("p",{className:"text-sm text-green-600",children:"Chat instantly  24/7 Available"})]}),o.jsx(vm,{className:"w-6 h-6 text-green-500"})]}),o.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>s("ticket"),className:"w-full flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl hover:shadow-lg transition-all border border-blue-200",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center bg-blue-500 shadow-lg",children:o.jsx(X2,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:"font-semibold text-blue-800 text-lg",children:"Submit a Ticket"}),o.jsx("p",{className:"text-sm text-blue-600",children:"Email support  Response within 24hrs"})]}),o.jsx(vm,{className:"w-6 h-6 text-blue-500"})]}),o.jsx("div",{className:"pt-3 mt-2 border-t border-gray-100 text-center",children:o.jsxs("p",{className:"text-xs text-gray-400",children:["We typically respond within ",o.jsx("span",{className:"font-semibold text-gray-600",children:"5 minutes"})," on WhatsApp"]})})]}),n==="ticket"&&o.jsx("div",{className:"p-5 lg:p-6",children:a?o.jsxs(U.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.green}20`},children:o.jsx(Rt,{className:"w-8 h-8",style:{color:w.green}})}),o.jsx("h4",{className:"font-semibold text-lg",style:{color:w.navy},children:"Ticket Submitted!"}),o.jsx("p",{className:"text-gray-500 text-sm mt-2 mb-4",children:"Your ticket ID is:"}),o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[o.jsx("span",{className:"font-mono font-bold",style:{color:w.navy},children:u}),o.jsx("button",{onClick:()=>navigator.clipboard.writeText(u),children:o.jsx(il,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})]}),o.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"We'll respond within 24 hours"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>s("options"),className:"flex items-center gap-2 text-gray-500 hover:text-gray-700 mb-4",children:[o.jsx(El,{className:"w-4 h-4"})," Back"]}),o.jsx("h4",{className:"font-semibold mb-4",style:{color:w.navy},children:"Submit Support Ticket"}),o.jsxs("form",{onSubmit:p,className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Name *"}),o.jsx("input",{type:"text",value:r.name,onChange:y=>i({...r,name:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Email *"}),o.jsx("input",{type:"email",value:r.email,onChange:y=>i({...r,email:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Category *"}),o.jsxs("select",{value:r.category,onChange:y=>i({...r,category:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"Select"}),o.jsx("option",{value:"investment",children:"Investment"}),o.jsx("option",{value:"withdrawal",children:"Withdrawal"}),o.jsx("option",{value:"deposit",children:"Deposit"}),o.jsx("option",{value:"account",children:"Account"}),o.jsx("option",{value:"kyc",children:"KYC"}),o.jsx("option",{value:"referral",children:"Referral"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Priority"}),o.jsxs("select",{value:r.priority,onChange:y=>i({...r,priority:y.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Subject *"}),o.jsx("input",{type:"text",value:r.subject,onChange:y=>i({...r,subject:y.target.value}),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Brief description of your issue"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Message *"}),o.jsx("textarea",{value:r.message,onChange:y=>i({...r,message:y.target.value}),rows:4,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none",placeholder:"Please describe your issue in detail..."})]}),o.jsxs(U.button,{type:"submit",disabled:f,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-lg text-white font-medium flex items-center justify-center gap-2 disabled:opacity-70",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:[f?o.jsx(Fn,{className:"w-4 h-4 animate-spin"}):o.jsx(Ca,{className:"w-4 h-4"}),f?"Submitting...":"Submit Ticket"]})]})]})})]})]})})]})}function m6({onViewDocument:t}){const[e,n]=D.useState(!1),s=[{title:"White Paper",desc:"Investment philosophy, technology infrastructure, and growth roadmap",icon:wm,pages:"42 pages",color:w.gold},{title:"Terms of Service",desc:"Platform usage terms, account management, and service agreements",icon:Pa,pages:"28 pages",color:"#3b82f6"},{title:"Privacy Policy",desc:"Data collection, protection, GDPR & CCPA compliance procedures",icon:nr,pages:"18 pages",color:"#10b981"},{title:"Risk Disclosure",desc:"Investment risks, market volatility, and important warnings",icon:er,pages:"24 pages",color:"#ef4444"},{title:"AML/KYC Policy",desc:"Anti-Money Laundering and identity verification procedures",icon:co,pages:"16 pages",color:"#8b5cf6"},{title:"Investment Guide",desc:"Portfolio strategies, asset allocation, and payout structures",icon:kR,pages:"32 pages",color:"#f59e0b"},{title:"Fee Schedule",desc:"Complete breakdown of all fees, charges, and commissions",icon:gR,pages:"8 pages",color:"#06b6d4"},{title:"FAQ & Support",desc:"Frequently asked questions and comprehensive support guide",icon:vR,pages:"36 pages",color:"#ec4899"}];return o.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-white/5 backdrop-blur-md rounded-2xl lg:rounded-3xl border border-white/10 overflow-hidden",children:[o.jsxs(U.button,{onClick:()=>n(!e),className:"w-full p-5 lg:p-6 flex items-center justify-between hover:bg-white/5 transition-all",whileTap:{scale:.99},children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(U.div,{animate:{rotateY:e?180:0},transition:{duration:.3},className:"w-14 h-14 lg:w-16 lg:h-16 rounded-2xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w.gold}40 0%, ${w.gold}20 100%)`},children:o.jsx(wm,{className:"w-7 h-7 lg:w-8 lg:h-8",style:{color:w.gold}})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"font-serif text-lg lg:text-xl text-white mb-1",children:"Legal Documents & Policies"}),o.jsxs("p",{className:"text-white/50 text-sm",children:[s.length," documents available"]})]})]}),o.jsx(U.div,{animate:{rotate:e?180:0},transition:{duration:.3},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(z2,{className:"w-5 h-5 text-white/70"})})]}),o.jsx(yt,{children:e&&o.jsx(U.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:o.jsxs("div",{className:"px-4 lg:px-6 pb-5 lg:pb-6",children:[o.jsx("div",{className:"h-px bg-white/10 mb-4"}),o.jsx("div",{className:"space-y-2",children:s.map((r,i)=>o.jsxs(U.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},onClick:()=>t(r.title),className:"w-full flex items-center gap-4 p-3 lg:p-4 rounded-xl hover:bg-white/10 transition-all group text-left",children:[o.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${r.color}20`},children:o.jsx(r.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:r.color}})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[o.jsx("h4",{className:"font-medium text-white group-hover:text-yellow-400 transition-colors text-sm lg:text-base",children:r.title}),o.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-white/50 text-xs hidden sm:inline",children:"PDF"})]}),o.jsx("p",{className:"text-white/40 text-xs lg:text-sm truncate",children:r.desc})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[o.jsx("span",{className:"text-white/30 text-xs hidden sm:inline",children:r.pages}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-all",children:o.jsx(Pu,{className:"w-4 h-4 text-white/50 group-hover:text-yellow-400 transition-colors"})})]})]},i))}),o.jsx("div",{className:"mt-4 pt-4 border-t border-white/10",children:o.jsx("p",{className:"text-white/40 text-xs text-center",children:"All documents are available for viewing. Click any document to read the full content."})})]})})})]})}function p6({onNavigate:t,onSelectInvestment:e}){const[n,s]=D.useState(null),r=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||zl,i=a=>{s(a)};return o.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[o.jsx(yt,{children:n&&o.jsx(N6,{document:n,onClose:()=>s(null)})}),o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:Se.hero,alt:"",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${w.navy}ee 0%, ${w.navyLight}dd 50%, ${w.navy}ee 100%)`}})]}),o.jsx("div",{className:"relative z-10 max-w-6xl mx-auto px-4 lg:px-6 text-center pt-24 lg:pt-20",children:o.jsxs(U.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 lg:px-6 py-2 lg:py-3 rounded-full bg-white/10 backdrop-blur-md border border-white/20 mb-6 lg:mb-8",children:[o.jsx(W2,{className:"w-4 h-4 lg:w-5 lg:h-5",style:{color:w.gold}}),o.jsx("span",{style:{color:w.gold},className:"text-xs lg:text-sm tracking-wide",children:"Institutional-Grade Investment Platform"})]}),o.jsxs("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-7xl text-white mb-4 lg:mb-6 leading-tight",children:["Your Gateway to",o.jsx("br",{}),o.jsx("span",{style:{color:w.gold},children:"Diversified Investments"})]}),o.jsx("p",{className:"text-base lg:text-xl text-white/80 mb-3 lg:mb-4 max-w-3xl mx-auto px-4",children:"Access curated Real Estate, Cryptocurrency, Stock & Bond Portfolios, and Precious Metals."}),o.jsx("p",{className:"text-white/60 mb-8 lg:mb-12 text-sm lg:text-base",children:"All with clear targets, defined timelines, and professional management."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center px-4",children:[o.jsxs(U.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl text-white font-semibold text-base lg:text-lg shadow-2xl flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:["Explore Opportunities ",o.jsx(Pu,{className:"w-5 h-5"})]}),o.jsxs(U.button,{onClick:()=>t("referral"),whileHover:{scale:1.05},whileTap:{scale:.98},className:"px-8 lg:px-10 py-3.5 lg:py-4 rounded-xl font-semibold text-base lg:text-lg border-2 border-white/30 text-white hover:bg-white/10 flex items-center justify-center gap-3",children:[o.jsx(Il,{className:"w-5 h-5"})," Referral Program"]})]})]})})]}),o.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[o.jsx("h2",{className:"font-serif text-3xl lg:text-4xl mb-3 lg:mb-4",style:{color:w.navy},children:"Investment Verticals"}),o.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Four distinct pathways to building wealth."})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[{title:"Real Estate",desc:"Development funding & income properties",icon:hg,color:"#3b82f6",img:Se.realEstate1},{title:"Cryptocurrency",desc:"Managed crypto portfolios",icon:B2,color:"#f59e0b",img:Se.crypto1},{title:"Stocks & Bonds",desc:"Curated market portfolios",icon:$2,color:"#10b981",img:Se.stocks1},{title:"Precious Metals",desc:"Gold, silver & platinum",icon:K2,color:"#D4AF37",img:Se.gold1}].map((a,l)=>o.jsxs(U.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},whileHover:{y:-5},onClick:()=>t("investments"),className:"group cursor-pointer bg-white rounded-xl lg:rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all",children:[o.jsxs("div",{className:"relative h-28 lg:h-48 overflow-hidden",children:[o.jsx("img",{src:a.img,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(to top, ${a.color}cc, transparent)`}}),o.jsx("div",{className:"absolute top-2 lg:top-4 left-2 lg:left-4 w-8 h-8 lg:w-12 lg:h-12 rounded-lg lg:rounded-xl bg-white/20 backdrop-blur flex items-center justify-center",children:o.jsx(a.icon,{className:"w-4 h-4 lg:w-6 lg:h-6 text-white"})})]}),o.jsxs("div",{className:"p-3 lg:p-6",children:[o.jsx("h3",{className:"font-serif text-sm lg:text-xl mb-1 lg:mb-2",style:{color:w.navy},children:a.title}),o.jsx("p",{className:"text-gray-600 text-xs lg:text-sm hidden sm:block",children:a.desc})]})]},l))})]})}),o.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8 lg:mb-12",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-2xl lg:text-4xl mb-1 lg:mb-2",style:{color:w.navy},children:"Featured Opportunities"}),o.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Top-performing investments"})]}),o.jsxs(U.button,{onClick:()=>t("investments"),whileHover:{scale:1.05},className:"px-4 lg:px-6 py-2 lg:py-3 rounded-xl font-medium text-sm flex items-center gap-2",style:{background:`${w.navy}10`,color:w.navy},children:["View All ",o.jsx(Pu,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:r.slice(0,6).map((a,l)=>o.jsxs(U.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},onClick:()=>e(a),className:"bg-white rounded-xl lg:rounded-2xl border border-gray-100 overflow-hidden hover:shadow-xl transition-all cursor-pointer group",children:[o.jsxs("div",{className:"relative h-36 lg:h-48",children:[o.jsx("img",{src:a.img,alt:a.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),o.jsx("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium text-white",style:{background:a.status==="Active"?w.green:w.gold},children:a.status}),o.jsxs("div",{className:"absolute bottom-3 left-3",children:[o.jsx("p",{className:"text-white/80 text-xs",children:a.category}),o.jsx("h3",{className:"font-serif text-base lg:text-xl text-white",children:a.name})]})]}),o.jsxs("div",{className:"p-4 lg:p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:a.returns}),o.jsx("p",{className:"text-xs text-gray-500",children:"Target Return"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-base lg:text-lg font-bold",style:{color:w.navy},children:["$",a.min.toLocaleString()]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Min Investment"})]})]}),a.progress&&o.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${a.progress}%`,background:`linear-gradient(90deg, ${w.green} 0%, ${w.gold} 100%)`}})})]})]},a.id))})]})}),o.jsx("section",{className:"py-16 lg:py-20 px-4 lg:px-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8 lg:mb-10",children:[o.jsxs(U.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur mb-4",children:[o.jsx(wm,{className:"w-4 h-4",style:{color:w.gold}}),o.jsx("span",{style:{color:w.gold},className:"text-sm",children:"Legal & Compliance"})]}),o.jsx("h2",{className:"font-serif text-3xl lg:text-4xl text-white mb-3",children:"Required Documents"}),o.jsx("p",{className:"text-white/60 max-w-2xl mx-auto text-sm lg:text-base",children:"Transparency is at the core of our operations. Review our comprehensive documentation below."})]}),o.jsx(m6,{onViewDocument:i})]})}),o.jsx("footer",{className:"py-8 lg:py-12 px-4 lg:px-6",style:{background:w.navy},children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8",children:o.jsxs("svg",{viewBox:"0 0 50 55",className:"w-full h-full",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"footerGold",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#d4a853"}),o.jsx("stop",{offset:"50%",stopColor:"#f4d078"}),o.jsx("stop",{offset:"100%",stopColor:"#d4a853"})]})}),o.jsx("path",{d:"M25 0 L50 8 L50 30 C50 42 38 50 25 55 C12 50 0 42 0 30 L0 8 Z",fill:"rgba(255,255,255,0.1)"}),o.jsx("path",{d:"M25 5 L45 12 L45 29 C45 39 35 46 25 50 C15 46 5 39 5 29 L5 12 Z",fill:"none",stroke:"url(#footerGold)",strokeWidth:"1.5"}),o.jsx("text",{x:"25",y:"35",fontFamily:"Georgia, serif",fontSize:"24",fontWeight:"bold",fill:"url(#footerGold)",textAnchor:"middle",children:"S"})]})}),o.jsxs("div",{className:"flex items-baseline gap-1",children:[o.jsx("span",{className:"font-serif text-white text-sm lg:text-base",children:"SAXO"}),o.jsx("span",{className:"font-serif text-sm lg:text-base",style:{color:w.gold},children:"VAULT"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 lg:gap-6 text-white/60 text-xs lg:text-sm",children:[o.jsx("span",{children:" 2024 SaxoVault Capital"}),o.jsx("span",{children:"Privacy Policy"}),o.jsx("span",{children:"Terms of Service"})]})]})})})]})}function g6({onSelectInvestment:t}){const[e,n]=D.useState("all"),[s,r]=D.useState(""),[i,a]=D.useState("grid"),u=(JSON.parse(localStorage.getItem("saxovault_investments")||"null")||zl).filter(d=>(e==="all"||d.type===e)&&d.name.toLowerCase().includes(s.toLowerCase()));return o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6",children:[o.jsxs("div",{className:"mb-6 lg:mb-8",children:[o.jsx("h1",{className:"font-serif text-2xl lg:text-3xl mb-1",style:{color:w.navy},children:"Investment Opportunities"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Explore our curated selection across multiple asset classes."})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(yv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search investments..."})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto",children:l6.map(d=>o.jsxs("button",{onClick:()=>n(d.id),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg whitespace-nowrap text-sm transition-all ${e===d.id?"text-white shadow":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===d.id?{background:w.navy}:{},children:[o.jsx(d.icon,{className:"w-4 h-4"}),d.name]},d.id))})]})}),o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[u.length," investments found"]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:u.map((d,f)=>{var h;return o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.03},onClick:()=>t(d),className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all cursor-pointer border border-gray-100 group",children:[o.jsxs("div",{className:"relative h-44 lg:h-48",children:[o.jsx("img",{src:d.img||d.customImg,alt:d.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium text-white backdrop-blur-sm",style:{background:d.status==="Active"?"rgba(16,185,129,0.9)":d.status==="Open"?"rgba(10,22,40,0.9)":"rgba(212,175,55,0.9)"},children:d.status})}),o.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[o.jsx("p",{className:"text-white/70 text-xs uppercase tracking-wide mb-1",children:d.category}),o.jsx("h3",{className:"font-serif text-white text-xl leading-tight",children:d.name})]})]}),o.jsxs("div",{className:"p-5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-gray-100",children:[o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"text-base font-semibold",style:{color:w.green},children:d.returns}),o.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Returns"})]}),o.jsx("div",{className:"w-px h-10 bg-gray-100"}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsxs("p",{className:"text-base font-semibold",style:{color:w.navy},children:["$",(d.min/1e3).toFixed(0),"K"]}),o.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Min"})]}),o.jsx("div",{className:"w-px h-10 bg-gray-100"}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("p",{className:"text-base font-semibold",style:{color:w.gold},children:((h=d.term)==null?void 0:h.split(" ")[0])||"12"}),o.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Months"})]})]}),o.jsx("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:d.desc||"Premium investment opportunity with professional management and strong projected returns."}),d.progress!==void 0&&o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[o.jsxs("span",{className:"text-gray-600 font-medium",children:[d.progress,"% funded"]}),o.jsxs("span",{className:"text-gray-400",children:["$",(d.progress/100*(d.goal||1e6)/1e3).toFixed(0),"K raised"]})]}),o.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:o.jsx(U.div,{initial:{width:0},animate:{width:`${d.progress}%`},transition:{duration:1,delay:f*.1},className:"h-full rounded-full",style:{background:`linear-gradient(90deg, ${w.green}, ${w.gold})`}})})]}),o.jsxs("button",{className:"w-full py-3 rounded-xl text-sm font-medium text-white transition-all hover:shadow-lg group-hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:["View Details",o.jsx(vm,{className:"w-4 h-4 inline ml-1"})]})]})]},d.id)})}),u.length===0&&o.jsxs("div",{className:"text-center py-16",children:[o.jsx(yv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No investments found matching your criteria."})]})]})})}function y6({investment:t,onClose:e,onInvest:n}){var s,r,i;return t?o.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-white z-50 overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[o.jsx(El,{className:"w-5 h-5"})," Back"]}),o.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white",style:{background:t.status==="Active"?w.green:w.gold},children:t.status})]})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[o.jsxs("div",{className:"relative h-48 lg:h-64 rounded-2xl overflow-hidden mb-6",children:[o.jsx("img",{src:t.img||t.customImg,alt:t.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),o.jsxs("div",{className:"absolute bottom-4 left-4",children:[o.jsx("span",{className:"px-2 py-1 rounded bg-white/20 backdrop-blur text-white text-xs mb-2 inline-block",children:t.category}),o.jsx("h1",{className:"font-serif text-2xl lg:text-3xl text-white",children:t.name})]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[o.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:t.returns}),o.jsx("p",{className:"text-xs text-gray-500",children:"Returns"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[o.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.navy},children:t.min>=1e3?`$${t.min/1e3}K`:`$${t.min}`}),o.jsx("p",{className:"text-xs text-gray-500",children:"Min"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[o.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.gold},children:((s=t.term)==null?void 0:s.split(" ")[0])||"12"}),o.jsx("p",{className:"text-xs text-gray-500",children:(r=t.term)!=null&&r.includes("month")?"Months":"Term"})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 text-center",children:[o.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-700",children:t.investors||"50+"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Investors"})]})]}),t.progress!==void 0&&o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[o.jsx("span",{className:"font-medium",style:{color:w.navy},children:"Funding Progress"}),o.jsxs("span",{className:"font-bold",children:[t.progress,"%"]})]}),o.jsx("div",{className:"h-3 bg-gray-200 rounded-full overflow-hidden mb-2",children:o.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${t.progress}%`,background:`linear-gradient(90deg, ${w.green}, ${w.gold})`}})}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsxs("span",{children:["$",(t.progress/100*(t.goal||1e6)).toLocaleString()," raised"]}),o.jsxs("span",{children:["Goal: $",(t.goal||1e6).toLocaleString()]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"font-semibold text-lg mb-2",style:{color:w.navy},children:"About This Investment"}),o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.desc||"A premium investment opportunity with strong projected returns and professional management. This carefully vetted opportunity offers investors exposure to a high-growth sector with risk-managed strategies."})]}),t.features&&t.features.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"font-semibold text-lg mb-3",style:{color:w.navy},children:"Key Features"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.features.map((a,l)=>o.jsxs("div",{className:"flex items-center gap-2 p-2.5 bg-gray-50 rounded-lg",children:[o.jsx(tr,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-gray-700",children:a})]},l))})]}),o.jsx("div",{className:"mb-6",children:o.jsx(MT,{})}),o.jsxs("div",{className:"sticky bottom-0 bg-white pt-4 pb-6 -mx-4 px-4 border-t border-gray-100 lg:relative lg:border-0 lg:pt-0 lg:pb-0 lg:mx-0 lg:px-0",children:[o.jsxs(U.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold text-lg shadow-xl",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:["Invest Now - Min $",(i=t.min)==null?void 0:i.toLocaleString()]}),o.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"Secure  Instant Confirmation  24/7 Support"})]})]})]}):null}function x6({investment:t,onClose:e,balance:n}){const[s,r]=D.useState(1),[i,a]=D.useState(t.min),[l,u]=D.useState("BTC"),[d,f]=D.useState(1800),[h,p]=D.useState(!1),[y,b]=D.useState(!1),E=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");D.useEffect(()=>{if(t.isTestPlan&&t.onePerUser){const R=JSON.parse(localStorage.getItem(`investments_${E.uid}`)||"[]"),j=te.getTransactions().filter(de=>de.userId===E.uid),Q=R.some(de=>de.investmentId===100||de.investmentName==="Test Plan")||j.some(de=>de.investmentId===100||de.investmentName==="Test Plan");b(Q)}},[t,E.uid]);const k=JSON.parse(localStorage.getItem("saxovault_settings")||"{}").wallets||{BTC:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",ETH:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",USDT:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},x=[{id:"BTC",name:"Bitcoin",icon:"",color:"#f7931a"},{id:"ETH",name:"Ethereum",icon:"",color:"#627eea"},{id:"USDT",name:"USDT (TRC-20)",icon:"",color:"#26a17b"}],V=(()=>{if(t.dailyRate&&t.totalDays)return t.dailyRate/100*t.totalDays;const j=(t.returns||"12%").match(/(\d+)/);return j?parseFloat(j[1])/100:.12})(),M=t.dailyRate?i*t.dailyRate/100:i*V/(t.totalDays||30),O=i*V,I=i+O;D.useEffect(()=>{if(s===2&&d>0){const R=setInterval(()=>f(j=>j-1),1e3);return()=>clearInterval(R)}},[s,d]);const _=R=>{const j=Math.floor(R/60),Q=R%60;return`${j.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`},v=R=>{navigator.clipboard.writeText(R),p(!0),setTimeout(()=>p(!1),2e3)},N=()=>{const R=l==="BTC"?`bitcoin:${k.BTC}?amount=${(i/4e4).toFixed(8)}`:l==="ETH"?`ethereum:${k.ETH}?value=${(i/2e3).toFixed(8)}`:null;R&&(window.location.href=R)},P=async()=>{var W;const R=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}"),j=(W=t.term)==null?void 0:W.match(/(\d+)/);let Q=t.totalDays||30;if(j){const Z=parseInt(j[1]);t.term.includes("month")?Q=Z*30:t.term.includes("day")?Q=Z:t.term.includes("year")&&(Q=Z*365)}const de=new Date;de.setDate(de.getDate()+Q);const ve={type:"investment",investmentId:t.id,investmentName:t.name,category:t.category,amount:parseFloat(i),crypto:l,walletAddress:k[l],returnRate:(V*100).toFixed(1)+"%",dailyRate:t.dailyRate||V*100/Q,dailyProfit:parseFloat(M.toFixed(2)),expectedReturn:parseFloat(O.toFixed(2)),totalReturn:parseFloat(I.toFixed(2)),term:t.term,totalDays:Q,maturityDate:de.toISOString(),userEmail:R.email||"unknown",userId:R.uid||"unknown",userName:R.name||"User",isTestPlan:t.isTestPlan||!1,payoutSchedule:t.payoutSchedule||"End of Term",approvalDate:null,countdownStarted:!1};await te.addTransaction(ve);const He=JSON.parse(localStorage.getItem(`investments_${R.uid}`)||"[]");He.push({...ve,id:Date.now(),status:"pending",createdAt:new Date().toISOString()}),localStorage.setItem(`investments_${R.uid}`,JSON.stringify(He)),R.email&&Pe.sendInvestmentNotification(R.email,t.name,i,t.term).catch(console.error),te.logActivity(R.uid,"investment_request",{investment:t.name,amount:i,crypto:l,expectedReturn:O,dailyProfit:M}),r(3)};return o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-end lg:items-center justify-center p-0 lg:p-4",onClick:e,children:o.jsx(U.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween"},className:"bg-white rounded-t-3xl lg:rounded-3xl w-full lg:max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:o.jsxs("div",{className:"p-5 lg:p-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:s===1?"Investment Amount":s===2?"Make Payment":" Pending Approval"}),o.jsx("p",{className:"text-sm text-gray-500",children:t.name})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(fn,{className:"w-5 h-5"})})]}),s===1&&o.jsxs("div",{children:[t.isTestPlan&&y&&o.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-red-50 border border-red-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[o.jsx(Aa,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"One Per Account"})]}),o.jsx("p",{className:"text-red-600 text-sm mt-1",children:"You have already invested in the Test Plan. This plan is limited to one investment per account."})]}),t.isTestPlan&&!y&&o.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-green-50 border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[o.jsx(Rt,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Test Plan - Perfect for Beginners!"})]}),o.jsx("p",{className:"text-green-600 text-sm mt-1",children:"Earn 1% daily for 5 days. Fixed $500 investment. One per account."})]}),o.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Investment Amount (USD)"}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-gray-400",children:"$"}),o.jsx("input",{type:"number",value:t.isTestPlan?t.min:i,onChange:R=>!t.isTestPlan&&a(Math.max(t.min,Math.min(t.max||1e6,+R.target.value))),className:"w-full pl-12 pr-4 py-4 text-2xl font-bold border-2 rounded-xl text-center focus:outline-none",style:{borderColor:w.gold},readOnly:t.isTestPlan})]}),o.jsx("p",{className:"text-xs text-gray-500 mb-4",children:t.isTestPlan?"Fixed amount: $500":`Minimum: $${t.min.toLocaleString()}`}),!t.isTestPlan&&o.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,5,10].map(R=>{const j=t.min*R,Q=j>=1e3?`$${j/1e3}K`:`$${j}`;return o.jsx("button",{onClick:()=>a(j),className:`flex-1 py-2.5 rounded-xl text-sm font-medium border-2 transition-all ${i===j?"text-white":"border-gray-200"}`,style:i===j?{background:w.navy,borderColor:w.navy}:{},children:Q},R)})}),o.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm",children:"Select Cryptocurrency"}),o.jsx("div",{className:"space-y-2 mb-6",children:x.map(R=>o.jsxs("button",{onClick:()=>u(R.id),className:`w-full flex items-center gap-3 p-4 rounded-xl border-2 transition-all ${l===R.id?"shadow-lg":"border-gray-200"}`,style:l===R.id?{borderColor:R.color,background:`${R.color}10`}:{},children:[o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-xl font-bold",style:{background:R.color},children:R.icon}),o.jsx("div",{className:"text-left flex-1",children:o.jsx("p",{className:"font-semibold",style:{color:w.navy},children:R.name})}),l===R.id&&o.jsx(Rt,{className:"w-5 h-5",style:{color:R.color}})]},R.id))}),o.jsxs("div",{className:"p-4 rounded-2xl mb-4",style:{background:`${w.green}10`},children:[t.dailyRate&&o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Daily Profit"}),o.jsxs("span",{className:"font-bold",style:{color:w.green},children:[t.dailyRate,"% ($",M.toLocaleString(void 0,{maximumFractionDigits:2}),"/day)"]})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),o.jsx("span",{className:"font-bold",style:{color:w.navy},children:t.term})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Total Profit"}),o.jsxs("span",{className:"font-bold",style:{color:w.green},children:["+$",O.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"flex justify-between border-t border-green-200 pt-2 mt-2",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Total Payout"}),o.jsxs("span",{className:"font-bold text-lg",style:{color:w.navy},children:["$",(i+O).toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),o.jsx(MT,{}),o.jsx(U.button,{onClick:()=>r(2),whileHover:{scale:1.02},whileTap:{scale:.98},disabled:t.isTestPlan&&y,className:"w-full py-4 rounded-xl text-white font-semibold mt-4 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:t.isTestPlan&&y?"Already Invested in Test Plan":"Continue to Payment"})]}),s===2&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-6 p-4 rounded-2xl",style:{background:d<300?"#fef2f2":`${w.gold}10`},children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment expires in"}),o.jsxs("p",{className:`text-3xl font-mono font-bold ${d<300?"text-red-500":""}`,style:{color:d>=300?w.navy:void 0},children:[o.jsx(Z2,{className:"w-6 h-6 inline mr-2"}),_(d)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 mb-4",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amount to invest"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:w.navy},children:["$",i.toLocaleString()," USD"]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Pay equivalent in ",l]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Send ",l," to this address:"]}),o.jsxs("div",{className:"bg-gray-900 rounded-xl p-4",children:[o.jsxs("p",{className:"text-xs text-gray-400 mb-2 text-center",children:[l," Wallet Address"]}),o.jsx("p",{className:"font-mono text-sm text-white break-all text-center mb-3",children:k[l]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U.button,{onClick:()=>v(k[l]),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2",style:{background:h?w.green:w.gold,color:"white"},children:h?o.jsxs(o.Fragment,{children:[o.jsx(Rt,{className:"w-4 h-4"})," Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(il,{className:"w-4 h-4"})," Copy Address"]})}),o.jsxs(U.button,{onClick:N,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-2.5 rounded-lg text-sm font-medium flex items-center justify-center gap-2 bg-blue-500 text-white",children:[o.jsx(xR,{className:"w-4 h-4"})," Open Wallet"]})]})]})]}),o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-xl flex items-center justify-center",children:o.jsx(ER,{className:"w-16 h-16 text-gray-400"})})}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-4",children:o.jsxs("p",{className:"text-xs text-yellow-800",children:[" Only send ",l," to this address. Sending any other cryptocurrency may result in permanent loss."]})}),o.jsx(U.button,{onClick:P,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:"I've Made the Payment"})]}),s===3&&o.jsxs("div",{className:"text-center py-6",children:[o.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4",style:{background:`${w.gold}20`},children:o.jsx(oo,{className:"w-10 h-10",style:{color:w.gold}})}),o.jsx("h3",{className:"font-serif text-xl mb-2",style:{color:w.navy},children:"Investment Pending"}),o.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Your investment of ",o.jsxs("strong",{children:["$",i.toLocaleString()]})," in ",o.jsx("strong",{children:t.name})," is being reviewed."]}),o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4 text-left space-y-3 mb-6",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Status"}),o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending Approval"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Amount"}),o.jsxs("span",{className:"font-bold",children:["$",i.toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Payment Method"}),o.jsx("span",{className:"font-bold",children:l})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-500",children:"Expected Return"}),o.jsxs("span",{className:"font-bold",style:{color:w.green},children:["+$",O.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),o.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"You will be notified once your investment is approved. This usually takes 1-24 hours."}),o.jsx(U.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-4 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:"Done"})]})]})})})}function v6({user:t,onNavigate:e}){const[n,s]=D.useState(!1),[r,i]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState([]),[f,h]=D.useState(t);D.useEffect(()=>{const x=async()=>{try{const V=await te.fetchTransactionsFromCloud();d(V);const O=(await te.fetchUsersFromCloud()).find(I=>I.uid===t.uid);O&&(h(O),localStorage.setItem(`user_${t.uid}`,JSON.stringify(O)),localStorage.setItem("saxovault_current_user",JSON.stringify(O)))}catch{console.log("Using cached data"),d(te.getTransactions())}};x();const S=setInterval(x,3e4);return()=>clearInterval(S)},[t.uid]),JSON.parse(localStorage.getItem("saxovault_investments")||"null");const p=u.filter(x=>x.userId===t.uid&&x.type==="investment"&&(x.status==="approved"||x.status==="completed")),y=p.length>0?p.map(x=>{let S=.1;x.returnRate&&(typeof x.returnRate=="string"?S=parseFloat(x.returnRate)/100:x.returnRate<1?S=x.returnRate:S=x.returnRate/100);let V=0,M=0,O=!1,I=0;if(x.countdownStarted&&x.maturityDate){const _=new Date,v=new Date(x.maturityDate),N=x.approvalDate?new Date(x.approvalDate):_,P=v-N,R=v-_;R>0?(O=!0,V=Math.floor(R/(1e3*60*60*24)),M=Math.floor(R%(1e3*60*60*24)/(1e3*60*60)),I=Math.round((P-R)/P*100)):I=100}return{id:x.id,name:x.investmentName||"Investment",type:x.category||x.investmentType||"Mixed",invested:x.amount||0,current:(x.amount||0)+(x.expectedReturn||x.amount*S),returns:S*100,expectedReturn:x.expectedReturn||x.amount*S,dailyProfit:x.dailyProfit||x.amount*(x.dailyRate||1)/100,dailyRate:x.dailyRate||0,term:x.term,totalDays:x.totalDays,maturityDate:x.maturityDate,approvalDate:x.approvalDate,countdownActive:O,daysRemaining:V,hoursRemaining:M,progressPercent:I,status:x.status,color:"#3b82f6"}}):[],b=y.reduce((x,S)=>x+S.invested,0),E=y.reduce((x,S)=>x+S.current,0),A=E-b,k=f.balance||0;return o.jsxs("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:[o.jsxs("div",{className:"max-w-6xl mx-auto px-4 lg:px-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{children:[o.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Dashboard"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["Welcome back, ",f.name||"Investor"]})]})}),o.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-5 lg:p-6 mb-6 text-white",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 text-sm mb-1",children:"Available Balance"}),o.jsxs("p",{className:"text-3xl lg:text-4xl font-bold",children:["$",k.toLocaleString()]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U.button,{onClick:()=>s(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium",style:{background:w.green,color:"white"},children:[o.jsx(ls,{className:"w-4 h-4 inline mr-1"})," Deposit"]}),o.jsxs(U.button,{onClick:()=>i(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-xl text-sm font-medium bg-white/20 text-white",children:[o.jsx(Un,{className:"w-4 h-4 inline mr-1"})," Withdraw"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Portfolio"}),o.jsxs("p",{className:"text-lg font-bold",style:{color:w.navy},children:["$",E.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Invested"}),o.jsxs("p",{className:"text-lg font-bold",style:{color:w.gold},children:["$",b.toLocaleString()]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"Returns"}),o.jsxs("p",{className:"text-lg font-bold",style:{color:w.green},children:[A>=0?"+":"","$",A.toLocaleString()]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[o.jsx("h2",{className:"font-medium",style:{color:w.navy},children:"My Investments"}),o.jsx("button",{onClick:()=>e("investments"),className:"text-sm",style:{color:w.gold},children:"View All"})]}),y.length>0?o.jsx("div",{className:"divide-y divide-gray-50",children:y.map((x,S)=>{var V,M;return o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${x.color}15`},children:o.jsx(Jr,{className:"w-5 h-5",style:{color:x.color}})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:x.name}),o.jsxs("p",{className:"text-xs text-gray-400",children:[x.type,"  ",x.term]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-sm",style:{color:w.navy},children:["$",x.current.toLocaleString(void 0,{maximumFractionDigits:2})]}),o.jsxs("p",{className:"text-xs text-green-600",children:["+$",(V=x.expectedReturn)==null?void 0:V.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),x.countdownActive?o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z2,{className:"w-4 h-4 text-blue-600"}),o.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Time Remaining"})]}),o.jsxs("span",{className:"text-sm font-bold",style:{color:w.navy},children:[x.daysRemaining,"d ",x.hoursRemaining,"h"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${x.progressPercent}%`,background:`linear-gradient(90deg, ${w.green} 0%, ${w.gold} 100%)`}})}),o.jsxs("div",{className:"flex justify-between mt-1",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[x.progressPercent,"% complete"]}),x.dailyRate>0&&o.jsxs("span",{className:"text-xs text-green-600",children:["+$",(M=x.dailyProfit)==null?void 0:M.toFixed(2),"/day"]})]})]}):x.status==="pending"?o.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex items-center gap-2",children:[o.jsx(oo,{className:"w-4 h-4 text-yellow-600"}),o.jsx("span",{className:"text-xs text-yellow-700",children:"Awaiting approval - countdown starts after approval"})]}):x.progressPercent>=100?o.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex items-center gap-2",children:[o.jsx(Rt,{className:"w-4 h-4 text-green-600"}),o.jsx("span",{className:"text-xs text-green-700",children:"Completed! Payout ready"})]}):null]},S)})}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:o.jsx(Jr,{className:"w-8 h-8 text-gray-400"})}),o.jsx("p",{className:"text-gray-500 font-medium mb-2",children:"No investments yet"}),o.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Start your investment journey today"}),o.jsx(U.button,{onClick:()=>e("investments"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2 rounded-lg text-white text-sm font-medium",style:{background:w.gold},children:"Browse Investments"})]})]}),o.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:Jr,label:"Invest",color:w.navy,action:()=>e("investments")},{icon:bm,label:"Auto-Invest",color:"#f59e0b",action:()=>l(!0)},{icon:Q2,label:"History",color:"#8b5cf6",action:()=>e("history")},{icon:kl,label:"Profile",color:w.green,action:()=>e("profile")}].map((x,S)=>o.jsxs(U.button,{onClick:x.action,whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white rounded-xl p-4 shadow-sm flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{background:`${x.color}15`},children:o.jsx(x.icon,{className:"w-5 h-5",style:{color:x.color}})}),o.jsx("span",{className:"text-xs font-medium text-gray-600",children:x.label})]},S))})]}),o.jsxs(yt,{children:[n&&o.jsx(LT,{onClose:()=>s(!1)}),r&&o.jsx(OT,{onClose:()=>i(!1),balance:k}),a&&o.jsx(I6,{onClose:()=>l(!1),user:t})]})]})}function w6({user:t}){const[e,n]=D.useState("all"),[s,r]=D.useState("all"),i=te.getTransactions().filter(p=>p.userId===(t==null?void 0:t.uid)||p.userEmail===(t==null?void 0:t.email)),a=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]").filter(p=>p.userEmail===(t==null?void 0:t.email)),u=[...i.map(p=>({...p,category:p.type})),...a.map(p=>({id:p.id,type:"investment",category:"investment",amount:p.amount,status:p.status,name:p.investmentName,crypto:p.crypto,createdAt:p.createdAt}))].sort((p,y)=>new Date(y.createdAt)-new Date(p.createdAt)).filter(p=>e==="all"||p.category===e),d=p=>{switch(p){case"completed":case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"rejected":case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},f=p=>{switch(p){case"deposit":return o.jsx(ls,{className:"w-5 h-5 text-green-600"});case"withdrawal":return o.jsx(Un,{className:"w-5 h-5 text-orange-600"});case"investment":return o.jsx(Jr,{className:"w-5 h-5 text-blue-600"});default:return o.jsx(H2,{className:"w-5 h-5 text-gray-600"})}},h=()=>{const p=[["Date","Type","Amount","Status","Details"].join(","),...u.map(A=>[new Date(A.createdAt).toLocaleDateString(),A.type,A.amount,A.status,A.name||A.crypto||""].join(","))].join(`
`),y=new Blob([p],{type:"text/csv"}),b=URL.createObjectURL(y),E=document.createElement("a");E.href=b,E.download=`saxovault_transactions_${new Date().toISOString().split("T")[0]}.csv`,E.click()};return o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Transaction History"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:[u.length," transactions"]})]}),o.jsxs(U.button,{onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium",style:{background:w.navy,color:"white"},children:[o.jsx(yR,{className:"w-4 h-4"})," Export"]})]}),o.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm mb-6",children:o.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{id:"all",label:"All"},{id:"deposit",label:"Deposits"},{id:"withdrawal",label:"Withdrawals"},{id:"investment",label:"Investments"}].map(p=>o.jsx("button",{onClick:()=>n(p.id),className:`px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${e===p.id?"text-white":"bg-gray-100 text-gray-600"}`,style:e===p.id?{background:w.navy}:{},children:p.label},p.id))})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:u.length>0?o.jsx("div",{className:"divide-y divide-gray-100",children:u.map((p,y)=>{var b;return o.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.03},className:"p-4 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center",children:f(p.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium",style:{color:w.navy},children:p.type.charAt(0).toUpperCase()+p.type.slice(1)}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${d(p.status)}`,children:p.status})]}),o.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[p.name||p.crypto||"Transaction","  ",new Date(p.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:`font-bold ${p.type==="withdrawal"?"text-orange-600":"text-green-600"}`,children:[p.type==="withdrawal"?"-":"+","$",(b=p.amount)==null?void 0:b.toLocaleString()]}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(p.createdAt).toLocaleTimeString()})]})]})},y)})}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx(Q2,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No transactions yet"})]})})]})})}function _6({user:t}){const[e,n]=D.useState([]);D.useEffect(()=>{const a=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}"),l=JSON.parse(localStorage.getItem("saxovault_broadcasts")||"[]"),u=[...a[t==null?void 0:t.email]||[],...l.map(d=>({...d,type:"broadcast",title:d.title,message:d.message}))].sort((d,f)=>new Date(f.createdAt)-new Date(d.createdAt));n(u)},[t]);const s=a=>{const l=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");l[t==null?void 0:t.email]&&(l[t.email]=l[t.email].map(u=>u.id===a?{...u,read:!0}:u),localStorage.setItem("saxovault_user_notifications",JSON.stringify(l)),n(u=>u.map(d=>d.id===a?{...d,read:!0}:d)))},r=a=>{switch(a){case"investment_approved":return o.jsx(Rt,{className:"w-5 h-5 text-green-600"});case"investment_rejected":return o.jsx(fn,{className:"w-5 h-5 text-red-600"});case"deposit_confirmed":return o.jsx(ls,{className:"w-5 h-5 text-green-600"});case"withdrawal_processed":return o.jsx(Un,{className:"w-5 h-5 text-orange-600"});case"broadcast":return o.jsx(er,{className:"w-5 h-5 text-blue-600"});default:return o.jsx(er,{className:"w-5 h-5 text-gray-600"})}},i=e.filter(a=>!a.read).length;return o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Notifications"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:[i," unread"]})]}),i>0&&o.jsx("button",{onClick:()=>{const a=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");a[t==null?void 0:t.email]&&(a[t.email]=a[t.email].map(l=>({...l,read:!0})),localStorage.setItem("saxovault_user_notifications",JSON.stringify(a)),n(l=>l.map(u=>({...u,read:!0}))))},className:"text-sm font-medium",style:{color:w.gold},children:"Mark all as read"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?o.jsx("div",{className:"divide-y divide-gray-100",children:e.map((a,l)=>o.jsx(U.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.03},onClick:()=>s(a.id),className:`p-4 cursor-pointer transition-colors ${a.read?"bg-white":"bg-blue-50"} hover:bg-gray-50`,children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:r(a.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:a.title}),!a.read&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:a.message}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(a.createdAt).toLocaleString()})]})]})},l))}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx(er,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})})]})})}function b6({user:t}){const[e,n]=D.useState([]);return D.useEffect(()=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");n(s[t==null?void 0:t.email]||[])},[t]),o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4 lg:px-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Activity Log"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Your recent account activity"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.length>0?o.jsx("div",{className:"divide-y divide-gray-100",children:e.map((s,r)=>o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="login"?"bg-green-100":s.type==="logout"?"bg-gray-100":s.type==="password_change"?"bg-yellow-100":"bg-blue-100"}`,children:[s.type==="login"&&o.jsx(lo,{className:"w-5 h-5 text-green-600 rotate-180"}),s.type==="logout"&&o.jsx(lo,{className:"w-5 h-5 text-gray-600"}),s.type==="password_change"&&o.jsx(Ru,{className:"w-5 h-5 text-yellow-600"}),s.type==="profile_update"&&o.jsx(kl,{className:"w-5 h-5 text-blue-600"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:s.type==="login"?"Signed in":s.type==="logout"?"Signed out":s.type==="password_change"?"Password changed":"Profile updated"}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.timestamp).toLocaleString()})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-gray-400",children:s.ip||"Unknown IP"}),o.jsx("p",{className:"text-xs text-gray-400",children:s.device||"Unknown Device"})]})]})},r))}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx(dR,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No activity recorded yet"})]})}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[o.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center gap-2",children:[o.jsx(co,{className:"w-5 h-5"})," Security Tips"]}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:" Review your activity regularly for suspicious logins"}),o.jsx("li",{children:" Enable two-factor authentication for extra security"}),o.jsx("li",{children:" Never share your password with anyone"})]})]})]})})}function LT({onClose:t}){const[e,n]=D.useState(1),[s,r]=D.useState(""),[i,a]=D.useState(null),[l,u]=D.useState(!1),[d,f]=D.useState(1800),[h,p]=D.useState(""),[y,b]=D.useState(null),[E,A]=D.useState(!1),[k,x]=D.useState(!1),S=D.useRef(null),V=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",color:"#f7931a",address:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",network:"Bitcoin"},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",color:"#627eea",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",color:"#26a17b",address:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG",network:"TRC-20"},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",color:"#2775ca",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"ERC-20"},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",color:"#f3ba2f",address:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",network:"BEP-20"}];D.useEffect(()=>{if(e===2&&d>0){const v=setInterval(()=>f(N=>N-1),1e3);return()=>clearInterval(v)}},[e,d]);const M=v=>`${Math.floor(v/60).toString().padStart(2,"0")}:${(v%60).toString().padStart(2,"0")}`,O=v=>{navigator.clipboard.writeText(v),u(!0),setTimeout(()=>u(!1),2e3)},I=v=>{var P;const N=(P=v.target.files)==null?void 0:P[0];if(N){if(N.size>5*1024*1024){alert("File too large. Max 5MB.");return}A(!0);const R=new FileReader;R.onload=()=>{b(R.result),A(!1)},R.readAsDataURL(N)}},_=async()=>{if(!h&&!y){alert("Please provide transaction hash or payment proof.");return}x(!0);const v=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");await te.addTransaction({type:"deposit",amount:parseFloat(s),crypto:i.symbol,network:i.network,txHash:h||null,proofImage:y?"uploaded":null,userEmail:v.email||"unknown",userId:v.uid||"unknown"}),v.email&&Pe.sendDepositNotification(v.email,parseFloat(s),i.symbol).catch(console.error),setTimeout(()=>{x(!1),n(4)},500)};return o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:v=>v.stopPropagation(),children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:w.navy},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ls,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-white font-medium",children:"Deposit Funds"})]}),o.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:o.jsx(fn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[o.jsx("div",{className:"flex gap-2",children:[1,2,3,4].map(v=>o.jsx("div",{className:`h-1 flex-1 rounded-full ${e>=v?"bg-blue-500":"bg-gray-200"}`},v))}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",e," of 4: ",e===1?"Select Amount":e===2?"Send Payment":e===3?"Confirm Payment":"Complete"]})]}),o.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[e===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:V.map(v=>o.jsxs("button",{onClick:()=>a(v),className:`p-3 rounded-lg border-2 text-center transition-all ${(i==null?void 0:i.id)===v.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("span",{className:"text-lg",children:v.icon}),o.jsx("p",{className:"text-xs font-medium mt-1",children:v.symbol})]},v.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),o.jsx("input",{type:"number",value:s,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",min:"10"}),o.jsx("div",{className:"flex gap-2 mt-2",children:[100,500,1e3,5e3].map(v=>o.jsxs("button",{onClick:()=>r(v.toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:["$",v.toLocaleString()]},v))})]}),o.jsx("button",{onClick:()=>i&&s>=10&&n(2),disabled:!i||!s||parseFloat(s)<10,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 transition-all",style:{background:w.navy},children:"Continue"})]}),e===2&&i&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center p-3 bg-amber-50 rounded-lg border border-amber-200",children:[o.jsx("p",{className:"text-sm text-amber-700",children:"Complete payment within"}),o.jsx("p",{className:"text-2xl font-mono font-bold text-amber-800",children:M(d)})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),o.jsxs("span",{className:"font-semibold",children:["$",parseFloat(s).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Network"}),o.jsx("span",{className:"text-sm font-medium",children:i.network})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:["Send ",i.symbol," to:"]}),o.jsx("div",{className:"p-3 bg-gray-900 rounded-lg",children:o.jsx("p",{className:"font-mono text-xs text-gray-300 break-all text-center",children:i.address})}),o.jsx("button",{onClick:()=>O(i.address),className:"w-full mt-2 py-2 text-sm border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center justify-center gap-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Rt,{className:"w-4 h-4 text-green-500"})," Copied!"]}):o.jsxs(o.Fragment,{children:[o.jsx(il,{className:"w-4 h-4"})," Copy Address"]})})]}),o.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[" Only send ",i.symbol," via ",i.network,". Wrong network = lost funds."]}),o.jsx("button",{onClick:()=>n(3),className:"w-full py-3 rounded-lg text-white font-medium",style:{background:w.navy},children:"I've Sent Payment"})]}),e===3&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>n(2),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[o.jsx(El,{className:"w-4 h-4"})," Back"]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Transaction Hash (Recommended)"}),o.jsx("input",{type:"text",value:h,onChange:v=>p(v.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"0x... or txid..."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 h-px bg-gray-200"}),o.jsx("span",{className:"text-xs text-gray-400",children:"OR"}),o.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Upload Proof of Payment"}),o.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:I,className:"hidden"}),y?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:y,alt:"Proof",className:"w-full h-32 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>b(null),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center",children:o.jsx(fn,{className:"w-3 h-3"})})]}):o.jsx("button",{onClick:()=>{var v;return(v=S.current)==null?void 0:v.click()},className:"w-full p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 text-center",children:E?o.jsx(Fn,{className:"w-6 h-6 mx-auto animate-spin text-gray-400"}):o.jsxs(o.Fragment,{children:[o.jsx(xm,{className:"w-6 h-6 mx-auto text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload screenshot"})]})})]}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-lg text-sm",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Verification"}),o.jsx("span",{className:h||y?"text-green-600":"text-amber-600",children:h&&y?" Both provided":h?" Hash provided":y?" Proof uploaded":" Required"})]})}),o.jsx("button",{onClick:_,disabled:!h&&!y||k,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:w.navy},children:k?o.jsxs(o.Fragment,{children:[o.jsx(Fn,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Submit for Verification"})]}),e===4&&o.jsxs("div",{className:"text-center py-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-green-100 flex items-center justify-center mb-4",children:o.jsx(Rt,{className:"w-8 h-8 text-green-500"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:w.navy},children:"Deposit Submitted"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your deposit is pending verification. You'll be notified once approved."}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-500",children:"Amount"}),o.jsxs("span",{className:"font-medium",children:["$",parseFloat(s).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-500",children:"Method"}),o.jsx("span",{className:"font-medium",children:i==null?void 0:i.symbol})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Status"}),o.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Approval"})]})]}),o.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function OT({onClose:t,balance:e}){const[n,s]=D.useState(1),[r,i]=D.useState(""),[a,l]=D.useState(null),[u,d]=D.useState(""),[f,h]=D.useState(!1),p=[{id:"btc",name:"Bitcoin",symbol:"BTC",icon:"",network:"Bitcoin",minWithdraw:50},{id:"eth",name:"Ethereum",symbol:"ETH",icon:"",network:"ERC-20",minWithdraw:50},{id:"usdt",name:"Tether",symbol:"USDT",icon:"",network:"TRC-20",minWithdraw:20},{id:"usdc",name:"USD Coin",symbol:"USDC",icon:"$",network:"ERC-20",minWithdraw:20},{id:"bnb",name:"BNB",symbol:"BNB",icon:"B",network:"BEP-20",minWithdraw:30}],y=r&&parseFloat(r)>=((a==null?void 0:a.minWithdraw)||0)&&parseFloat(r)<=e,b=u.length>=26,E=async()=>{if(!y||!b)return;h(!0);const A=JSON.parse(localStorage.getItem("saxovault_current_user")||"{}");await te.addTransaction({type:"withdrawal",amount:parseFloat(r),crypto:a.symbol,network:a.network,walletAddress:u,userEmail:A.email||"unknown",userId:A.uid||"unknown"}),A.email&&Pe.sendWithdrawalNotification(A.email,parseFloat(r),u).catch(console.error),setTimeout(()=>{h(!1),s(3)},500)};return o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs(U.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden",onClick:A=>A.stopPropagation(),children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",style:{background:w.navy},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Un,{className:"w-5 h-5 text-white"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white font-medium",children:"Withdraw Funds"}),o.jsxs("p",{className:"text-white/60 text-xs",children:["Balance: $",e.toLocaleString()]})]})]}),o.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:o.jsx(fn,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-100",children:[o.jsx("div",{className:"flex gap-2",children:[1,2,3].map(A=>o.jsx("div",{className:`h-1 flex-1 rounded-full ${n>=A?"bg-blue-500":"bg-gray-200"}`},A))}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Step ",n," of 3: ",n===1?"Enter Details":n===2?"Confirm":"Complete"]})]}),o.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Withdrawal Method"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(A=>o.jsxs("button",{onClick:()=>l(A),className:`p-3 rounded-lg border-2 text-center transition-all ${(a==null?void 0:a.id)===A.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx("span",{className:"text-lg",children:A.icon}),o.jsx("p",{className:"text-xs font-medium mt-1",children:A.symbol})]},A.id))}),a&&o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Min: $",a.minWithdraw,"  Network: ",a.network]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Amount (USD)"}),o.jsx("input",{type:"number",value:r,onChange:A=>i(A.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500",placeholder:"Enter amount",max:e}),o.jsx("div",{className:"flex gap-2 mt-2",children:[25,50,75,100].map(A=>o.jsxs("button",{onClick:()=>i(Math.floor(e*A/100).toString()),className:"flex-1 py-1.5 text-xs border border-gray-200 rounded hover:bg-gray-50",children:[A,"%"]},A))}),r&&parseFloat(r)>e&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Insufficient balance"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Wallet Address"}),o.jsx("input",{type:"text",value:u,onChange:A=>d(A.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 font-mono text-sm",placeholder:"Enter your wallet address"})]}),o.jsx("button",{onClick:()=>s(2),disabled:!y||!b||!a,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50",style:{background:w.navy},children:"Continue"})]}),n===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:()=>s(1),className:"text-sm text-gray-500 hover:text-gray-700 flex items-center gap-1",children:[o.jsx(El,{className:"w-4 h-4"})," Back"]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Amount"}),o.jsxs("span",{className:"font-semibold",children:["$",parseFloat(r).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Method"}),o.jsxs("span",{className:"font-medium",children:[a==null?void 0:a.symbol," (",a==null?void 0:a.network,")"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-500",children:"Fee"}),o.jsx("span",{className:"text-sm",children:"Network fee applies"})]}),o.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Destination"}),o.jsx("p",{className:"font-mono text-xs break-all",children:u})]})]}),o.jsx("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200",children:o.jsx("p",{className:"text-xs text-amber-700",children:" Please verify the address is correct. Withdrawals to wrong addresses cannot be recovered."})}),o.jsx("button",{onClick:E,disabled:f,className:"w-full py-3 rounded-lg text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",style:{background:w.navy},children:f?o.jsxs(o.Fragment,{children:[o.jsx(Fn,{className:"w-4 h-4 animate-spin"})," Processing..."]}):"Confirm Withdrawal"})]}),n===3&&o.jsxs("div",{className:"text-center py-6",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-blue-100 flex items-center justify-center mb-4",children:o.jsx(oo,{className:"w-8 h-8 text-blue-500"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",style:{color:w.navy},children:"Withdrawal Submitted"}),o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Your withdrawal is under review. Processing time: 24-48 hours."}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-left mb-4",children:[o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-500",children:"Amount"}),o.jsxs("span",{className:"font-medium",children:["$",parseFloat(r).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between mb-2",children:[o.jsx("span",{className:"text-gray-500",children:"Method"}),o.jsx("span",{className:"font-medium",children:a==null?void 0:a.symbol})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-500",children:"Status"}),o.jsx("span",{className:"text-amber-600 font-medium",children:"Under Review"})]})]}),o.jsx("button",{onClick:t,className:"w-full py-3 rounded-lg font-medium border border-gray-200 hover:bg-gray-50",children:"Done"})]})]})]})})}function N6({document:t,onClose:e}){const n={"White Paper":{title:"SaxoVault Capital White Paper",version:"Version 2.1 | January 2024",sections:[{title:"Executive Summary",content:`SaxoVault Capital is a premier institutional-grade investment platform designed to democratize access to high-yield investment opportunities traditionally reserved for accredited investors and financial institutions.

Our platform leverages cutting-edge technology, rigorous due diligence processes, and diversified asset allocation strategies to deliver consistent, risk-adjusted returns across multiple asset classes including Real Estate, Cryptocurrency, Stocks & Bonds, and Precious Metals.

Founded in 2019, SaxoVault Capital has grown to manage over $600 million in assets under management (AUM), serving more than 12,000 investors across 45+ countries.`},{title:"1. Introduction & Vision",content:`1.1 Mission Statement
To provide retail and institutional investors with secure, transparent, and profitable investment opportunities through innovative technology and expert portfolio management.

1.2 Core Values
 Transparency: Full disclosure of investment strategies, risks, and performance
 Security: Bank-level encryption and multi-layer authentication
 Accessibility: Institutional-grade investments with retail-friendly minimums
 Education: Comprehensive investor resources and market insights

1.3 Platform Overview
SaxoVault Capital offers curated opportunities across four primary asset verticals: Real Estate, Cryptocurrency & Digital Assets, Stocks & Fixed Income, and Precious Metals.`},{title:"2. Investment Philosophy",content:`2.1 Diversification Strategy
Our portfolio construction emphasizes strategic diversification across asset classes, geographies, and investment horizons to mitigate concentration risk.

2.2 Due Diligence Framework
Every investment undergoes a rigorous 5-stage vetting process:
 Stage 1: Initial Screening & Market Analysis
 Stage 2: Financial Modeling & Stress Testing
 Stage 3: Legal & Regulatory Compliance Review
 Stage 4: Third-Party Audit & Verification
 Stage 5: Investment Committee Approval

2.3 Risk Management
We employ sophisticated risk management including position sizing limits, stop-loss mechanisms, and real-time monitoring. Maximum exposure to any single investment is capped at 15% of total AUM.`},{title:"3. Asset Allocation",content:`Real Estate (35%): Development funding and income properties
Cryptocurrency (25%): Blue-chip holdings and DeFi strategies
Stocks & Bonds (25%): Dividend aristocrats and growth ETFs
Precious Metals (15%): Gold, silver, and platinum exposure`},{title:"4. Technology & Security",content:` 256-bit SSL/TLS encryption
 Multi-factor authentication (MFA)
 Cold storage for 95% of digital assets
 SOC 2 Type II certified data centers
 Regular penetration testing and security audits
 Smart contract integration for transparent transactions`},{title:"5. Regulatory Compliance",content:"SaxoVault Capital maintains appropriate licenses and adheres to AML/KYC procedures. We implement robust Anti-Money Laundering and Know Your Customer procedures with segregated client accounts and independent custodian relationships."},{title:"6. Fee Structure",content:`Management Fee: 1.5% annually
Performance Fee: 20% of profits above 8% hurdle
Deposit Fee: 0% (no deposit fees)
Withdrawal Fee: Network fees only for cryptocurrency`}]},"Terms of Service":{title:"Terms of Service",version:"Last Updated: December 2024",sections:[{title:"1. Agreement to Terms",content:"By accessing SaxoVault Capital, you agree to these Terms. If you do not agree, you may not use the Platform. We may modify these Terms at any time."},{title:"2. Eligibility",content:"You must be 18+ years old, have legal capacity to contract, not be in a prohibited jurisdiction, complete KYC verification, and provide accurate information."},{title:"3. Account Security",content:"You are responsible for maintaining credential confidentiality. Notify us immediately of unauthorized access. One account per person."},{title:"4. Investment Services",content:"We provide access to curated investment opportunities as an intermediary. All investments carry risk. Past performance does not guarantee future results."},{title:"5. Deposits & Withdrawals",content:"We accept cryptocurrency deposits. Withdrawals are processed within 24-48 hours. Large withdrawals may require additional verification."},{title:"6. Prohibited Activities",content:"No money laundering, market manipulation, fraud, unauthorized bots, security circumvention, impersonation, or illegal activity."},{title:"7. Limitation of Liability",content:"SaxoVault Capital is not liable for indirect, incidental, or consequential damages. Total liability is limited to fees paid in the preceding 12 months."}]},"Privacy Policy":{title:"Privacy Policy",version:"GDPR & CCPA Compliant | December 2024",sections:[{title:"1. Information We Collect",content:"Identity info (name, DOB, ID), contact info (email, phone, address), financial info (wallet addresses), verification documents, device info, and usage data."},{title:"2. How We Use Information",content:"Verify identity, process transactions, communicate about your account, comply with regulations, improve services, and detect security threats."},{title:"3. Data Sharing",content:"We share with service providers, regulatory authorities, and professional advisors. We do NOT sell your personal information."},{title:"4. Data Security",content:"256-bit encryption, multi-factor authentication, regular audits, employee access controls, and SOC 2 certified data centers."},{title:"5. Your Rights",content:"Access, rectification, erasure, restriction, portability, and objection rights. Contact privacy@saxobankcapital.com to exercise."},{title:"6. Data Retention",content:"We retain data as long as necessary for services and legal compliance. After account closure, certain data is retained for up to 7 years."}]},"Risk Disclosure":{title:"Risk Disclosure Statement",version:"Required Reading | All Investors",sections:[{title:"IMPORTANT WARNING",content:"Investing involves risk including possible loss of principal. Values can go down as well as up. This does not disclose all risks. Consult a financial advisor."},{title:"1. Market Risk",content:"Values fluctuate based on economic events, political developments, and market sentiment."},{title:"2. Real Estate Risks",content:"Property values may decline, projects may face delays, rental income affected by vacancies, regulatory changes, environmental issues."},{title:"3. Cryptocurrency Risks",content:"Extreme volatility, regulatory uncertainty, security risks, technology vulnerabilities, market manipulation, no intrinsic value."},{title:"4. Stock & Bond Risks",content:"Equity risk, credit risk, sector concentration, currency fluctuations, dividend reductions."},{title:"5. Precious Metals Risks",content:"Price volatility, no income generation, storage costs, industrial demand cycles."},{title:"Acknowledgment",content:"By investing, you acknowledge reading this disclosure, understanding risks, accepting potential losses, and conducting your own due diligence."}]},"AML/KYC Policy":{title:"Anti-Money Laundering & KYC Policy",version:"FATF Compliant | December 2024",sections:[{title:"1. Policy Statement",content:"SaxoVault Capital is committed to highest AML/CTF standards, adhering to FATF recommendations and applicable laws."},{title:"2. Customer Identification",content:"Required: Government photo ID, proof of address (within 90 days), selfie verification. Enhanced due diligence for high-value transactions and PEPs."},{title:"3. Ongoing Monitoring",content:"Transaction monitoring, periodic reviews, sanctions screening, automated alerts for unusual activity."},{title:"4. Suspicious Activity",content:"We file SARs and CTRs as required, cooperate with law enforcement, and maintain records for 5+ years."},{title:"5. Prohibited Activities",content:"Money laundering, terrorist financing, sanctioned transactions, structuring, false identities, illegal proceeds."},{title:"6. Sanctions Compliance",content:"We screen against OFAC, UN, EU, and other sanctions lists. Transactions with sanctioned parties are blocked and reported."}]},"Investment Guide":{title:"Investment Guidelines & Handbook",version:"Investor Reference | 2024",sections:[{title:"1. Getting Started",content:"Register  Complete KYC  Enable 2FA  Fund account  Browse investments. Account levels: Basic (<$25K), Premium ($25K-$100K), Elite ($100K+)."},{title:"2. Investment Categories",content:"Real Estate: $10K-$50K min, 12-36 months, 7-22% target. Crypto: $2.5K-$10K min, 6-12 months, 15-40% target. Stocks: $3K-$10K min, 12 months, 5-20% target. Metals: $2.5K-$15K min, 12-24 months, 8-18% target."},{title:"3. Portfolio Strategies",content:"Conservative: 50% bonds, 30% RE income, 15% metals, 5% crypto. Balanced: 35% RE, 25% stocks, 25% crypto, 15% metals. Aggressive: 40% crypto, 30% growth stocks, 20% RE dev, 10% altcoins."},{title:"4. Payouts",content:"Methods: Cryptocurrency or reinvestment. Schedule: Monthly, quarterly, or at maturity. Compound option available."},{title:"5. Withdrawals",content:"Crypto: 24-48 hours. Large (>$50K): 3-5 days. Daily limit: $100K (Elite: $500K)."}]},"Fee Schedule":{title:"Fee Schedule",version:"Effective January 2024",sections:[{title:"Account Fees",content:"Opening: FREE. Maintenance: FREE. Closure: FREE. Inactivity (12+ months): $25/month."},{title:"Deposit Fees",content:"All cryptocurrency deposits: FREE. Network fees paid by sender."},{title:"Withdrawal Fees",content:"Network fees only. Express processing (4 hours): 0.1% of amount."},{title:"Management Fees",content:"1.5% annually (0.375% quarterly). Performance fee: 20% of profits above 8% hurdle."},{title:"Early Redemption",content:"0-30 days: 5%. 31-90 days: 3%. 91-180 days: 1%. 180+ days: No penalty."},{title:"Elite Discounts",content:"25% off management fees, free express withdrawals, dedicated account manager."}]},"FAQ & Support":{title:"Frequently Asked Questions",version:"Updated December 2024",sections:[{title:"Account",content:`Q: How to register? A: Click Register, enter details, complete KYC.
Q: Verification time? A: 24-48 hours standard, 4 hours express.
Q: Multiple accounts? A: No, one per person.`},{title:"Deposits",content:`Q: Which cryptos? A: BTC, ETH, USDT, USDC, BNB, LTC.
Q: Minimum? A: No account minimum. Each investment has its own.
Q: How long? A: 10-30 minutes after confirmation.`},{title:"Investments",content:`Q: Minimum investment? A: $2,500 - $50,000 depending on opportunity.
Q: Early withdrawal? A: May incur penalties per terms.
Q: When payouts? A: Monthly, quarterly, or at maturity.`},{title:"Withdrawals",content:`Q: Processing time? A: 24-48 hours standard.
Q: Limits? A: $100K daily ($500K for Elite).
Q: Delayed? A: Contact support if >72 hours.`},{title:"Contact Support",content:`WhatsApp: +1 (464) 239-5280 (24/7)
Live Chat: Available on website
Email: support@saxovault.com
Response: Under 24 hours`}]}},s=n[t]||n["White Paper"];return o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e,children:o.jsxs(U.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},className:"bg-white rounded-2xl lg:rounded-3xl w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl",onClick:r=>r.stopPropagation(),children:[o.jsxs("div",{className:"p-5 lg:p-6 border-b border-gray-100 flex items-center justify-between sticky top-0 bg-white z-10",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:s.title}),o.jsx("p",{className:"text-gray-500 text-sm",children:s.version})]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(fn,{className:"w-6 h-6",style:{color:w.navy}})})]}),o.jsxs("div",{className:"p-5 lg:p-8 overflow-y-auto max-h-[calc(90vh-100px)]",children:[o.jsx("div",{className:"space-y-8",children:s.sections.map((r,i)=>o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.05},children:[o.jsx("h3",{className:"font-serif text-lg lg:text-xl mb-3 pb-2 border-b border-gray-100",style:{color:w.navy},children:r.title}),o.jsx("div",{className:"text-gray-600 text-sm lg:text-base leading-relaxed whitespace-pre-line",children:r.content})]},i))}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-100 flex flex-col sm:flex-row gap-3",children:[o.jsxs(U.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${w.navy}10`,color:w.navy},children:[o.jsx(ls,{className:"w-4 h-4"})," Download PDF"]}),o.jsx(U.button,{onClick:e,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 rounded-xl text-white font-medium",style:{background:w.navy},children:"Close"})]})]})]})})}function S6({user:t}){const e=D.useMemo(()=>{const h=localStorage.getItem(`saxovault_referral_code_${t.uid}`);if(h)return h;const p="SAXO"+(t.name||"USER").split(" ")[0].toUpperCase().slice(0,4)+Math.random().toString(36).substr(2,4).toUpperCase();return localStorage.setItem(`saxovault_referral_code_${t.uid}`,p),p},[t.uid,t.name]),n=`https://saxovault.com/ref/${e}`,[s,r]=D.useState(!1),i=h=>{navigator.clipboard.writeText(h),r(!0),setTimeout(()=>r(!1),2e3)},l=te.getUsers().filter(h=>h.referredBy===t.uid||h.referralCode===e).map(h=>{var E;const y=te.getTransactions().filter(A=>A.userId===h.uid&&A.type==="deposit"&&(A.status==="approved"||A.status==="completed")).reduce((A,k)=>A+(k.amount||0),0),b=y*.01;return{name:h.name?h.name.split(" ")[0]+" "+(((E=h.name.split(" ")[1])==null?void 0:E[0])||"")+".":"User",date:h.createdAt||new Date().toISOString(),deposits:y,bonus:b,status:y>0?"Active":"Pending"}}),u=l.reduce((h,p)=>h+p.bonus,0),d=l.length,f=l.filter(h=>h.status==="Active").length;return o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[o.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[o.jsx(U.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring"},className:"w-16 h-16 lg:w-20 lg:h-20 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:o.jsx(Il,{className:"w-8 h-8 lg:w-10 lg:h-10 text-white"})}),o.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:w.navy},children:"Referral Program"}),o.jsx("p",{className:"text-gray-600 text-sm lg:text-base max-w-lg mx-auto",children:"Earn rewards when your friends invest. Get 1% bonus on every deposit your referrals make!"})]}),l.length>0?o.jsx("div",{className:"grid grid-cols-3 gap-3 lg:gap-6 mb-6 lg:mb-8",children:[{label:"Total Earnings",value:`$${u.toLocaleString()}`,icon:fR,color:w.green},{label:"Total Referrals",value:d,icon:Du,color:w.navy},{label:"Active Referrals",value:f,icon:xv,color:w.gold}].map((h,p)=>o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg text-center",children:[o.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mx-auto mb-2 lg:mb-3",style:{background:`${h.color}15`},children:o.jsx(h.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:h.color}})}),o.jsx("p",{className:"text-xl lg:text-3xl font-bold",style:{color:h.color},children:h.value}),o.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:h.label})]},p))}):o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 lg:p-8 mb-6 lg:mb-8 text-center border border-blue-100",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white shadow-md flex items-center justify-center mx-auto mb-4",children:o.jsx(xv,{className:"w-8 h-8 text-blue-500"})}),o.jsx("h3",{className:"font-semibold text-lg mb-2",style:{color:w.navy},children:"Start Earning Today!"}),o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Share your referral link with friends and earn 1% bonus on every deposit they make."}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[o.jsx("span",{className:"px-3 py-1 bg-white rounded-full text-gray-500",children:"No referrals yet"}),o.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:"$0 earned"})]})]}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Your Referral Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Code"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-3 lg:py-4 bg-gray-50 rounded-xl font-mono font-bold text-lg lg:text-xl text-center",style:{color:w.navy},children:e}),o.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(e),className:"p-3 lg:p-4 rounded-xl text-white",style:{background:s?w.green:w.navy},children:s?o.jsx(tr,{className:"w-5 h-5"}):o.jsx(il,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-500 mb-2",children:"Referral Link"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 px-4 py-3 bg-gray-50 rounded-xl text-sm text-gray-600 truncate",children:n}),o.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(n),className:"p-3 rounded-xl",style:{background:`${w.gold}15`,color:w.gold},children:o.jsx(bR,{className:"w-5 h-5"})})]})]})]}),o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[o.jsx("h3",{className:"font-medium mb-3",style:{color:w.navy},children:"Share via"}),o.jsx("div",{className:"flex gap-3",children:[{name:"WhatsApp",color:"#25D366",icon:zc},{name:"Email",color:"#EA4335",icon:Xn},{name:"Copy Link",color:w.navy,icon:il}].map((h,p)=>o.jsxs(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>h.name==="Copy Link"?i(n):null,className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-white text-sm font-medium",style:{background:h.color},children:[o.jsx(h.icon,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:h.name})]},p))})]})]}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-5 lg:p-8 mb-6 lg:mb-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"How It Works"}),o.jsx("div",{className:"grid sm:grid-cols-3 gap-4 lg:gap-6",children:[{step:"1",title:"Share Your Link",desc:"Send your unique referral link to friends and family"},{step:"2",title:"They Sign Up",desc:"When they register using your link or code"},{step:"3",title:"Earn Rewards",desc:"Get 1% bonus on every deposit they make!"}].map((h,p)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center mx-auto mb-3 text-white font-bold",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:h.step}),o.jsx("h3",{className:"font-semibold text-sm lg:text-base mb-1",style:{color:w.navy},children:h.title}),o.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:h.desc})]},p))})]}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:o.jsx("h2",{className:"font-serif text-lg lg:text-xl",style:{color:w.navy},children:"Your Referrals"})}),l.length>0?o.jsx("div",{className:"divide-y divide-gray-100",children:l.map((h,p)=>o.jsxs("div",{className:"p-4 lg:p-5 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:h.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm lg:text-base",style:{color:w.navy},children:h.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Joined ",h.date]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-sm lg:text-base",style:{color:w.green},children:["+$",h.bonus]}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${h.status==="Active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:h.status})]})]},p))}):o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(Du,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),o.jsx("p",{className:"text-gray-500",children:"No referrals yet. Share your link to get started!"})]})]})]})})}function T6(){const[t,e]=D.useState(25e3),[n,s]=D.useState(12),[r,i]=D.useState(24),a=t*Math.pow(1+n/100/12,r),l=a-t;return o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[o.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[o.jsx("h1",{className:"font-serif text-2xl lg:text-4xl mb-2",style:{color:w.navy},children:"Investment Calculator"}),o.jsx("p",{className:"text-gray-600 text-sm lg:text-base",children:"Project your potential returns."})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl p-5 lg:p-8 shadow-xl",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Parameters"}),o.jsxs("div",{className:"space-y-5 lg:space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Initial Investment"}),o.jsx("input",{type:"number",value:t,onChange:u=>e(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),o.jsx("div",{className:"flex gap-2 mt-2",children:[1e4,25e3,5e4,1e5].map(u=>o.jsxs("button",{onClick:()=>e(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${t===u?"text-white":"border-gray-200"}`,style:t===u?{background:w.navy}:{},children:["$",u/1e3,"K"]},u))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Annual Return (%)"}),o.jsx("input",{type:"number",value:n,onChange:u=>s(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),o.jsx("div",{className:"flex gap-2 mt-2",children:[8,12,15,20].map(u=>o.jsxs("button",{onClick:()=>s(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${n===u?"text-white":"border-gray-200"}`,style:n===u?{background:w.navy}:{},children:[u,"%"]},u))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block font-medium text-gray-700 mb-2 text-sm lg:text-base",children:"Period (Months)"}),o.jsx("input",{type:"number",value:r,onChange:u=>i(+u.target.value),className:"w-full px-4 py-3 lg:py-4 text-xl font-bold border-2 border-gray-200 rounded-xl text-center focus:outline-none"}),o.jsx("div",{className:"flex gap-2 mt-2",children:[12,24,36,60].map(u=>o.jsxs("button",{onClick:()=>i(u),className:`flex-1 py-2 rounded-lg text-xs font-medium border ${r===u?"text-white":"border-gray-200"}`,style:r===u?{background:w.navy}:{},children:[u,"mo"]},u))})]})]})]}),o.jsxs("div",{className:"rounded-2xl lg:rounded-3xl p-5 lg:p-8 text-white shadow-xl",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[o.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-6 lg:mb-8",style:{color:w.gold},children:"Projected Returns"}),o.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Final Value"}),o.jsxs("p",{className:"font-serif text-4xl lg:text-5xl font-bold",children:["$",a.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),o.jsx("div",{className:"h-px bg-white/20"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Total Return"}),o.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.gold},children:["+$",l.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-1",children:"Return %"}),o.jsxs("p",{className:"text-xl lg:text-2xl font-bold",style:{color:w.green},children:["+",(l/t*100).toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"p-4 rounded-xl bg-white/10",children:[o.jsx("p",{className:"text-white/60 text-xs lg:text-sm mb-2",children:"Summary"}),o.jsxs("p",{className:"text-xs lg:text-sm",children:[o.jsxs("span",{className:"font-bold",children:["$",t.toLocaleString()]})," at ",o.jsxs("span",{className:"font-bold",children:[n,"%"]})," for ",o.jsxs("span",{className:"font-bold",children:[r," months"]})," = ",o.jsxs("span",{className:"font-bold",style:{color:w.gold},children:["$",a.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})]})]}),o.jsx("p",{className:"text-center text-xs lg:text-sm text-gray-500 mt-6 lg:mt-8",children:"* Estimates only. Actual returns may vary."})]})})}function E6({user:t,setUser:e,onLogout:n}){const[s,r]=D.useState("profile"),[i,a]=D.useState({name:t.name,email:t.email,phone:t.phone,address:t.address}),[l,u]=D.useState({current:"",new:"",confirm:""}),[d,f]=D.useState({current:!1,new:!1,confirm:!1}),[h,p]=D.useState("pending"),[y,b]=D.useState(1),[E,A]=D.useState(!1),[k,x]=D.useState(!1),[S,V]=D.useState(!1),[M,O]=D.useState(()=>$r.is2FAEnabled(t==null?void 0:t.uid)),[I,_]=D.useState(!1),[v,N]=D.useState(""),[P,R]=D.useState(!1),j=D.useRef(null),Q=o6(),de=Jw[Q]||"English",ve=()=>{e({...t,...i}),A(!0),setTimeout(()=>A(!1),3e3)},He=()=>{if(l.new!==l.confirm){alert("New passwords do not match!");return}if(l.new.length<8){alert("Password must be at least 8 characters!");return}A(!0),u({current:"",new:"",confirm:""}),setTimeout(()=>A(!1),3e3)},W=B=>{var at;const re=(at=B.target.files)==null?void 0:at[0];if(re){x(!0);const De=new FileReader;De.onload=()=>{setTimeout(()=>{e({...t,profileImage:De.result}),x(!1)},1500)},De.readAsDataURL(re)}},Z=()=>{p("submitted"),Pe.sendKYCNotification(t.email,t.name,"ID Document").catch(console.error),setTimeout(()=>p("verified"),3e3)},ae=[{id:"profile",label:"Profile",icon:kl},{id:"security",label:"Security",icon:Pa},{id:"language",label:"Language",icon:ao},{id:"kyc",label:"KYC",icon:co},{id:"notifications",label:"Alerts",icon:er}];return o.jsx("div",{className:"min-h-screen pt-20 lg:pt-24 pb-24 lg:pb-12",style:{background:w.cream},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 lg:px-6",children:[o.jsx("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl overflow-hidden mb-6",children:o.jsxs("div",{className:"p-6 lg:p-8 text-center",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center text-3xl lg:text-4xl font-bold text-white overflow-hidden",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:t.profileImage?o.jsx("img",{src:t.profileImage,alt:"",className:"w-full h-full object-cover"}):t.name.charAt(0)}),o.jsx("button",{onClick:()=>{var B;return(B=j.current)==null?void 0:B.click()},className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center",children:k?o.jsx(Fn,{className:"w-4 h-4 animate-spin",style:{color:w.navy}}):o.jsx(xm,{className:"w-4 h-4",style:{color:w.navy}})}),o.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:W,className:"hidden"})]}),o.jsx("h2",{className:"text-xl lg:text-2xl font-serif text-white mt-3",children:t.name}),o.jsx("p",{className:"text-white/60 text-sm",children:t.email}),o.jsxs("div",{className:"inline-flex items-center gap-2 mt-2 px-3 py-1 rounded-full",style:{background:`${w.green}30`},children:[o.jsx(Rt,{className:"w-3.5 h-3.5",style:{color:w.green}}),o.jsx("span",{style:{color:w.green},className:"text-xs font-medium",children:"Verified Investor"})]})]})}),o.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 -mx-4 px-4 lg:mx-0 lg:px-0",children:ae.map(B=>o.jsxs("button",{onClick:()=>r(B.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm whitespace-nowrap transition-all ${s===B.id?"text-white shadow-lg":"bg-white text-gray-600"}`,style:s===B.id?{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`}:{},children:[o.jsx(B.icon,{className:"w-4 h-4"}),B.label]},B.id))}),s==="profile"&&o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Profile Information"}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 lg:gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Full Name"}),o.jsx("input",{type:"text",value:i.name,onChange:B=>a({...i,name:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:i.email,onChange:B=>a({...i,email:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Phone Number"}),o.jsx("input",{type:"tel",value:i.phone,onChange:B=>a({...i,phone:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:"Address"}),o.jsx("input",{type:"text",value:i.address,onChange:B=>a({...i,address:B.target.value}),className:"w-full px-4 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base"})]})]}),o.jsx(U.button,{onClick:ve,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:E?o.jsxs(o.Fragment,{children:[o.jsx(Rt,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Saved!"]}):o.jsx(o.Fragment,{children:"Save Changes"})})]}),s==="security"&&o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Change Password"}),o.jsx("div",{className:"space-y-4 max-w-md",children:[{key:"current",label:"Current Password",icon:nr},{key:"new",label:"New Password",icon:Ru},{key:"confirm",label:"Confirm New Password",icon:Ru}].map(B=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1.5 lg:mb-2",children:B.label}),o.jsxs("div",{className:"relative",children:[o.jsx(B.icon,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 lg:w-5 lg:h-5 text-gray-400"}),o.jsx("input",{type:d[B.key]?"text":"password",value:l[B.key],onChange:re=>u({...l,[B.key]:re.target.value}),className:"w-full pl-11 lg:pl-12 pr-12 py-2.5 lg:py-3 border border-gray-200 rounded-xl focus:outline-none text-sm lg:text-base",placeholder:""}),o.jsx("button",{onClick:()=>f({...d,[B.key]:!d[B.key]}),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400",children:d[B.key]?o.jsx(q2,{className:"w-4 h-4 lg:w-5 lg:h-5"}):o.jsx(G2,{className:"w-4 h-4 lg:w-5 lg:h-5"})})]})]},B.key))}),o.jsx(U.button,{onClick:He,whileHover:{scale:1.02},whileTap:{scale:.98},className:"mt-6 px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold flex items-center gap-2 text-sm lg:text-base",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:E?o.jsxs(o.Fragment,{children:[o.jsx(Rt,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Updated!"]}):o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"w-4 h-4 lg:w-5 lg:h-5"})," Update Password"]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-1 lg:mb-2",style:{color:w.navy},children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:"Extra security layer for your account"})]}),o.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${M?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:M?" Enabled":"Disabled"})]}),M?o.jsxs(U.button,{onClick:()=>{confirm("Are you sure you want to disable 2FA?")&&($r.disable2FA(t==null?void 0:t.uid),O(!1))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2 bg-red-50 text-red-600",children:[o.jsx(Pa,{className:"w-4 h-4"})," Disable 2FA"]}):o.jsx("div",{children:I?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:["A verification code has been sent to ",o.jsx("strong",{children:t==null?void 0:t.email})]}),o.jsx("input",{type:"text",value:v,onChange:B=>N(B.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-center text-2xl font-mono tracking-widest",placeholder:"000000",maxLength:"6"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2.5 rounded-xl border border-gray-200 text-sm",children:"Cancel"}),o.jsx(U.button,{onClick:()=>{const B=$r.verify2FACode(t==null?void 0:t.uid,v);B.valid?($r.enable2FA(t==null?void 0:t.uid),O(!0),_(!1),N(""),alert(" Two-Factor Authentication enabled!")):alert(" "+B.message)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:P?"Verifying...":"Verify & Enable"})]})]}):o.jsxs(U.button,{onClick:()=>{$r.send2FACode(t==null?void 0:t.uid,t==null?void 0:t.email),_(!0)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl font-medium flex items-center justify-center gap-2",style:{background:`${w.green}15`,color:w.green},children:[o.jsx(Pa,{className:"w-4 h-4"})," Enable 2FA"]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-xl mb-4 lg:mb-6",style:{color:w.navy},children:"Login Activity"}),o.jsx("div",{className:"space-y-3",children:[{device:"Chrome on Windows",location:"New York",time:"Now",current:!0},{device:"Safari on iPhone",location:"New York",time:"1 day ago",current:!1}].map((B,re)=>o.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(IR,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:B.device}),o.jsxs("p",{className:"text-xs text-gray-500",children:[B.location,"  ",B.time]})]})]}),B.current&&o.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{background:`${w.green}15`,color:w.green},children:"Current"})]},re))})]})]}),s==="language"&&o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"Language Settings"}),o.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Select your preferred language"}),o.jsx("div",{className:"p-4 rounded-xl mb-6",style:{background:`${w.gold}15`},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:w.gold},children:o.jsx(ao,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",style:{color:w.navy},children:"Current Language"}),o.jsx("p",{className:"text-sm text-gray-500",children:de})]})]})}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-[400px] overflow-y-auto",children:Object.entries(Jw).map(([B,re])=>o.jsxs("button",{onClick:()=>{localStorage.setItem("saxovault_language",B),window.location.reload()},className:`p-3 rounded-xl text-left text-sm font-medium transition-all ${Q===B?"text-white shadow-lg":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,style:Q===B?{background:w.navy}:{},children:[re,Q===B&&o.jsx(tr,{className:"w-4 h-4 inline ml-2"})]},B))}),o.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[o.jsx(wR,{className:"w-4 h-4 inline mr-2"}),"Language is automatically detected from your browser settings. You can manually change it above."]})})]}),s==="kyc"&&o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-2",style:{color:w.navy},children:"KYC Verification"}),o.jsx("p",{className:"text-gray-500 text-sm mb-6 lg:mb-8",children:"Complete verification to unlock all features"}),h==="verified"?o.jsxs("div",{className:"text-center py-8 lg:py-12",children:[o.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${w.green}20`},children:o.jsx(Rt,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:w.green}})}),o.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:w.navy},children:"Verified"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Your identity has been verified."})]}):h==="submitted"?o.jsxs("div",{className:"text-center py-8 lg:py-12",children:[o.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 mx-auto rounded-full flex items-center justify-center mb-4 lg:mb-6",style:{background:`${w.gold}20`},children:o.jsx(oo,{className:"w-12 h-12 lg:w-14 lg:h-14",style:{color:w.gold}})}),o.jsx("h3",{className:"font-serif text-xl lg:text-2xl mb-2",style:{color:w.navy},children:"Under Review"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"We're reviewing your documents (1-2 business days)."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex items-center justify-center mb-6 lg:mb-8",children:[1,2,3].map(B=>o.jsxs(nd.Fragment,{children:[o.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center font-bold text-sm ${y>=B?"text-white":"bg-gray-200 text-gray-500"}`,style:y>=B?{background:w.navy}:{},children:y>B?o.jsx(tr,{className:"w-4 h-4"}):B}),B<3&&o.jsx("div",{className:`w-12 lg:w-20 h-1 mx-1 lg:mx-2 ${y>B?"bg-green-500":"bg-gray-200"}`})]},B))}),y===1&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Personal Information"}),o.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Full Legal Name"}),o.jsx("input",{type:"text",defaultValue:t.name,placeholder:"As shown on ID",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Date of Birth"}),o.jsx("input",{type:"date",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Number"}),o.jsx("input",{type:"text",placeholder:"Enter your ID number",className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"ID Type"}),o.jsxs("select",{className:"w-full px-4 py-3 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select ID Type"}),o.jsx("option",{value:"passport",children:"International Passport"}),o.jsx("option",{value:"drivers_license",children:"Driver's License"}),o.jsx("option",{value:"national_id",children:"National ID Card"}),o.jsx("option",{value:"residence_permit",children:"Residence Permit"})]})]})]})]}),y===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Upload Documents"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-6 lg:p-8 text-center cursor-pointer hover:border-gray-300",children:[o.jsx(Un,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Upload ID (Front)"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG or PDF"})]}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-6 lg:p-8 text-center cursor-pointer hover:border-gray-300",children:[o.jsx(Un,{className:"w-10 h-10 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Upload ID (Back)"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG or PDF"})]})]}),y===3&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold",style:{color:w.navy},children:"Take a Selfie"}),o.jsx("p",{className:"text-gray-500 text-sm",children:"Hold your ID next to your face"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 lg:p-12 text-center cursor-pointer hover:border-gray-300",children:[o.jsx(xm,{className:"w-14 h-14 mx-auto text-gray-400 mb-3"}),o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:"Take or Upload Selfie"})]})]}),o.jsxs("div",{className:"flex justify-between mt-6 lg:mt-8",children:[y>1&&o.jsx("button",{onClick:()=>b(y-1),className:"px-6 py-2.5 rounded-xl font-medium text-gray-600 hover:bg-gray-100 text-sm",children:"Back"}),o.jsx(U.button,{onClick:()=>y<3?b(y+1):Z(),whileHover:{scale:1.02},whileTap:{scale:.98},className:"ml-auto px-6 lg:px-8 py-2.5 lg:py-3 rounded-xl text-white font-semibold text-sm",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:y===3?"Submit":"Continue"})]})]})]}),s==="notifications"&&o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl lg:rounded-3xl shadow-xl p-5 lg:p-8",children:[o.jsx("h2",{className:"font-serif text-lg lg:text-2xl mb-4 lg:mb-6",style:{color:w.navy},children:"Notifications"}),o.jsx("div",{className:"space-y-4",children:[{title:"Investment Updates",desc:"Portfolio performance alerts",enabled:!0},{title:"New Opportunities",desc:"New investment alerts",enabled:!0},{title:"Payouts",desc:"Payout notifications",enabled:!0},{title:"Referral Bonuses",desc:"Earn alerts from referrals",enabled:!0},{title:"Marketing",desc:"Promotional emails",enabled:!1}].map((B,re)=>o.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 bg-gray-50 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:B.title}),o.jsx("p",{className:"text-xs text-gray-500",children:B.desc})]}),o.jsx("button",{className:`w-11 h-6 lg:w-12 lg:h-7 rounded-full transition-colors ${B.enabled?"":"bg-gray-300"}`,style:B.enabled?{background:w.green}:{},children:o.jsx("div",{className:`w-4 h-4 lg:w-5 lg:h-5 bg-white rounded-full shadow transition-transform ${B.enabled?"translate-x-6":"translate-x-1"}`})})]},re))})]}),o.jsxs(U.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full mt-6 py-3.5 rounded-xl text-red-500 font-semibold bg-red-50 flex items-center justify-center gap-2 lg:hidden",children:[o.jsx(lo,{className:"w-5 h-5"})," Logout"]})]})})}const Xw={email:"saxovaultadmin@saxovault.com",password:"SaxoAdmin2024!"},te={getUsers:()=>JSON.parse(localStorage.getItem("saxovault_users")||"[]"),setUsers:t=>localStorage.setItem("saxovault_users",JSON.stringify(t)),fetchUsersFromCloud:async()=>{try{const t=await GL();return t.success?(localStorage.setItem("saxovault_users",JSON.stringify(t.data)),t.data):te.getUsers()}catch(t){return console.error("Error fetching users from cloud:",t),te.getUsers()}},getTransactions:()=>JSON.parse(localStorage.getItem("saxovault_transactions")||"[]"),setTransactions:t=>localStorage.setItem("saxovault_transactions",JSON.stringify(t)),fetchTransactionsFromCloud:async()=>{try{const t=await QL();return t.success?(localStorage.setItem("saxovault_transactions",JSON.stringify(t.data)),t.data):te.getTransactions()}catch(t){return console.error("Error fetching transactions from cloud:",t),te.getTransactions()}},addTransaction:async t=>{var s;const e={...t,id:Date.now().toString(),createdAt:new Date().toISOString(),status:"pending"};try{const r=await KL(e);r.success&&(e.firestoreId=r.id,console.log(" Transaction saved to Firestore"))}catch(r){console.error(" Error saving to Firestore:",r)}const n=te.getTransactions();return n.unshift(e),te.setTransactions(n),te.notifyAdmin({type:t.type,title:`New ${t.type} Request`,message:`$${(s=t.amount)==null?void 0:s.toLocaleString()} ${t.type} from ${t.userEmail||"user"}`,urgent:!0,actionRequired:!0}),e},updateTransaction:async(t,e)=>{try{await YL(t,e),console.log(" Transaction updated in Firestore")}catch(r){console.error(" Error updating in Firestore:",r)}const s=te.getTransactions().map(r=>r.id===t||r.firestoreId===t?{...r,...e}:r);te.setTransactions(s)},updateUser:async(t,e)=>{try{await fy(t,e),console.log(" User updated in Firestore")}catch(s){console.error(" Error updating user in Firestore:",s)}const n=localStorage.getItem(`user_${t}`);if(n){const s=JSON.parse(n);localStorage.setItem(`user_${t}`,JSON.stringify({...s,...e}))}},getSettings:()=>JSON.parse(localStorage.getItem("saxovault_settings")||JSON.stringify({wallets:{btc:"bc1qzmgg6hw0fttfpczh2whp8f44k497d6pucghk58",eth:"0x83057882eC7B7EE0cBe63C2fE2b8957e7ab69655",usdt:"TLGH9FucAuPNUoQw2XUFEDtCg4FFdJ2jKG"},whatsapp:"+14642395280",email:"support@saxovault.com",siteName:"SaxoVault Capital"})),setSettings:t=>localStorage.setItem("saxovault_settings",JSON.stringify(t)),getNotifications:()=>JSON.parse(localStorage.getItem("saxovault_notifications")||"[]"),addNotification:t=>{const e=te.getNotifications();e.unshift({...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_notifications",JSON.stringify(e.slice(0,100)))},getAdminNotifications:()=>JSON.parse(localStorage.getItem("saxovault_admin_notifs")||"[]"),notifyAdmin:t=>{const e=te.getAdminNotifications(),n={...t,id:Date.now(),read:!1,createdAt:new Date().toISOString()};if(e.unshift(n),localStorage.setItem("saxovault_admin_notifs",JSON.stringify(e.slice(0,200))),localStorage.getItem("saxovault_admin")==="true")try{const s=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQABMjV4wdvqhBwIPnyV0+TkeEU5Un+13e6ZRxcnOFJsocHn04FGNjBIYZi+4t6QSjE0SGqay+LYglM4M0NTfqrN3tCMaD0wP0pqpcnc3I5kOC9AWGyiwtff");s.volume=.3,s.play().catch(()=>{})}catch{}return n},markAdminNotifRead:t=>{const n=te.getAdminNotifications().map(s=>s.id===t?{...s,read:!0}:s);localStorage.setItem("saxovault_admin_notifs",JSON.stringify(n))},queueEmail:t=>{const e=JSON.parse(localStorage.getItem("saxovault_email_queue")||"[]");e.push({...t,id:Date.now(),status:"queued",createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_email_queue",JSON.stringify(e))},logActivity:(t,e,n)=>{const s=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");s.unshift({id:Date.now(),userId:t,action:e,details:n,ip:"xxx.xxx.xxx.xxx",userAgent:navigator.userAgent,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_activity_logs",JSON.stringify(s.slice(0,500)))},getActivityLogs:t=>{const e=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"[]");return t?e.filter(n=>n.userId===t):e},getAutoInvestPlans:t=>{const e=JSON.parse(localStorage.getItem("saxovault_autoinvest")||"[]");return t?e.filter(n=>n.userId===t):e},saveAutoInvestPlan:t=>{const e=te.getAutoInvestPlans(),n=e.findIndex(s=>s.id===t.id);n>=0?e[n]=t:e.push({...t,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))},deleteAutoInvestPlan:t=>{const e=te.getAutoInvestPlans().filter(n=>n.id!==t);localStorage.setItem("saxovault_autoinvest",JSON.stringify(e))}},Ur={publicKey:"trmaHaGeZzBpjKtaj",serviceId:"service_ibr21lg",templateId:"template_kskirgx",adminEmail:"saxovault6@gmail.com"};try{ym.init(Ur.publicKey),console.log(" EmailJS initialized successfully")}catch(t){console.error(" EmailJS init failed:",t)}const Pe={getAdminEmail:()=>Ur.adminEmail,testEmail:async t=>{console.log(" Testing EmailJS with:",t);try{const e=await ym.send(Ur.serviceId,Ur.templateId,{to_email:t,subject:"SaxoVault Test Email",message:"This is a test email from SaxoVault. If you received this, EmailJS is working correctly!",from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"});return console.log(" Test email sent successfully!",e),alert("Test email sent! Check your inbox."),{success:!0,result:e}}catch(e){return console.error(" Test email failed:",e),alert("Test email failed: "+((e==null?void 0:e.text)||(e==null?void 0:e.message)||"Unknown error")),{success:!1,error:e}}},sendEmail:async(t,e,n,s="notification")=>{if(console.log(" Sending email:",{to:t,subject:e.substring(0,50)+"...",type:s}),!t||!e)return console.error(" Missing email or subject"),{success:!1,message:"Missing email or subject"};try{const r={to_email:t,subject:e,message:n,from_name:"SaxoVault Capital",reply_to:"support@saxovault.com"};console.log(" Template params:",{to_email:t,subject:e,messageLength:n.length});const i=await ym.send(Ur.serviceId,Ur.templateId,r);return console.log(" Email sent!",{to:t,status:i.status,text:i.text}),te.queueEmail({to:t,subject:e,type:s,status:"sent",createdAt:new Date().toISOString()}),{success:!0,response:i}}catch(r){return console.error(" Email failed:",r),console.error("Details:",{text:r==null?void 0:r.text,message:r==null?void 0:r.message,status:r==null?void 0:r.status}),te.queueEmail({to:t,subject:e,type:s,status:"failed",error:(r==null?void 0:r.text)||(r==null?void 0:r.message),createdAt:new Date().toISOString()}),{success:!1,error:(r==null?void 0:r.text)||(r==null?void 0:r.message)}}},sendAdminNotification:async(t,e)=>(console.log(" Sending ADMIN notification:",t),await Pe.sendEmail(Ur.adminEmail,t,e,"admin")),sendDepositNotification:async(t,e,n)=>{const s=`Deposit Request - $${e.toLocaleString()} ${n}`,r=`Hello,

Your deposit request has been received!

Amount: $${e.toLocaleString()}
Payment Method: ${n}
Status: Pending Confirmation

Your funds will be credited once confirmed (usually 10-30 minutes).

Thank you,
SaxoVault Capital`,i=await Pe.sendEmail(t,s,r,"deposit"),a=` [DEPOSIT] $${e.toLocaleString()} from ${t}`,l=`
       NEW DEPOSIT REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Method: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Review in admin panel

`;return await Pe.sendAdminNotification(a,l),i},sendWithdrawalNotification:async(t,e,n)=>{const s=`Withdrawal Request - $${e.toLocaleString()}`,r=`Hello,

Your withdrawal request has been submitted.

Amount: $${e.toLocaleString()}
Destination: ${n}
Status: Under Review

Processing time: 24-48 hours after approval.

Thank you,
SaxoVault Capital`,i=await Pe.sendEmail(t,s,r,"withdrawal"),a=` [WITHDRAWAL] $${e.toLocaleString()} from ${t}`,l=`
      NEW WITHDRAWAL REQUEST


 User: ${t}
 Amount: $${e.toLocaleString()}
 Wallet: ${n}
 Time: ${new Date().toLocaleString()}

Action Required: Approve/Reject in admin panel

`;return await Pe.sendAdminNotification(a,l),i},sendInvestmentNotification:async(t,e,n,s)=>{const r=`Investment Activated - ${e}`,i=`Hello,

Your investment has been activated!

Investment: ${e}
Amount: $${n.toLocaleString()}
Duration: ${s||"As specified"}
Status: Active

You can track your investment in the dashboard.

Thank you,
SaxoVault Capital`,a=await Pe.sendEmail(t,r,i,"investment"),l=` [INVESTMENT] $${n.toLocaleString()} - ${e}`,u=`
      NEW INVESTMENT ACTIVATION


 User: ${t}
 Plan: ${e}
 Amount: $${n.toLocaleString()}
 Duration: ${s||"N/A"}
 Time: ${new Date().toLocaleString()}

`;return await Pe.sendAdminNotification(l,u),a},sendKYCNotification:async(t,e,n)=>{const s="KYC Verification Submitted",r=`Hello ${e||""},

Your KYC verification documents have been submitted successfully.

Document Type: ${n||"ID Document"}
Status: Under Review

Our team will verify your documents within 24-48 hours.

Thank you,
SaxoVault Capital`,i=await Pe.sendEmail(t,s,r,"kyc"),a=` [KYC] New Submission from ${t}`,l=`
        NEW KYC SUBMISSION


 User: ${e||"N/A"}
 Email: ${t}
 Document Type: ${n||"ID Document"}
 Submitted: ${new Date().toLocaleString()}

Action Required: Verify documents in admin panel

`;return await Pe.sendAdminNotification(a,l),i},sendNewUserNotification:async(t,e,n)=>{const s=` [NEW USER] ${e||t} just registered`,r=`
         NEW USER REGISTRATION


 Name: ${e||"N/A"}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}

`;return await Pe.sendAdminNotification(s,r)},sendLoginNotification:async(t,e,n)=>{const s=` [LOGIN] ${t} logged in`,r=`User Login Activity

 User: ${e||t}
 Email: ${t}
 Method: ${n||"Email"}
 Time: ${new Date().toLocaleString()}`;return await Pe.sendAdminNotification(s,r)},sendReferralNotification:async(t,e)=>{const n="New Referral Signup!",s=`Hello,

Someone signed up using your referral link!

New User: ${e}
Your Bonus: 1% of their deposits

Keep sharing to earn more!

Thank you,
SaxoVault Capital`;return await Pe.sendEmail(t,n,s,"referral")},send2FACode:async(t,e)=>{const n=`Security Code: ${e}`,s=`Your SaxoVault verification code:

${e}

This code expires in 5 minutes.
Never share this code with anyone.

SaxoVault Capital`;return await Pe.sendEmail(t,n,s,"2fa")},sendBroadcast:async(t,e,n)=>{const s=[];for(const r of t){const i=await Pe.sendEmail(r.email,e,n,"broadcast");s.push({email:r.email,...i})}return s},sendStatusUpdate:async(t,e,n,s,r="")=>{const i=`${e} ${n}`,a=`Hello,

Your ${e} has been ${n}.

Amount: $${(s==null?void 0:s.toLocaleString())||"N/A"}
Status: ${n.toUpperCase()}
${r?`Note: ${r}`:""}

Thank you,
SaxoVault Capital`;return await Pe.sendEmail(t,i,a,"status")}};typeof window<"u"&&(window.EmailService=Pe);const $r={generate2FACode:()=>Math.floor(1e5+Math.random()*9e5).toString(),store2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}");return n[t]={code:e,createdAt:Date.now(),expires:Date.now()+5*60*1e3},localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),e},verify2FACode:(t,e)=>{const n=JSON.parse(localStorage.getItem("saxovault_2fa_codes")||"{}"),s=n[t];return s?Date.now()>s.expires?{valid:!1,message:"Code expired"}:s.code!==e?{valid:!1,message:"Invalid code"}:(delete n[t],localStorage.setItem("saxovault_2fa_codes",JSON.stringify(n)),{valid:!0,message:"Verified"}):{valid:!1,message:"No code found"}},send2FACode:(t,e)=>{const n=$r.generate2FACode();return $r.store2FACode(t,n),Pe.send2FACode(e,n),n},is2FAEnabled:t=>{var n;return((n=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}")[t])==null?void 0:n.enabled)||!1},enable2FA:t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!0,enabledAt:new Date().toISOString()},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e))},disable2FA:t=>{const e=JSON.parse(localStorage.getItem("saxovault_user_2fa")||"{}");e[t]={enabled:!1},localStorage.setItem("saxovault_user_2fa",JSON.stringify(e))}};function I6({onClose:t,user:e}){const[n,s]=D.useState("weekly"),[r,i]=D.useState(100),[a,l]=D.useState(null),[u,d]=D.useState([]),f=JSON.parse(localStorage.getItem("saxovault_investments")||"null")||zl;D.useEffect(()=>{d(te.getAutoInvestPlans(e==null?void 0:e.uid))},[e]);const h=[{id:"daily",label:"Daily",desc:"Every day"},{id:"weekly",label:"Weekly",desc:"Every Monday"},{id:"biweekly",label:"Bi-Weekly",desc:"Every 2 weeks"},{id:"monthly",label:"Monthly",desc:"1st of each month"}],p=()=>{if(!a||r<50){alert("Please select an investment and enter at least $50");return}const E={userId:e==null?void 0:e.uid,investmentId:a.id,investmentName:a.name,amount:r,frequency:n,status:"active",nextExecution:y(n),totalInvested:0,executionCount:0};te.saveAutoInvestPlan(E),d([...u,E]),l(null),i(100),te.addNotification({type:"autoinvest",message:`Auto-invest plan created: $${r}/${n} into ${a.name}`})},y=E=>{const A=new Date;switch(E){case"daily":return new Date(A.setDate(A.getDate()+1)).toISOString();case"weekly":return new Date(A.setDate(A.getDate()+(7-A.getDay()+1)%7+1)).toISOString();case"biweekly":return new Date(A.setDate(A.getDate()+14)).toISOString();case"monthly":return new Date(A.getFullYear(),A.getMonth()+1,1).toISOString();default:return new Date(A.setDate(A.getDate()+7)).toISOString()}},b=E=>{confirm("Delete this auto-invest plan?")&&(te.deleteAutoInvestPlan(E),d(u.filter(A=>A.id!==E)))};return o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:o.jsxs(U.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",onClick:E=>E.stopPropagation(),children:[o.jsx("div",{className:"p-6 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"font-serif text-xl",style:{color:w.navy},children:[o.jsx(bm,{className:"w-5 h-5 inline mr-2 text-yellow-500"}),"Auto-Invest Plans"]}),o.jsx("p",{className:"text-sm text-gray-500",children:"Set up recurring investments automatically"})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:o.jsx(fn,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"p-6",children:[u.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"font-medium text-sm text-gray-700 mb-3",children:"Active Plans"}),o.jsx("div",{className:"space-y-2",children:u.map(E=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:E.investmentName}),o.jsxs("p",{className:"text-xs text-gray-500",children:["$",E.amount,"/",E.frequency]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${E.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:E.status}),o.jsx("button",{onClick:()=>b(E.id),className:"p-1.5 hover:bg-red-100 rounded text-red-500",children:o.jsx(eN,{className:"w-4 h-4"})})]})]},E.id))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Investment"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:f.slice(0,8).map(E=>o.jsxs("button",{onClick:()=>l(E),className:`p-3 rounded-xl text-left text-sm transition-all ${(a==null?void 0:a.id)===E.id?"ring-2 bg-blue-50":"bg-gray-50 hover:bg-gray-100"}`,style:(a==null?void 0:a.id)===E.id?{ringColor:w.navy}:{},children:[o.jsx("p",{className:"font-medium truncate",style:{color:w.navy},children:E.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[E.returns," returns"]})]},E.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount per Investment"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),o.jsx("input",{type:"number",value:r,onChange:E=>i(Math.max(50,+E.target.value)),className:"w-full pl-8 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2",style:{"--tw-ring-color":w.navy},min:"50"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum $50 per investment"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequency"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(E=>o.jsxs("button",{onClick:()=>s(E.id),className:`p-3 rounded-xl text-left transition-all ${n===E.id?"text-white":"bg-gray-50 hover:bg-gray-100"}`,style:n===E.id?{background:w.navy}:{},children:[o.jsx("p",{className:"font-medium text-sm",children:E.label}),o.jsx("p",{className:`text-xs ${n===E.id?"text-white/70":"text-gray-500"}`,children:E.desc})]},E.id))})]}),a&&o.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${w.green}10`},children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"You'll invest"}),o.jsxs("p",{className:"text-2xl font-bold",style:{color:w.navy},children:["$",r," / ",n]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["into ",a.name]})]}),o.jsxs(U.button,{onClick:p,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!a,className:"w-full py-4 rounded-xl text-white font-semibold disabled:opacity-50",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[o.jsx(bm,{className:"w-5 h-5 inline mr-2"}),"Create Auto-Invest Plan"]})]})]})]})})}function k6({onLogin:t}){const[e,n]=D.useState(""),[s,r]=D.useState(""),[i,a]=D.useState(""),[l,u]=D.useState(!1),d=f=>{f.preventDefault(),u(!0),a(""),setTimeout(()=>{e===Xw.email&&s===Xw.password?(localStorage.setItem("saxovault_admin","true"),t()):a("Invalid admin credentials"),u(!1)},1e3)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl flex items-center justify-center mb-4",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:o.jsx(co,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"font-serif text-2xl",style:{color:w.navy},children:"Admin Portal"}),o.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"SaxoVault Capital Management"})]}),i&&o.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[o.jsx(Aa,{className:"w-4 h-4"})," ",i]}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Admin Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Xn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"email",value:e,onChange:f=>n(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@saxovault.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"password",value:s,onChange:f=>r(f.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0})]})]}),o.jsx(U.button,{type:"submit",disabled:l,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3.5 rounded-xl text-white font-semibold flex items-center justify-center gap-3",style:{background:`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:l?o.jsx(Fn,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(co,{className:"w-5 h-5"})," Access Admin Panel"]})})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("a",{href:"/",className:"text-sm text-gray-500 hover:underline",children:" Back to Website"})})]})})}function j6({onLogout:t}){var tt,lt,Er;const[e,n]=D.useState("overview"),[s,r]=D.useState([]),[i,a]=D.useState([]),[l,u]=D.useState(te.getSettings()),[d,f]=D.useState(te.getNotifications()),[h,p]=D.useState(null),[y,b]=D.useState(!0);D.useEffect(()=>{(async()=>{b(!0);try{const le=await te.fetchUsersFromCloud();r(le);const Ir=await te.fetchTransactionsFromCloud();a(Ir),console.log(" Admin data loaded from Firestore:",le.length,"users,",Ir.length,"transactions")}catch(le){console.error("Error loading data:",le),r(te.getUsers()),a(te.getTransactions())}b(!1)})();const ee=XL(le=>{r(le),te.setUsers(le)}),G=JL(le=>{a(le),te.setTransactions(le)});return()=>{ee&&ee(),G&&G()}},[]);const E=s.length,A=i.filter(C=>C.type==="deposit"&&C.status==="completed").reduce((C,ee)=>C+(parseFloat(ee.amount)||0),0),k=i.filter(C=>C.type==="deposit"&&C.status==="pending").length,x=i.filter(C=>C.type==="withdrawal"&&C.status==="pending").length,S=async(C,ee)=>{const G=s.map(le=>le.uid===C?{...le,...ee}:le);r(G),await te.updateUser(C,ee),te.addNotification({type:"user_update",message:"User updated successfully"}),p(null)},V=async(C,ee)=>{const G=i.find(be=>be.id===C||be.firestoreId===C),le={status:ee,updatedAt:new Date().toISOString()};if(G&&ee==="completed"&&G.type==="investment"){const be=new Date,Ue=G.totalDays||30,nt=new Date(be);nt.setDate(nt.getDate()+Ue),le.approvalDate=be.toISOString(),le.maturityDate=nt.toISOString(),le.countdownStarted=!0,le.countdownEndsAt=nt.toISOString(),console.log(` Investment ${G.investmentName} approved!`),console.log(`   Countdown started: ${be.toISOString()}`),console.log(`   Maturity date: ${nt.toISOString()} (${Ue} days)`)}const Ir=i.map(be=>be.id===C||be.firestoreId===C?{...be,...le}:be);if(a(Ir),await te.updateTransaction(C,le),G&&ee==="completed"&&G.type==="deposit"){const be=s.find(Ue=>Ue.uid===G.userId||Ue.email===G.userEmail);if(be){const Ue=(parseFloat(be.balance)||0)+parseFloat(G.amount);await te.updateUser(be.uid,{balance:Ue}),r(s.map(nt=>nt.uid===be.uid?{...nt,balance:Ue}:nt)),console.log(` User ${be.email} balance updated to $${Ue}`)}}if(G&&ee==="completed"&&G.type==="withdrawal"){const be=s.find(Ue=>Ue.uid===G.userId||Ue.email===G.userEmail);if(be){const Ue=Math.max(0,(parseFloat(be.balance)||0)-parseFloat(G.amount));await te.updateUser(be.uid,{balance:Ue}),r(s.map(nt=>nt.uid===be.uid?{...nt,balance:Ue}:nt)),console.log(` User ${be.email} balance updated to $${Ue} after withdrawal`)}}if(G&&ee==="completed"&&G.type==="investment"){const Ue=JSON.parse(localStorage.getItem(`investments_${G.userId}`)||"[]").map(nt=>nt.investmentId===G.investmentId?{...nt,...le}:nt);localStorage.setItem(`investments_${G.userId}`,JSON.stringify(Ue)),console.log(` Investment countdown started for ${G.userEmail}`)}te.addNotification({type:"tx_update",message:`Transaction ${ee}`})},M=C=>{u(C),te.setSettings(C),te.addNotification({type:"settings_update",message:"Settings updated successfully"}),alert("Settings saved successfully!")},O=JSON.parse(localStorage.getItem("saxovault_tickets")||"[]"),I=O.filter(C=>C.status==="open").length,[_,v]=D.useState(()=>{const C=localStorage.getItem("saxovault_investments");return C?JSON.parse(C):zl}),[N,P]=D.useState(null),[R,j]=D.useState(!1),[Q,de]=D.useState({name:"",category:"Real Estate",type:"real-estate",min:1e3,returns:"10-15%",term:"12 months",desc:"",status:"Funding",progress:0,goal:1e6}),ve=C=>{let ee;C.id?ee=_.map(G=>G.id===C.id?C:G):(C.id=Date.now(),ee=[..._,C]),v(ee),localStorage.setItem("saxovault_investments",JSON.stringify(ee)),te.addNotification({type:"investment",message:C.id?"Investment updated":"Investment added"}),P(null),j(!1)},He=C=>{if(confirm("Are you sure you want to delete this investment?")){const ee=_.filter(G=>G.id!==C);v(ee),localStorage.setItem("saxovault_investments",JSON.stringify(ee)),te.addNotification({type:"investment",message:"Investment deleted"})}},[W,Z]=D.useState(!1),[ae,B]=D.useState(!1),[re,at]=D.useState(null),[De,qt]=D.useState(""),[We,Lt]=D.useState(""),[Kn,Qn]=D.useState(""),[kn,rn]=D.useState(""),Co=()=>{if(!De||!We){alert("Please enter both title and message");return}const C={id:Date.now(),type:"broadcast",title:De,message:We,sentAt:new Date().toISOString(),recipients:s.length},ee=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([C,...ee]));const G=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");s.forEach(le=>{G[le.uid]||(G[le.uid]=[]),G[le.uid].unshift({...C,read:!1})}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(G)),te.addNotification({type:"broadcast",message:`Broadcast sent to ${s.length} users`}),qt(""),Lt(""),Z(!1),alert(` Message sent to ${s.length} users!`)},Po=()=>{if(!Kn||!kn||!re){alert("Please enter both subject and message");return}const C={id:Date.now(),type:"personal",title:Kn,message:kn,sentAt:new Date().toISOString(),recipient:re.email,recipientId:re.uid},ee=JSON.parse(localStorage.getItem("saxovault_messages")||"[]");localStorage.setItem("saxovault_messages",JSON.stringify([C,...ee]));const G=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");G[re.uid]||(G[re.uid]=[]),G[re.uid].unshift({...C,read:!1}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(G)),te.addNotification({type:"personal_msg",message:`Message sent to ${re.email}`}),Qn(""),rn(""),at(null),B(!1),alert(` Message sent to ${re.name||re.email}!`)},jn=JSON.parse(localStorage.getItem("saxovault_pending_investments")||"[]"),Yd=jn.filter(C=>C.status==="pending").length,Ro=C=>{const ee=jn.map(le=>le.id===C.id?{...le,status:"approved",approvedAt:new Date().toISOString()}:le);localStorage.setItem("saxovault_pending_investments",JSON.stringify(ee));const G=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");G[C.userEmail]||(G[C.userEmail]=[]),G[C.userEmail].unshift({id:Date.now(),type:"investment_approved",title:" Investment Approved!",message:`Your $${C.amount.toLocaleString()} investment in ${C.investmentName} has been approved.`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(G)),te.addNotification({type:"investment_approved",message:`Investment approved: $${C.amount.toLocaleString()}`}),alert("Investment approved!"),window.location.reload()},Do=C=>{if(!confirm("Are you sure you want to reject this investment?"))return;const ee=jn.map(G=>G.id===C.id?{...G,status:"rejected",rejectedAt:new Date().toISOString()}:G);localStorage.setItem("saxovault_pending_investments",JSON.stringify(ee)),te.addNotification({type:"investment_rejected",message:`Investment rejected: $${C.amount.toLocaleString()}`}),alert("Investment rejected."),window.location.reload()},Hl=[{id:"overview",name:"Overview",icon:fg},{id:"users",name:"Users",icon:Du},{id:"transactions",name:"Transactions",icon:H2},{id:"pending",name:"Pending",icon:oo,badge:Yd},{id:"investments",name:"Investments",icon:Jr},{id:"tickets",name:"Tickets",icon:X2,badge:I},{id:"website",name:"Website Editor",icon:ao},{id:"branding",name:"Branding",icon:_R},{id:"payments",name:"Payment Methods",icon:vv},{id:"platform",name:"Platform Config",icon:_m}];return o.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[o.jsxs("div",{className:"bg-white shadow-md px-4 lg:px-6 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${w.gold} 0%, ${w.goldDark} 100%)`},children:o.jsx(W2,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-serif text-lg lg:text-xl",style:{color:w.navy},children:"Admin Dashboard"}),o.jsx("p",{className:"text-gray-500 text-xs",children:"SaxoVault Capital"})]})]}),o.jsxs(U.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 lg:px-4 py-2 rounded-xl bg-red-50 text-red-600 hover:bg-red-100 text-sm",children:[o.jsx(lo,{className:"w-4 h-4"})," ",o.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row",children:[o.jsx("div",{className:"lg:w-64 bg-white shadow-lg lg:min-h-screen",children:o.jsx("div",{className:"flex lg:flex-col overflow-x-auto lg:overflow-x-visible p-2 lg:p-4 gap-2",children:Hl.map(C=>o.jsxs(U.button,{onClick:()=>n(C.id),whileTap:{scale:.98},className:`flex items-center gap-2 lg:gap-3 px-3 lg:px-4 py-2 lg:py-3 rounded-xl whitespace-nowrap transition-all ${e===C.id?"shadow-md":"hover:bg-gray-50"}`,style:e===C.id?{background:`${w.navy}10`,color:w.navy}:{color:"#6b7280"},children:[o.jsx(C.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),o.jsx("span",{className:"font-medium text-sm",children:C.name}),C.id==="transactions"&&k+x>0&&o.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-red-500 text-white",children:k+x}),C.id==="tickets"&&I>0&&o.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs bg-purple-500 text-white",children:I})]},C.id))})}),o.jsxs("div",{className:"flex-1 p-4 lg:p-6",children:[e==="overview"&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Dashboard Overview"}),(()=>{const C=te.getAdminNotifications().filter(ee=>ee.actionRequired&&!ee.read);return C.length===0?null:o.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:o.jsx(er,{className:"w-5 h-5 text-red-600 animate-pulse"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-red-800",children:"Action Required"}),o.jsxs("p",{className:"text-sm text-red-600",children:[C.length," notification(s) need your attention"]})]})]}),o.jsx("div",{className:"space-y-2",children:C.slice(0,5).map((ee,G)=>o.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg p-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:ee.title}),o.jsx("p",{className:"text-xs text-gray-500",children:ee.message})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-400",children:new Date(ee.createdAt).toLocaleTimeString()}),o.jsx("button",{onClick:()=>te.markAdminNotifRead(ee.id),className:"p-1 hover:bg-gray-100 rounded",children:o.jsx(tr,{className:"w-4 h-4 text-green-600"})})]})]},G))})]})})(),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[{label:"Total Users",value:E,icon:Du,color:w.navy},{label:"Total Deposits",value:`$${A.toLocaleString()}`,icon:ls,color:w.green},{label:"Pending Deposits",value:k,icon:oo,color:w.gold},{label:"Pending Withdrawals",value:x,icon:Un,color:"#ef4444"}].map((C,ee)=>o.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ee*.1},className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-lg",children:[o.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-xl flex items-center justify-center mb-3",style:{background:`${C.color}15`},children:o.jsx(C.icon,{className:"w-5 h-5 lg:w-6 lg:h-6",style:{color:C.color}})}),o.jsx("p",{className:"text-gray-500 text-xs lg:text-sm",children:C.label}),o.jsx("p",{className:"text-xl lg:text-2xl font-bold",style:{color:C.color},children:C.value})]},ee))}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[o.jsx("h3",{className:"font-serif text-lg mb-4",style:{color:w.navy},children:"Recent Transactions"}),o.jsxs("div",{className:"space-y-3",children:[i.slice(0,5).map((C,ee)=>{var G;return o.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 rounded-xl bg-gray-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 lg:w-10 lg:h-10 rounded-full flex items-center justify-center ${C.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:C.type==="deposit"?o.jsx(ls,{className:"w-4 h-4 lg:w-5 lg:h-5 text-green-600"}):o.jsx(Un,{className:"w-4 h-4 lg:w-5 lg:h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:C.type==="deposit"?"Deposit":"Withdrawal"}),o.jsx("p",{className:"text-xs text-gray-500",children:C.userEmail})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold text-sm lg:text-base",children:["$",(G=C.amount)==null?void 0:G.toLocaleString()]}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.status==="completed"?"bg-green-100 text-green-700":C.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:C.status})]})]},ee)}),i.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-8",children:"No transactions yet"})]})]})]}),e==="users"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"User Management"}),o.jsxs(U.button,{onClick:()=>Z(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:w.navy},children:[o.jsx(Ca,{className:"w-4 h-4"})," Broadcast Message"]})]}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsxs("p",{className:"text-gray-500 text-sm",children:[s.length," registered users"]})}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[s.map((C,ee)=>{var G,le;return o.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${C.status==="banned"?"bg-red-50":C.status==="suspended"?"bg-yellow-50":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold text-sm relative",style:{background:C.status==="banned"?"#ef4444":C.status==="suspended"?"#f59e0b":`linear-gradient(135deg, ${w.navy} 0%, ${w.navyLight} 100%)`},children:[((G=C.name)==null?void 0:G.charAt(0))||((le=C.email)==null?void 0:le.charAt(0))||"U",C.status==="banned"&&o.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-600 rounded-full flex items-center justify-center",children:o.jsx(fn,{className:"w-3 h-3 text-white"})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:C.name||"No Name"}),C.status==="banned"&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-red-100 text-red-700",children:"Banned"}),C.status==="suspended"&&o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700",children:"Suspended"})]}),o.jsx("p",{className:"text-xs text-gray-500",children:C.email})]})]}),o.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[o.jsxs("div",{className:"text-right hidden sm:block",children:[o.jsxs("p",{className:"font-bold text-sm",style:{color:w.green},children:["$",(C.balance||0).toLocaleString()]}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.kycStatus==="verified"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:C.kycStatus||"pending"})]}),o.jsx(U.button,{onClick:()=>{at(C),B(!0)},whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-blue-100",title:"Send Message",children:o.jsx(Xn,{className:"w-4 h-4 text-blue-500"})}),o.jsx(U.button,{onClick:()=>p(C),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg hover:bg-gray-100",title:"Edit User",children:o.jsx(_m,{className:"w-4 h-4 text-gray-500"})})]})]})},ee)}),s.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-12",children:"No users registered yet"})]})]}),o.jsx(yt,{children:h&&o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:o.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",onClick:C=>C.stopPropagation(),children:[o.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:["Edit User: ",h.name||h.email]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Balance ($)"}),o.jsx("input",{type:"number",value:h.balance||0,onChange:C=>p({...h,balance:parseFloat(C.target.value)||0}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KYC Status"}),o.jsxs("select",{value:h.kycStatus||"pending",onChange:C=>p({...h,kycStatus:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"verified",children:"Verified"}),o.jsx("option",{value:"rejected",children:"Rejected"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Status"}),o.jsxs("select",{value:h.status||"active",onChange:C=>p({...h,status:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",children:[o.jsx("option",{value:"active",children:" Active"}),o.jsx("option",{value:"suspended",children:" Suspended"}),o.jsx("option",{value:"banned",children:" Banned"})]}),h.status==="suspended"&&o.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"User can't withdraw or invest while suspended"}),h.status==="banned"&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"User cannot access their account"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(U.button,{onClick:()=>p(null),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),o.jsx(U.button,{onClick:()=>S(h.uid,h),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:w.navy},children:"Save Changes"})]})]})})}),o.jsx(yt,{children:W&&o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>Z(!1),children:o.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:C=>C.stopPropagation(),children:[o.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:" Broadcast Message to All Users"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Title"}),o.jsx("input",{type:"text",value:De,onChange:C=>qt(C.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Important Announcement"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),o.jsx("textarea",{rows:4,value:We,onChange:C=>Lt(C.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message to all users..."})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" This message will be sent to ",o.jsx("strong",{children:s.length})," users"]})})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(U.button,{onClick:()=>Z(!1),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),o.jsxs(U.button,{onClick:Co,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:w.navy},children:[o.jsx(Ca,{className:"w-4 h-4"})," Send to All"]})]})]})})}),o.jsx(yt,{children:ae&&re&&o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{B(!1),at(null)},children:o.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl",onClick:C=>C.stopPropagation(),children:[o.jsxs("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:[" Message to ",re.name||re.email]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),o.jsx("input",{type:"text",value:Kn,onChange:C=>Qn(C.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"Account Update"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),o.jsx("textarea",{rows:4,value:kn,onChange:C=>rn(C.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Enter your message..."})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(U.button,{onClick:()=>{B(!1),at(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),o.jsxs(U.button,{onClick:Po,whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white flex items-center justify-center gap-2",style:{background:w.green},children:[o.jsx(Ca,{className:"w-4 h-4"})," Send Message"]})]})]})})})]}),e==="transactions"&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Transaction Management"}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-yellow-100 text-yellow-700",children:[k," pending deposits"]}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-orange-100 text-orange-700",children:[x," pending withdrawals"]})]})}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[i.map((C,ee)=>{var G;return o.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${C.type==="deposit"?"bg-green-100":"bg-orange-100"}`,children:C.type==="deposit"?o.jsx(ls,{className:"w-5 h-5 text-green-600"}):o.jsx(Un,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-sm",style:{color:w.navy},children:[C.type==="deposit"?"Deposit":"Withdrawal"," - ",C.crypto]}),o.jsx("p",{className:"text-xs text-gray-500",children:C.userEmail}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(C.createdAt).toLocaleString()})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-bold",children:["$",(G=C.amount)==null?void 0:G.toLocaleString()]}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.status==="completed"?"bg-green-100 text-green-700":C.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:C.status})]}),C.status==="pending"&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx(U.button,{onClick:()=>V(C.id,"completed"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-green-100 text-green-600 hover:bg-green-200",children:o.jsx(tr,{className:"w-4 h-4"})}),o.jsx(U.button,{onClick:()=>V(C.id,"rejected"),whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200",children:o.jsx(fn,{className:"w-4 h-4"})})]})]})]})},ee)}),i.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-12",children:"No transactions yet"})]})]})]}),e==="notifications"&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Activity Log"}),o.jsx("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:o.jsxs("div",{className:"divide-y divide-gray-100",children:[d.map((C,ee)=>o.jsx("div",{className:`p-4 ${C.read?"":"bg-blue-50"}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(er,{className:"w-5 h-5 text-gray-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:C.message}),o.jsx("p",{className:"text-xs text-gray-500",children:new Date(C.createdAt).toLocaleString()})]})]})},ee)),d.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-12",children:"No activity yet"})]})})]}),e==="pending"&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Pending Approvals"}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[jn.filter(C=>C.status==="pending").length," pending approvals"]})}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[jn.filter(C=>C.status==="pending").map((C,ee)=>{var G;return o.jsx("div",{className:"p-4 hover:bg-yellow-50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:" Pending"}),o.jsx("span",{className:"text-xs text-gray-400",children:new Date(C.createdAt).toLocaleDateString()})]}),o.jsx("p",{className:"font-semibold",style:{color:w.navy},children:C.investmentName}),o.jsx("p",{className:"text-sm text-gray-500",children:C.userEmail}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[o.jsxs("span",{className:"font-bold text-lg",style:{color:w.green},children:["$",(G=C.amount)==null?void 0:G.toLocaleString()]}),o.jsxs("span",{className:"text-gray-400",children:["via ",C.crypto]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(U.button,{onClick:()=>Ro(C),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg text-white text-sm font-medium",style:{background:w.green},children:[o.jsx(tr,{className:"w-4 h-4 inline mr-1"})," Approve"]}),o.jsxs(U.button,{onClick:()=>Do(C),whileHover:{scale:1.05},className:"px-4 py-2 rounded-lg bg-red-100 text-red-600 text-sm font-medium",children:[o.jsx(fn,{className:"w-4 h-4 inline mr-1"})," Reject"]})]})]})},ee)}),jn.filter(C=>C.status==="pending").length===0&&o.jsx("p",{className:"text-center text-gray-500 py-12",children:"No pending approvals"})]})]}),o.jsx("h3",{className:"font-serif text-lg mt-8 mb-4",style:{color:w.navy},children:"Recent Decisions"}),o.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:o.jsx("div",{className:"divide-y divide-gray-100",children:jn.filter(C=>C.status!=="pending").slice(0,10).map((C,ee)=>{var G;return o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:C.investmentName}),o.jsx("p",{className:"text-xs text-gray-500",children:C.userEmail})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${C.status==="approved"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:C.status==="approved"?" Approved":" Rejected"}),o.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",(G=C.amount)==null?void 0:G.toLocaleString()]})]})]})},ee)})})})]}),e==="investments"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl",style:{color:w.navy},children:"Investment Plans"}),o.jsxs(U.button,{onClick:()=>j(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-2 px-4 py-2 rounded-xl text-white text-sm font-medium",style:{background:w.green},children:[o.jsx(TR,{className:"w-4 h-4"})," Add Investment"]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[_.length," investment plans"]})}),o.jsx("div",{className:"divide-y divide-gray-100",children:_.map((C,ee)=>{var G;return o.jsx("div",{className:"p-4 hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center flex-shrink-0",children:o.jsx(hg,{className:"w-6 h-6 text-gray-500"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"font-semibold truncate",style:{color:w.navy},children:C.name}),o.jsxs("p",{className:"text-xs text-gray-500",children:[C.category,"  Min $",(G=C.min)==null?void 0:G.toLocaleString()]}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-700",children:C.returns}),o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-blue-100 text-blue-700",children:C.term}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.status==="Active"?"bg-green-100 text-green-700":C.status==="Funding"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:C.status})]})]})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx(U.button,{onClick:()=>P(C),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(SR,{className:"w-4 h-4"})}),o.jsx(U.button,{onClick:()=>He(C.id),whileHover:{scale:1.1},className:"p-2 rounded-lg bg-red-100 text-red-600",children:o.jsx(eN,{className:"w-4 h-4"})})]})]})},ee)})})]}),o.jsx(yt,{children:(R||N)&&o.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>{j(!1),P(null)},children:o.jsxs(U.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"bg-white rounded-2xl p-6 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:[o.jsx("h3",{className:"font-serif text-xl mb-4",style:{color:w.navy},children:N?"Edit Investment":"Add New Investment"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),o.jsx("input",{type:"text",value:(N==null?void 0:N.name)||Q.name,onChange:C=>N?P({...N,name:C.target.value}):de({...Q,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"Greenwich Towers"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),o.jsxs("select",{value:(N==null?void 0:N.category)||Q.category,onChange:C=>N?P({...N,category:C.target.value}):de({...Q,category:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[o.jsx("option",{children:"Real Estate"}),o.jsx("option",{children:"Cryptocurrency"}),o.jsx("option",{children:"Stocks & Bonds"}),o.jsx("option",{children:"Precious Metals"}),o.jsx("option",{children:"Investment Plans"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:(N==null?void 0:N.status)||Q.status,onChange:C=>N?P({...N,status:C.target.value}):de({...Q,status:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",children:[o.jsx("option",{children:"Funding"}),o.jsx("option",{children:"Active"}),o.jsx("option",{children:"Open"}),o.jsx("option",{children:"Closed"}),o.jsx("option",{children:"Coming Soon"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Returns (e.g. 12-15%)"}),o.jsx("input",{type:"text",value:(N==null?void 0:N.returns)||Q.returns,onChange:C=>N?P({...N,returns:C.target.value}):de({...Q,returns:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"12-15%"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Term (e.g. 24 months)"}),o.jsx("input",{type:"text",value:(N==null?void 0:N.term)||Q.term,onChange:C=>N?P({...N,term:C.target.value}):de({...Q,term:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"24 months"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Investment ($)"}),o.jsx("input",{type:"number",value:(N==null?void 0:N.min)||Q.min,onChange:C=>N?P({...N,min:parseInt(C.target.value)}):de({...Q,min:parseInt(C.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Funding Goal ($)"}),o.jsx("input",{type:"number",value:(N==null?void 0:N.goal)||Q.goal,onChange:C=>N?P({...N,goal:parseInt(C.target.value)}):de({...Q,goal:parseInt(C.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Progress (%)"}),o.jsx("input",{type:"number",min:"0",max:"100",value:(N==null?void 0:N.progress)||Q.progress,onChange:C=>N?P({...N,progress:parseInt(C.target.value)}):de({...Q,progress:parseInt(C.target.value)}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{rows:3,value:(N==null?void 0:N.desc)||Q.desc,onChange:C=>N?P({...N,desc:C.target.value}):de({...Q,desc:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl resize-none",placeholder:"Premium mixed-use development..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (optional)"}),o.jsx("input",{type:"text",value:(N==null?void 0:N.customImg)||"",onChange:C=>N?P({...N,customImg:C.target.value}):de({...Q,customImg:C.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-xl",placeholder:"https://example.com/image.jpg"})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx(U.button,{onClick:()=>{j(!1),P(null)},whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl border border-gray-200",children:"Cancel"}),o.jsx(U.button,{onClick:()=>ve(N||Q),whileHover:{scale:1.02},className:"flex-1 py-2.5 rounded-xl text-white",style:{background:w.green},children:N?"Save Changes":"Add Investment"})]})]})})})]}),e==="tickets"&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Support Tickets"}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b border-gray-100",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-purple-100 text-purple-700",children:[I," open tickets"]}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-700",children:[O.filter(C=>C.status==="closed").length," closed"]})]})}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[O.map((C,ee)=>o.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"font-mono text-xs px-2 py-0.5 rounded bg-gray-100",style:{color:w.navy},children:C.id}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.priority==="urgent"?"bg-red-100 text-red-700":C.priority==="high"?"bg-orange-100 text-orange-700":C.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:C.priority}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${C.status==="open"?"bg-purple-100 text-purple-700":C.status==="in-progress"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:C.status})]}),o.jsx("p",{className:"font-medium text-sm",style:{color:w.navy},children:C.subject}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["From: ",C.name," (",C.email,")"]}),o.jsx("p",{className:"text-xs text-gray-400",children:new Date(C.createdAt).toLocaleString()}),o.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:C.message})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[C.status==="open"&&o.jsxs(o.Fragment,{children:[o.jsx(U.button,{onClick:()=>{const G=O.map(le=>le.id===C.id?{...le,status:"in-progress"}:le);localStorage.setItem("saxovault_tickets",JSON.stringify(G)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-blue-100 text-blue-700 text-xs font-medium",children:"In Progress"}),o.jsxs(U.a,{href:`mailto:${C.email}?subject=Re: ${C.subject} [${C.id}]&body=Hi ${C.name},%0D%0A%0D%0AThank you for contacting SaxoVault Capital support.%0D%0A%0D%0A[Your response here]%0D%0A%0D%0ABest regards,%0D%0ASaxoVault Capital Support Team`,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-green-100 text-green-700 text-xs font-medium flex items-center gap-1",children:[o.jsx(Xn,{className:"w-3 h-3"})," Reply"]})]}),C.status!=="closed"&&o.jsx(U.button,{onClick:()=>{const G=O.map(le=>le.id===C.id?{...le,status:"closed"}:le);localStorage.setItem("saxovault_tickets",JSON.stringify(G)),window.location.reload()},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-3 py-1.5 rounded-lg bg-gray-100 text-gray-700 text-xs font-medium",children:"Close"})]})]})},ee)),O.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-12",children:"No tickets yet"})]})]})]}),e==="settings"&&o.jsxs("div",{children:[o.jsx("h2",{className:"font-serif text-xl lg:text-2xl mb-6",style:{color:w.navy},children:"Platform Settings"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[o.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[o.jsx(vv,{className:"w-5 h-5"})," Deposit Wallet Addresses"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bitcoin (BTC)"}),o.jsx("input",{type:"text",value:((tt=l.wallets)==null?void 0:tt.btc)||"",onChange:C=>u({...l,wallets:{...l.wallets,btc:C.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ethereum (ETH)"}),o.jsx("input",{type:"text",value:((lt=l.wallets)==null?void 0:lt.eth)||"",onChange:C=>u({...l,wallets:{...l.wallets,eth:C.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USDT (TRC-20)"}),o.jsx("input",{type:"text",value:((Er=l.wallets)==null?void 0:Er.usdt)||"",onChange:C=>u({...l,wallets:{...l.wallets,usdt:C.target.value}}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl font-mono text-sm"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[o.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[o.jsx(J2,{className:"w-5 h-5"})," Contact Settings"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),o.jsx("input",{type:"text",value:l.whatsapp||"",onChange:C=>u({...l,whatsapp:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl",placeholder:"+1234567890"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Support Email"}),o.jsx("input",{type:"email",value:l.email||"",onChange:C=>u({...l,email:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl shadow-lg p-4 lg:p-6",children:[o.jsxs("h3",{className:"font-serif text-lg mb-4 flex items-center gap-2",style:{color:w.navy},children:[o.jsx(ao,{className:"w-5 h-5"})," Site Settings"]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site Name"}),o.jsx("input",{type:"text",value:l.siteName||"",onChange:C=>u({...l,siteName:C.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-xl"})]})]}),o.jsx(U.button,{onClick:()=>M(l),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${w.green} 0%, ${w.greenDark} 100%)`},children:"Save All Settings"})]})]})]})]})]})}function A6(){const[t,e]=D.useState(!1),[n,s]=D.useState(!1),[r,i]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState("home"),[f,h]=D.useState(null),[p,y]=D.useState(!1),[b,E]=D.useState({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),A=(M,O)=>{const I=JSON.parse(localStorage.getItem("saxovault_activity_logs")||"{}");I[O]||(I[O]=[]),I[O].unshift({type:M,timestamp:new Date().toISOString(),ip:"User IP",device:navigator.userAgent.includes("Mobile")?"Mobile Device":"Desktop Browser"}),I[O]=I[O].slice(0,50),localStorage.setItem("saxovault_activity_logs",JSON.stringify(I))};D.useEffect(()=>{(window.location.pathname==="/admin"||window.location.hash==="#admin")&&i(!0),localStorage.getItem("saxovault_admin")==="true"&&(s(!0),i(!0))},[]);const k=M=>{if(M){E({name:M.name||"",email:M.email||"",phone:M.phone||"",country:M.country||"",balance:M.balance||0,profileImage:M.profileImage||null}),A("login",M.email);const O=te.getUsers();if(!O.find(v=>v.email===M.email)&&(O.push({...M,uid:M.uid||Date.now().toString(),createdAt:new Date().toISOString(),balance:0,totalDeposited:0,totalWithdrawn:0,totalEarnings:0,activeInvestments:0,referralEarnings:0,referralCount:0,onboardingComplete:!1}),te.setUsers(O),l(!0),te.notifyAdmin({type:"new_user",title:" New User Registration",message:`${M.name||"New user"} (${M.email}) just registered`,urgent:!0,actionRequired:!1}),M.referralCode)){const v=O.find(N=>N.referralCode===M.referralCode||N.uid===M.referralCode);if(v){Pe.sendReferralNotification(v.email,M.name||M.email);const N=JSON.parse(localStorage.getItem("saxovault_user_notifications")||"{}");N[v.uid]||(N[v.uid]=[]),N[v.uid].unshift({id:Date.now(),type:"referral",title:" New Referral!",message:`${M.name||"Someone"} signed up using your referral link!`,read:!1,createdAt:new Date().toISOString()}),localStorage.setItem("saxovault_user_notifications",JSON.stringify(N)),te.notifyAdmin({type:"referral",title:" New Referral Signup",message:`${M.email} signed up via ${v.email}'s referral`,urgent:!1,actionRequired:!1})}}localStorage.setItem("saxovault_current_user",JSON.stringify(M))}e(!0)},x=async()=>{try{b.email&&A("logout",b.email),await t6()}catch{}e(!1),E({name:"",email:"",phone:"",address:"",balance:0,profileImage:null}),localStorage.removeItem("saxovault_current_user")},S=()=>{localStorage.removeItem("saxovault_admin"),s(!1),i(!1)};if(r&&!n)return o.jsx(k6,{onLogin:()=>s(!0)});if(n)return o.jsx(j6,{onLogout:S});if(!t)return o.jsx(u6,{onLogin:k});const V=M=>h(M);return o.jsxs("div",{className:"min-h-screen",style:{background:w.cream},children:[o.jsx(yt,{children:a&&o.jsx(a6,{onComplete:()=>l(!1)})}),o.jsx(d6,{activePage:u,onNavigate:d,user:b,onLogout:x}),o.jsxs(yt,{children:[f&&!p&&o.jsx(y6,{investment:f,onClose:()=>h(null),onInvest:()=>y(!0)}),p&&f&&o.jsx(x6,{investment:f,onClose:()=>{y(!1),h(null)},balance:b.balance})]}),o.jsxs(yt,{mode:"wait",children:[u==="home"&&o.jsx(p6,{onNavigate:d,onSelectInvestment:V},"home"),u==="investments"&&o.jsx(g6,{onSelectInvestment:V},"investments"),u==="dashboard"&&o.jsx(v6,{user:b,onNavigate:d},"dashboard"),u==="history"&&o.jsx(w6,{user:b},"history"),u==="notifications"&&o.jsx(_6,{user:b},"notifications"),u==="activity"&&o.jsx(b6,{user:b},"activity"),u==="referral"&&o.jsx(S6,{user:b},"referral"),u==="calculator"&&o.jsx(T6,{},"calculator"),u==="profile"&&o.jsx(E6,{user:b,setUser:E,onLogout:x},"profile")]}),o.jsx(h6,{activePage:u,onNavigate:d}),o.jsx(f6,{})]})}df.createRoot(document.getElementById("root")).render(o.jsx(nd.StrictMode,{children:o.jsx(A6,{})}));
